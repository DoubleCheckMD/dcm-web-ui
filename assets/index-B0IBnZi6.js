var c1=Object.defineProperty;var tE=a=>{throw TypeError(a)};var h1=(a,e,t)=>e in a?c1(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var Ce=(a,e,t)=>h1(a,typeof e!="symbol"?e+"":e,t),Qm=(a,e,t)=>e.has(a)||tE("Cannot "+t);var c=(a,e,t)=>(Qm(a,e,"read from private field"),t?t.call(a):e.get(a)),T=(a,e,t)=>e.has(a)?tE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t),b=(a,e,t,n)=>(Qm(a,e,"write to private field"),n?n.call(a,t):e.set(a,t),t),x=(a,e,t)=>(Qm(a,e,"access private method"),t);var gn=(a,e,t,n)=>({set _(r){b(a,e,r,t)},get _(){return c(a,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function d1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Jm={exports:{}},yc={},Zm={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function f1(){if(nE)return Oe;nE=1;var a=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function k(D,q,ue){this.props=D,this.context=q,this.refs=S,this.updater=ue||A}k.prototype.isReactComponent={},k.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=k.prototype;function R(D,q,ue){this.props=D,this.context=q,this.refs=S,this.updater=ue||A}var L=R.prototype=new C;L.constructor=R,E(L,k.prototype),L.isPureReactComponent=!0;var I=Array.isArray,j=Object.prototype.hasOwnProperty,O={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function W(D,q,ue){var Ee,Te={},ve=null,ye=null;if(q!=null)for(Ee in q.ref!==void 0&&(ye=q.ref),q.key!==void 0&&(ve=""+q.key),q)j.call(q,Ee)&&!z.hasOwnProperty(Ee)&&(Te[Ee]=q[Ee]);var Ie=arguments.length-2;if(Ie===1)Te.children=ue;else if(1<Ie){for(var He=Array(Ie),De=0;De<Ie;De++)He[De]=arguments[De+2];Te.children=He}if(D&&D.defaultProps)for(Ee in Ie=D.defaultProps,Ie)Te[Ee]===void 0&&(Te[Ee]=Ie[Ee]);return{$$typeof:a,type:D,key:ve,ref:ye,props:Te,_owner:O.current}}function X(D,q){return{$$typeof:a,type:D.type,key:q,ref:D.ref,props:D.props,_owner:D._owner}}function te(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function se(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return q[ue]})}var _e=/\/+/g;function pe(D,q){return typeof D=="object"&&D!==null&&D.key!=null?se(""+D.key):q.toString(36)}function de(D,q,ue,Ee,Te){var ve=typeof D;(ve==="undefined"||ve==="boolean")&&(D=null);var ye=!1;if(D===null)ye=!0;else switch(ve){case"string":case"number":ye=!0;break;case"object":switch(D.$$typeof){case a:case e:ye=!0}}if(ye)return ye=D,Te=Te(ye),D=Ee===""?"."+pe(ye,0):Ee,I(Te)?(ue="",D!=null&&(ue=D.replace(_e,"$&/")+"/"),de(Te,q,ue,"",function(De){return De})):Te!=null&&(te(Te)&&(Te=X(Te,ue+(!Te.key||ye&&ye.key===Te.key?"":(""+Te.key).replace(_e,"$&/")+"/")+D)),q.push(Te)),1;if(ye=0,Ee=Ee===""?".":Ee+":",I(D))for(var Ie=0;Ie<D.length;Ie++){ve=D[Ie];var He=Ee+pe(ve,Ie);ye+=de(ve,q,ue,He,Te)}else if(He=v(D),typeof He=="function")for(D=He.call(D),Ie=0;!(ve=D.next()).done;)ve=ve.value,He=Ee+pe(ve,Ie++),ye+=de(ve,q,ue,He,Te);else if(ve==="object")throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ye}function Ae(D,q,ue){if(D==null)return D;var Ee=[],Te=0;return de(D,Ee,"","",function(ve){return q.call(ue,ve,Te++)}),Ee}function me(D){if(D._status===-1){var q=D._result;q=q(),q.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var Z={current:null},G={transition:null},ae={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:G,ReactCurrentOwner:O};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Ae,forEach:function(D,q,ue){Ae(D,function(){q.apply(this,arguments)},ue)},count:function(D){var q=0;return Ae(D,function(){q++}),q},toArray:function(D){return Ae(D,function(q){return q})||[]},only:function(D){if(!te(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Oe.Component=k,Oe.Fragment=t,Oe.Profiler=r,Oe.PureComponent=R,Oe.StrictMode=n,Oe.Suspense=d,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Oe.act=ee,Oe.cloneElement=function(D,q,ue){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Ee=E({},D.props),Te=D.key,ve=D.ref,ye=D._owner;if(q!=null){if(q.ref!==void 0&&(ve=q.ref,ye=O.current),q.key!==void 0&&(Te=""+q.key),D.type&&D.type.defaultProps)var Ie=D.type.defaultProps;for(He in q)j.call(q,He)&&!z.hasOwnProperty(He)&&(Ee[He]=q[He]===void 0&&Ie!==void 0?Ie[He]:q[He])}var He=arguments.length-2;if(He===1)Ee.children=ue;else if(1<He){Ie=Array(He);for(var De=0;De<He;De++)Ie[De]=arguments[De+2];Ee.children=Ie}return{$$typeof:a,type:D.type,key:Te,ref:ve,props:Ee,_owner:ye}},Oe.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:o,_context:D},D.Consumer=D},Oe.createElement=W,Oe.createFactory=function(D){var q=W.bind(null,D);return q.type=D,q},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:h,render:D}},Oe.isValidElement=te,Oe.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:me}},Oe.memo=function(D,q){return{$$typeof:p,type:D,compare:q===void 0?null:q}},Oe.startTransition=function(D){var q=G.transition;G.transition={};try{D()}finally{G.transition=q}},Oe.unstable_act=ee,Oe.useCallback=function(D,q){return Z.current.useCallback(D,q)},Oe.useContext=function(D){return Z.current.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D){return Z.current.useDeferredValue(D)},Oe.useEffect=function(D,q){return Z.current.useEffect(D,q)},Oe.useId=function(){return Z.current.useId()},Oe.useImperativeHandle=function(D,q,ue){return Z.current.useImperativeHandle(D,q,ue)},Oe.useInsertionEffect=function(D,q){return Z.current.useInsertionEffect(D,q)},Oe.useLayoutEffect=function(D,q){return Z.current.useLayoutEffect(D,q)},Oe.useMemo=function(D,q){return Z.current.useMemo(D,q)},Oe.useReducer=function(D,q,ue){return Z.current.useReducer(D,q,ue)},Oe.useRef=function(D){return Z.current.useRef(D)},Oe.useState=function(D){return Z.current.useState(D)},Oe.useSyncExternalStore=function(D,q,ue){return Z.current.useSyncExternalStore(D,q,ue)},Oe.useTransition=function(){return Z.current.useTransition()},Oe.version="18.3.1",Oe}var sE;function Vv(){return sE||(sE=1,Zm.exports=f1()),Zm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function p1(){if(iE)return yc;iE=1;var a=Vv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(h,d,p){var g,y={},v=null,A=null;p!==void 0&&(v=""+p),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(A=d.ref);for(g in d)n.call(d,g)&&!o.hasOwnProperty(g)&&(y[g]=d[g]);if(h&&h.defaultProps)for(g in d=h.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:h,key:v,ref:A,props:y,_owner:r.current}}return yc.Fragment=t,yc.jsx=l,yc.jsxs=l,yc}var rE;function g1(){return rE||(rE=1,Jm.exports=p1()),Jm.exports}var V=g1(),N=Vv(),Rf={},ey={exports:{}},kn={},ty={exports:{}},ny={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function m1(){return oE||(oE=1,function(a){function e(G,ae){var ee=G.length;G.push(ae);e:for(;0<ee;){var D=ee-1>>>1,q=G[D];if(0<r(q,ae))G[D]=ae,G[ee]=q,ee=D;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ae=G[0],ee=G.pop();if(ee!==ae){G[0]=ee;e:for(var D=0,q=G.length,ue=q>>>1;D<ue;){var Ee=2*(D+1)-1,Te=G[Ee],ve=Ee+1,ye=G[ve];if(0>r(Te,ee))ve<q&&0>r(ye,Te)?(G[D]=ye,G[ve]=ee,D=ve):(G[D]=Te,G[Ee]=ee,D=Ee);else if(ve<q&&0>r(ye,ee))G[D]=ye,G[ve]=ee,D=ve;else break e}}return ae}function r(G,ae){var ee=G.sortIndex-ae.sortIndex;return ee!==0?ee:G.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();a.unstable_now=function(){return l.now()-h}}var d=[],p=[],g=1,y=null,v=3,A=!1,E=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(G){for(var ae=t(p);ae!==null;){if(ae.callback===null)n(p);else if(ae.startTime<=G)n(p),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=t(p)}}function I(G){if(S=!1,L(G),!E)if(t(d)!==null)E=!0,me(j);else{var ae=t(p);ae!==null&&Z(I,ae.startTime-G)}}function j(G,ae){E=!1,S&&(S=!1,C(W),W=-1),A=!0;var ee=v;try{for(L(ae),y=t(d);y!==null&&(!(y.expirationTime>ae)||G&&!se());){var D=y.callback;if(typeof D=="function"){y.callback=null,v=y.priorityLevel;var q=D(y.expirationTime<=ae);ae=a.unstable_now(),typeof q=="function"?y.callback=q:y===t(d)&&n(d),L(ae)}else n(d);y=t(d)}if(y!==null)var ue=!0;else{var Ee=t(p);Ee!==null&&Z(I,Ee.startTime-ae),ue=!1}return ue}finally{y=null,v=ee,A=!1}}var O=!1,z=null,W=-1,X=5,te=-1;function se(){return!(a.unstable_now()-te<X)}function _e(){if(z!==null){var G=a.unstable_now();te=G;var ae=!0;try{ae=z(!0,G)}finally{ae?pe():(O=!1,z=null)}}else O=!1}var pe;if(typeof R=="function")pe=function(){R(_e)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Ae=de.port2;de.port1.onmessage=_e,pe=function(){Ae.postMessage(null)}}else pe=function(){k(_e,0)};function me(G){z=G,O||(O=!0,pe())}function Z(G,ae){W=k(function(){G(a.unstable_now())},ae)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_continueExecution=function(){E||A||(E=!0,me(j))},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_getFirstCallbackNode=function(){return t(d)},a.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var ee=v;v=ae;try{return G()}finally{v=ee}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=v;v=G;try{return ae()}finally{v=ee}},a.unstable_scheduleCallback=function(G,ae,ee){var D=a.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?D+ee:D):ee=D,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ee+q,G={id:g++,callback:ae,priorityLevel:G,startTime:ee,expirationTime:q,sortIndex:-1},ee>D?(G.sortIndex=ee,e(p,G),t(d)===null&&G===t(p)&&(S?(C(W),W=-1):S=!0,Z(I,ee-D))):(G.sortIndex=q,e(d,G),E||A||(E=!0,me(j))),G},a.unstable_shouldYield=se,a.unstable_wrapCallback=function(G){var ae=v;return function(){var ee=v;v=ae;try{return G.apply(this,arguments)}finally{v=ee}}}}(ny)),ny}var aE;function y1(){return aE||(aE=1,ty.exports=m1()),ty.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function v1(){if(lE)return kn;lE=1;var a=Vv(),e=y1();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function o(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(r[s]=i,s=0;s<i.length;s++)n.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(s){return d.call(y,s)?!0:d.call(g,s)?!1:p.test(s)?y[s]=!0:(g[s]=!0,!1)}function A(s,i,u,f){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,i,u,f){if(i===null||typeof i>"u"||A(s,i,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(s,i,u,f,m,w,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=i,this.sanitizeURL=w,this.removeEmptyString=_}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];k[i]=new S(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(C,R);k[i]=new S(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(C,R);k[i]=new S(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(C,R);k[i]=new S(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,i,u,f){var m=k.hasOwnProperty(i)?k[i]:null;(m!==null?m.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,u,m,f)&&(u=null),f||m===null?v(i)&&(u===null?s.removeAttribute(i):s.setAttribute(i,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(i=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(i):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,i,u):s.setAttribute(i,u))))}var I=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),O=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),se=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),G=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Object.assign,D;function q(s){if(D===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||""}return`
`+D+s}var ue=!1;function Ee(s,i){if(!s||ue)return"";ue=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var f=U}Reflect.construct(s,[],i)}else{try{i.call()}catch(U){f=U}s.call(i.prototype)}else{try{throw Error()}catch(U){f=U}s()}}catch(U){if(U&&f&&typeof U.stack=="string"){for(var m=U.stack.split(`
`),w=f.stack.split(`
`),_=m.length-1,P=w.length-1;1<=_&&0<=P&&m[_]!==w[P];)P--;for(;1<=_&&0<=P;_--,P--)if(m[_]!==w[P]){if(_!==1||P!==1)do if(_--,P--,0>P||m[_]!==w[P]){var M=`
`+m[_].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=_&&0<=P);break}}}finally{ue=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?q(s):""}function Te(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=Ee(s.type,!1),s;case 11:return s=Ee(s.type.render,!1),s;case 1:return s=Ee(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case O:return"Portal";case X:return"Profiler";case W:return"StrictMode";case pe:return"Suspense";case de:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case se:return(s.displayName||"Context")+".Consumer";case te:return(s._context.displayName||"Context")+".Provider";case _e:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ae:return i=s.displayName||null,i!==null?i:ve(s.type)||"Memo";case me:i=s._payload,s=s._init;try{return ve(s(i))}catch{}}return null}function ye(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function He(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function De(s){var i=He(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,w=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(_){f=""+_,w.call(this,_)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(_){f=""+_},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Bs(s){s._valueTracker||(s._valueTracker=De(s))}function ur(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var u=i.getValue(),f="";return s&&(f=He(s)?s.checked?"true":"false":s.value),s=f,s!==u?(i.setValue(s),!0):!1}function Ve(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ot(s,i){var u=i.checked;return ee({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Tt(s,i){var u=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;u=Ie(i.value!=null?i.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function wt(s,i){i=i.checked,i!=null&&L(s,"checked",i,!1)}function zs(s,i){wt(s,i);var u=Ie(i.value),f=i.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Mu(s,i.type,u):i.hasOwnProperty("defaultValue")&&Mu(s,i.type,Ie(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function cr(s,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,u||i===s.value||(s.value=i),s.defaultValue=i}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Mu(s,i,u){(i!=="number"||Ve(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var go=Array.isArray;function gs(s,i,u,f){if(s=s.options,i){i={};for(var m=0;m<u.length;m++)i["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=i.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Ie(u),i=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Iu(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ee({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function yd(s,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(t(92));if(go(u)){if(1<u.length)throw Error(t(93));u=u[0]}i=u}i==null&&(i=""),u=i}s._wrapperState={initialValue:Ie(u)}}function vd(s,i){var u=Ie(i.value),f=Ie(i.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),i.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function wd(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Ad(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Us(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Ad(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var yi,mo=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(i,u,f,m)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(yi=yi||document.createElement("div"),yi.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=yi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function vi(s,i){if(i){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=i;return}}s.textContent=i}var Fu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gx=["Webkit","ms","Moz","O"];Object.keys(Fu).forEach(function(s){gx.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Fu[i]=Fu[s]})});function mw(s,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Fu.hasOwnProperty(s)&&Fu[s]?(""+i).trim():i+"px"}function yw(s,i){s=s.style;for(var u in i)if(i.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=mw(u,i[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var mx=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ug(s,i){if(i){if(mx[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function cg(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hg=null;function dg(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fg=null,Ga=null,qa=null;function vw(s){if(s=nc(s)){if(typeof fg!="function")throw Error(t(280));var i=s.stateNode;i&&(i=$d(i),fg(s.stateNode,s.type,i))}}function ww(s){Ga?qa?qa.push(s):qa=[s]:Ga=s}function Aw(){if(Ga){var s=Ga,i=qa;if(qa=Ga=null,vw(s),i)for(s=0;s<i.length;s++)vw(i[s])}}function Ew(s,i){return s(i)}function Sw(){}var pg=!1;function bw(s,i,u){if(pg)return s(i,u);pg=!0;try{return Ew(s,i,u)}finally{pg=!1,(Ga!==null||qa!==null)&&(Sw(),Aw())}}function Nu(s,i){var u=s.stateNode;if(u===null)return null;var f=$d(u);if(f===null)return null;u=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,i,typeof u));return u}var gg=!1;if(h)try{var Du={};Object.defineProperty(Du,"passive",{get:function(){gg=!0}}),window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{gg=!1}function yx(s,i,u,f,m,w,_,P,M){var U=Array.prototype.slice.call(arguments,3);try{i.apply(u,U)}catch(Y){this.onError(Y)}}var Ou=!1,Ed=null,Sd=!1,mg=null,vx={onError:function(s){Ou=!0,Ed=s}};function wx(s,i,u,f,m,w,_,P,M){Ou=!1,Ed=null,yx.apply(vx,arguments)}function Ax(s,i,u,f,m,w,_,P,M){if(wx.apply(this,arguments),Ou){if(Ou){var U=Ed;Ou=!1,Ed=null}else throw Error(t(198));Sd||(Sd=!0,mg=U)}}function yo(s){var i=s,u=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,i.flags&4098&&(u=i.return),s=i.return;while(s)}return i.tag===3?u:null}function _w(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function xw(s){if(yo(s)!==s)throw Error(t(188))}function Ex(s){var i=s.alternate;if(!i){if(i=yo(s),i===null)throw Error(t(188));return i!==s?null:s}for(var u=s,f=i;;){var m=u.return;if(m===null)break;var w=m.alternate;if(w===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===u)return xw(m),s;if(w===f)return xw(m),i;w=w.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=w;else{for(var _=!1,P=m.child;P;){if(P===u){_=!0,u=m,f=w;break}if(P===f){_=!0,f=m,u=w;break}P=P.sibling}if(!_){for(P=w.child;P;){if(P===u){_=!0,u=w,f=m;break}if(P===f){_=!0,f=w,u=m;break}P=P.sibling}if(!_)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:i}function Cw(s){return s=Ex(s),s!==null?kw(s):null}function kw(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=kw(s);if(i!==null)return i;s=s.sibling}return null}var Tw=e.unstable_scheduleCallback,Rw=e.unstable_cancelCallback,Sx=e.unstable_shouldYield,bx=e.unstable_requestPaint,At=e.unstable_now,_x=e.unstable_getCurrentPriorityLevel,yg=e.unstable_ImmediatePriority,Pw=e.unstable_UserBlockingPriority,bd=e.unstable_NormalPriority,xx=e.unstable_LowPriority,Lw=e.unstable_IdlePriority,_d=null,$s=null;function Cx(s){if($s&&typeof $s.onCommitFiberRoot=="function")try{$s.onCommitFiberRoot(_d,s,void 0,(s.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:Rx,kx=Math.log,Tx=Math.LN2;function Rx(s){return s>>>=0,s===0?32:31-(kx(s)/Tx|0)|0}var xd=64,Cd=4194304;function ju(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function kd(s,i){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,w=s.pingedLanes,_=u&268435455;if(_!==0){var P=_&~m;P!==0?f=ju(P):(w&=_,w!==0&&(f=ju(w)))}else _=u&~m,_!==0?f=ju(_):w!==0&&(f=ju(w));if(f===0)return 0;if(i!==0&&i!==f&&!(i&m)&&(m=f&-f,w=i&-i,m>=w||m===16&&(w&4194240)!==0))return i;if(f&4&&(f|=u&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)u=31-ms(i),m=1<<u,f|=s[u],i&=~m;return f}function Px(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lx(s,i){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,w=s.pendingLanes;0<w;){var _=31-ms(w),P=1<<_,M=m[_];M===-1?(!(P&u)||P&f)&&(m[_]=Px(P,i)):M<=i&&(s.expiredLanes|=P),w&=~P}}function vg(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Mw(){var s=xd;return xd<<=1,!(xd&4194240)&&(xd=64),s}function wg(s){for(var i=[],u=0;31>u;u++)i.push(s);return i}function Hu(s,i,u){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-ms(i),s[i]=u}function Mx(s,i){var u=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-ms(u),w=1<<m;i[m]=0,f[m]=-1,s[m]=-1,u&=~w}}function Ag(s,i){var u=s.entangledLanes|=i;for(s=s.entanglements;u;){var f=31-ms(u),m=1<<f;m&i|s[f]&i&&(s[f]|=i),u&=~m}}var qe=0;function Iw(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Fw,Eg,Nw,Dw,Ow,Sg=!1,Td=[],hr=null,dr=null,fr=null,Bu=new Map,zu=new Map,pr=[],Ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jw(s,i){switch(s){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Bu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(i.pointerId)}}function Uu(s,i,u,f,m,w){return s===null||s.nativeEvent!==w?(s={blockedOn:i,domEventName:u,eventSystemFlags:f,nativeEvent:w,targetContainers:[m]},i!==null&&(i=nc(i),i!==null&&Eg(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function Fx(s,i,u,f,m){switch(i){case"focusin":return hr=Uu(hr,s,i,u,f,m),!0;case"dragenter":return dr=Uu(dr,s,i,u,f,m),!0;case"mouseover":return fr=Uu(fr,s,i,u,f,m),!0;case"pointerover":var w=m.pointerId;return Bu.set(w,Uu(Bu.get(w)||null,s,i,u,f,m)),!0;case"gotpointercapture":return w=m.pointerId,zu.set(w,Uu(zu.get(w)||null,s,i,u,f,m)),!0}return!1}function Hw(s){var i=vo(s.target);if(i!==null){var u=yo(i);if(u!==null){if(i=u.tag,i===13){if(i=_w(u),i!==null){s.blockedOn=i,Ow(s.priority,function(){Nw(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Rd(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var u=_g(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);hg=f,u.target.dispatchEvent(f),hg=null}else return i=nc(u),i!==null&&Eg(i),s.blockedOn=u,!1;i.shift()}return!0}function Bw(s,i,u){Rd(s)&&u.delete(i)}function Nx(){Sg=!1,hr!==null&&Rd(hr)&&(hr=null),dr!==null&&Rd(dr)&&(dr=null),fr!==null&&Rd(fr)&&(fr=null),Bu.forEach(Bw),zu.forEach(Bw)}function $u(s,i){s.blockedOn===i&&(s.blockedOn=null,Sg||(Sg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nx)))}function Vu(s){function i(m){return $u(m,s)}if(0<Td.length){$u(Td[0],s);for(var u=1;u<Td.length;u++){var f=Td[u];f.blockedOn===s&&(f.blockedOn=null)}}for(hr!==null&&$u(hr,s),dr!==null&&$u(dr,s),fr!==null&&$u(fr,s),Bu.forEach(i),zu.forEach(i),u=0;u<pr.length;u++)f=pr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<pr.length&&(u=pr[0],u.blockedOn===null);)Hw(u),u.blockedOn===null&&pr.shift()}var Xa=I.ReactCurrentBatchConfig,Pd=!0;function Dx(s,i,u,f){var m=qe,w=Xa.transition;Xa.transition=null;try{qe=1,bg(s,i,u,f)}finally{qe=m,Xa.transition=w}}function Ox(s,i,u,f){var m=qe,w=Xa.transition;Xa.transition=null;try{qe=4,bg(s,i,u,f)}finally{qe=m,Xa.transition=w}}function bg(s,i,u,f){if(Pd){var m=_g(s,i,u,f);if(m===null)zg(s,i,f,Ld,u),jw(s,f);else if(Fx(m,s,i,u,f))f.stopPropagation();else if(jw(s,f),i&4&&-1<Ix.indexOf(s)){for(;m!==null;){var w=nc(m);if(w!==null&&Fw(w),w=_g(s,i,u,f),w===null&&zg(s,i,f,Ld,u),w===m)break;m=w}m!==null&&f.stopPropagation()}else zg(s,i,f,null,u)}}var Ld=null;function _g(s,i,u,f){if(Ld=null,s=dg(f),s=vo(s),s!==null)if(i=yo(s),i===null)s=null;else if(u=i.tag,u===13){if(s=_w(i),s!==null)return s;s=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Ld=s,null}function zw(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_x()){case yg:return 1;case Pw:return 4;case bd:case xx:return 16;case Lw:return 536870912;default:return 16}default:return 16}}var gr=null,xg=null,Md=null;function Uw(){if(Md)return Md;var s,i=xg,u=i.length,f,m="value"in gr?gr.value:gr.textContent,w=m.length;for(s=0;s<u&&i[s]===m[s];s++);var _=u-s;for(f=1;f<=_&&i[u-f]===m[w-f];f++);return Md=m.slice(s,1<f?1-f:void 0)}function Id(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Fd(){return!0}function $w(){return!1}function Dn(s){function i(u,f,m,w,_){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=w,this.target=_,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(u=s[P],this[P]=u?u(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Fd:$w,this.isPropagationStopped=$w,this}return ee(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Fd)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Fd)},persist:function(){},isPersistent:Fd}),i}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cg=Dn(Ka),Wu=ee({},Ka,{view:0,detail:0}),jx=Dn(Wu),kg,Tg,Gu,Nd=ee({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gu&&(Gu&&s.type==="mousemove"?(kg=s.screenX-Gu.screenX,Tg=s.screenY-Gu.screenY):Tg=kg=0,Gu=s),kg)},movementY:function(s){return"movementY"in s?s.movementY:Tg}}),Vw=Dn(Nd),Hx=ee({},Nd,{dataTransfer:0}),Bx=Dn(Hx),zx=ee({},Wu,{relatedTarget:0}),Rg=Dn(zx),Ux=ee({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),$x=Dn(Ux),Vx=ee({},Ka,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wx=Dn(Vx),Gx=ee({},Ka,{data:0}),Ww=Dn(Gx),qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yx(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Kx[s])?!!i[s]:!1}function Pg(){return Yx}var Qx=ee({},Wu,{key:function(s){if(s.key){var i=qx[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Id(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xx[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(s){return s.type==="keypress"?Id(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Id(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Jx=Dn(Qx),Zx=ee({},Nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gw=Dn(Zx),eC=ee({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),tC=Dn(eC),nC=ee({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),sC=Dn(nC),iC=ee({},Nd,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rC=Dn(iC),oC=[9,13,27,32],Lg=h&&"CompositionEvent"in window,qu=null;h&&"documentMode"in document&&(qu=document.documentMode);var aC=h&&"TextEvent"in window&&!qu,qw=h&&(!Lg||qu&&8<qu&&11>=qu),Xw=" ",Kw=!1;function Yw(s,i){switch(s){case"keyup":return oC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ya=!1;function lC(s,i){switch(s){case"compositionend":return Qw(i);case"keypress":return i.which!==32?null:(Kw=!0,Xw);case"textInput":return s=i.data,s===Xw&&Kw?null:s;default:return null}}function uC(s,i){if(Ya)return s==="compositionend"||!Lg&&Yw(s,i)?(s=Uw(),Md=xg=gr=null,Ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qw&&i.locale!=="ko"?null:i.data;default:return null}}var cC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jw(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!cC[s.type]:i==="textarea"}function Zw(s,i,u,f){ww(f),i=Bd(i,"onChange"),0<i.length&&(u=new Cg("onChange","change",null,u,f),s.push({event:u,listeners:i}))}var Xu=null,Ku=null;function hC(s){y0(s,0)}function Dd(s){var i=tl(s);if(ur(i))return s}function dC(s,i){if(s==="change")return i}var e0=!1;if(h){var Mg;if(h){var Ig="oninput"in document;if(!Ig){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),Ig=typeof t0.oninput=="function"}Mg=Ig}else Mg=!1;e0=Mg&&(!document.documentMode||9<document.documentMode)}function n0(){Xu&&(Xu.detachEvent("onpropertychange",s0),Ku=Xu=null)}function s0(s){if(s.propertyName==="value"&&Dd(Ku)){var i=[];Zw(i,Ku,s,dg(s)),bw(hC,i)}}function fC(s,i,u){s==="focusin"?(n0(),Xu=i,Ku=u,Xu.attachEvent("onpropertychange",s0)):s==="focusout"&&n0()}function pC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dd(Ku)}function gC(s,i){if(s==="click")return Dd(i)}function mC(s,i){if(s==="input"||s==="change")return Dd(i)}function yC(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var ys=typeof Object.is=="function"?Object.is:yC;function Yu(s,i){if(ys(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var u=Object.keys(s),f=Object.keys(i);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(i,m)||!ys(s[m],i[m]))return!1}return!0}function i0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function r0(s,i){var u=i0(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=i&&f>=i)return{node:u,offset:i-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=i0(u)}}function o0(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?o0(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function a0(){for(var s=window,i=Ve();i instanceof s.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)s=i.contentWindow;else break;i=Ve(s.document)}return i}function Fg(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function vC(s){var i=a0(),u=s.focusedElem,f=s.selectionRange;if(i!==u&&u&&u.ownerDocument&&o0(u.ownerDocument.documentElement,u)){if(f!==null&&Fg(u)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(s,u.value.length);else if(s=(i=u.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,w=Math.min(f.start,m);f=f.end===void 0?w:Math.min(f.end,m),!s.extend&&w>f&&(m=f,f=w,w=m),m=r0(u,w);var _=r0(u,f);m&&_&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),s.removeAllRanges(),w>f?(s.addRange(i),s.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),s.addRange(i)))}}for(i=[],s=u;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)s=i[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var wC=h&&"documentMode"in document&&11>=document.documentMode,Qa=null,Ng=null,Qu=null,Dg=!1;function l0(s,i,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Dg||Qa==null||Qa!==Ve(f)||(f=Qa,"selectionStart"in f&&Fg(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qu&&Yu(Qu,f)||(Qu=f,f=Bd(Ng,"onSelect"),0<f.length&&(i=new Cg("onSelect","select",null,i,u),s.push({event:i,listeners:f}),i.target=Qa)))}function Od(s,i){var u={};return u[s.toLowerCase()]=i.toLowerCase(),u["Webkit"+s]="webkit"+i,u["Moz"+s]="moz"+i,u}var Ja={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},Og={},u0={};h&&(u0=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function jd(s){if(Og[s])return Og[s];if(!Ja[s])return s;var i=Ja[s],u;for(u in i)if(i.hasOwnProperty(u)&&u in u0)return Og[s]=i[u];return s}var c0=jd("animationend"),h0=jd("animationiteration"),d0=jd("animationstart"),f0=jd("transitionend"),p0=new Map,g0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(s,i){p0.set(s,i),o(i,[s])}for(var jg=0;jg<g0.length;jg++){var Hg=g0[jg],AC=Hg.toLowerCase(),EC=Hg[0].toUpperCase()+Hg.slice(1);mr(AC,"on"+EC)}mr(c0,"onAnimationEnd"),mr(h0,"onAnimationIteration"),mr(d0,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(f0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ju));function m0(s,i,u){var f=s.type||"unknown-event";s.currentTarget=u,Ax(f,i,void 0,s),s.currentTarget=null}function y0(s,i){i=(i&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var w=void 0;if(i)for(var _=f.length-1;0<=_;_--){var P=f[_],M=P.instance,U=P.currentTarget;if(P=P.listener,M!==w&&m.isPropagationStopped())break e;m0(m,P,U),w=M}else for(_=0;_<f.length;_++){if(P=f[_],M=P.instance,U=P.currentTarget,P=P.listener,M!==w&&m.isPropagationStopped())break e;m0(m,P,U),w=M}}}if(Sd)throw s=mg,Sd=!1,mg=null,s}function st(s,i){var u=i[qg];u===void 0&&(u=i[qg]=new Set);var f=s+"__bubble";u.has(f)||(v0(i,s,2,!1),u.add(f))}function Bg(s,i,u){var f=0;i&&(f|=4),v0(u,s,f,i)}var Hd="_reactListening"+Math.random().toString(36).slice(2);function Zu(s){if(!s[Hd]){s[Hd]=!0,n.forEach(function(u){u!=="selectionchange"&&(SC.has(u)||Bg(u,!1,s),Bg(u,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Hd]||(i[Hd]=!0,Bg("selectionchange",!1,i))}}function v0(s,i,u,f){switch(zw(i)){case 1:var m=Dx;break;case 4:m=Ox;break;default:m=bg}u=m.bind(null,i,u,s),m=void 0,!gg||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(i,u,{capture:!0,passive:m}):s.addEventListener(i,u,!0):m!==void 0?s.addEventListener(i,u,{passive:m}):s.addEventListener(i,u,!1)}function zg(s,i,u,f,m){var w=f;if(!(i&1)&&!(i&2)&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var P=f.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(_===4)for(_=f.return;_!==null;){var M=_.tag;if((M===3||M===4)&&(M=_.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;_=_.return}for(;P!==null;){if(_=vo(P),_===null)return;if(M=_.tag,M===5||M===6){f=w=_;continue e}P=P.parentNode}}f=f.return}bw(function(){var U=w,Y=dg(u),Q=[];e:{var K=p0.get(s);if(K!==void 0){var re=Cg,ce=s;switch(s){case"keypress":if(Id(u)===0)break e;case"keydown":case"keyup":re=Jx;break;case"focusin":ce="focus",re=Rg;break;case"focusout":ce="blur",re=Rg;break;case"beforeblur":case"afterblur":re=Rg;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Vw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=tC;break;case c0:case h0:case d0:re=$x;break;case f0:re=sC;break;case"scroll":re=jx;break;case"wheel":re=rC;break;case"copy":case"cut":case"paste":re=Wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Gw}var he=(i&4)!==0,Et=!he&&s==="scroll",H=he?K!==null?K+"Capture":null:K;he=[];for(var F=U,B;F!==null;){B=F;var J=B.stateNode;if(B.tag===5&&J!==null&&(B=J,H!==null&&(J=Nu(F,H),J!=null&&he.push(ec(F,J,B)))),Et)break;F=F.return}0<he.length&&(K=new re(K,ce,null,u,Y),Q.push({event:K,listeners:he}))}}if(!(i&7)){e:{if(K=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",K&&u!==hg&&(ce=u.relatedTarget||u.fromElement)&&(vo(ce)||ce[wi]))break e;if((re||K)&&(K=Y.window===Y?Y:(K=Y.ownerDocument)?K.defaultView||K.parentWindow:window,re?(ce=u.relatedTarget||u.toElement,re=U,ce=ce?vo(ce):null,ce!==null&&(Et=yo(ce),ce!==Et||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(re=null,ce=U),re!==ce)){if(he=Vw,J="onMouseLeave",H="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(he=Gw,J="onPointerLeave",H="onPointerEnter",F="pointer"),Et=re==null?K:tl(re),B=ce==null?K:tl(ce),K=new he(J,F+"leave",re,u,Y),K.target=Et,K.relatedTarget=B,J=null,vo(Y)===U&&(he=new he(H,F+"enter",ce,u,Y),he.target=B,he.relatedTarget=Et,J=he),Et=J,re&&ce)t:{for(he=re,H=ce,F=0,B=he;B;B=Za(B))F++;for(B=0,J=H;J;J=Za(J))B++;for(;0<F-B;)he=Za(he),F--;for(;0<B-F;)H=Za(H),B--;for(;F--;){if(he===H||H!==null&&he===H.alternate)break t;he=Za(he),H=Za(H)}he=null}else he=null;re!==null&&w0(Q,K,re,he,!1),ce!==null&&Et!==null&&w0(Q,Et,ce,he,!0)}}e:{if(K=U?tl(U):window,re=K.nodeName&&K.nodeName.toLowerCase(),re==="select"||re==="input"&&K.type==="file")var fe=dC;else if(Jw(K))if(e0)fe=mC;else{fe=pC;var Se=fC}else(re=K.nodeName)&&re.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(fe=gC);if(fe&&(fe=fe(s,U))){Zw(Q,fe,u,Y);break e}Se&&Se(s,K,U),s==="focusout"&&(Se=K._wrapperState)&&Se.controlled&&K.type==="number"&&Mu(K,"number",K.value)}switch(Se=U?tl(U):window,s){case"focusin":(Jw(Se)||Se.contentEditable==="true")&&(Qa=Se,Ng=U,Qu=null);break;case"focusout":Qu=Ng=Qa=null;break;case"mousedown":Dg=!0;break;case"contextmenu":case"mouseup":case"dragend":Dg=!1,l0(Q,u,Y);break;case"selectionchange":if(wC)break;case"keydown":case"keyup":l0(Q,u,Y)}var be;if(Lg)e:{switch(s){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ya?Yw(s,u)&&(xe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(xe="onCompositionStart");xe&&(qw&&u.locale!=="ko"&&(Ya||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ya&&(be=Uw()):(gr=Y,xg="value"in gr?gr.value:gr.textContent,Ya=!0)),Se=Bd(U,xe),0<Se.length&&(xe=new Ww(xe,s,null,u,Y),Q.push({event:xe,listeners:Se}),be?xe.data=be:(be=Qw(u),be!==null&&(xe.data=be)))),(be=aC?lC(s,u):uC(s,u))&&(U=Bd(U,"onBeforeInput"),0<U.length&&(Y=new Ww("onBeforeInput","beforeinput",null,u,Y),Q.push({event:Y,listeners:U}),Y.data=be))}y0(Q,i)})}function ec(s,i,u){return{instance:s,listener:i,currentTarget:u}}function Bd(s,i){for(var u=i+"Capture",f=[];s!==null;){var m=s,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=Nu(s,u),w!=null&&f.unshift(ec(s,w,m)),w=Nu(s,i),w!=null&&f.push(ec(s,w,m))),s=s.return}return f}function Za(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function w0(s,i,u,f,m){for(var w=i._reactName,_=[];u!==null&&u!==f;){var P=u,M=P.alternate,U=P.stateNode;if(M!==null&&M===f)break;P.tag===5&&U!==null&&(P=U,m?(M=Nu(u,w),M!=null&&_.unshift(ec(u,M,P))):m||(M=Nu(u,w),M!=null&&_.push(ec(u,M,P)))),u=u.return}_.length!==0&&s.push({event:i,listeners:_})}var bC=/\r\n?/g,_C=/\u0000|\uFFFD/g;function A0(s){return(typeof s=="string"?s:""+s).replace(bC,`
`).replace(_C,"")}function zd(s,i,u){if(i=A0(i),A0(s)!==i&&u)throw Error(t(425))}function Ud(){}var Ug=null,$g=null;function Vg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wg=typeof setTimeout=="function"?setTimeout:void 0,xC=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,CC=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(s){return E0.resolve(null).then(s).catch(kC)}:Wg;function kC(s){setTimeout(function(){throw s})}function Gg(s,i){var u=i,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),Vu(i);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Vu(i)}function yr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function S0(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return s;i--}else u==="/$"&&i++}s=s.previousSibling}return null}var el=Math.random().toString(36).slice(2),Vs="__reactFiber$"+el,tc="__reactProps$"+el,wi="__reactContainer$"+el,qg="__reactEvents$"+el,TC="__reactListeners$"+el,RC="__reactHandles$"+el;function vo(s){var i=s[Vs];if(i)return i;for(var u=s.parentNode;u;){if(i=u[wi]||u[Vs]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(s=S0(s);s!==null;){if(u=s[Vs])return u;s=S0(s)}return i}s=u,u=s.parentNode}return null}function nc(s){return s=s[Vs]||s[wi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function tl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function $d(s){return s[tc]||null}var Xg=[],nl=-1;function vr(s){return{current:s}}function it(s){0>nl||(s.current=Xg[nl],Xg[nl]=null,nl--)}function et(s,i){nl++,Xg[nl]=s.current,s.current=i}var wr={},Zt=vr(wr),Sn=vr(!1),wo=wr;function sl(s,i){var u=s.type.contextTypes;if(!u)return wr;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in u)m[w]=i[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=m),m}function bn(s){return s=s.childContextTypes,s!=null}function Vd(){it(Sn),it(Zt)}function b0(s,i,u){if(Zt.current!==wr)throw Error(t(168));et(Zt,i),et(Sn,u)}function _0(s,i,u){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in i))throw Error(t(108,ye(s)||"Unknown",m));return ee({},u,f)}function Wd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||wr,wo=Zt.current,et(Zt,s),et(Sn,Sn.current),!0}function x0(s,i,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=_0(s,i,wo),f.__reactInternalMemoizedMergedChildContext=s,it(Sn),it(Zt),et(Zt,s)):it(Sn),et(Sn,u)}var Ai=null,Gd=!1,Kg=!1;function C0(s){Ai===null?Ai=[s]:Ai.push(s)}function PC(s){Gd=!0,C0(s)}function Ar(){if(!Kg&&Ai!==null){Kg=!0;var s=0,i=qe;try{var u=Ai;for(qe=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Ai=null,Gd=!1}catch(m){throw Ai!==null&&(Ai=Ai.slice(s+1)),Tw(yg,Ar),m}finally{qe=i,Kg=!1}}return null}var il=[],rl=0,qd=null,Xd=0,Zn=[],es=0,Ao=null,Ei=1,Si="";function Eo(s,i){il[rl++]=Xd,il[rl++]=qd,qd=s,Xd=i}function k0(s,i,u){Zn[es++]=Ei,Zn[es++]=Si,Zn[es++]=Ao,Ao=s;var f=Ei;s=Si;var m=32-ms(f)-1;f&=~(1<<m),u+=1;var w=32-ms(i)+m;if(30<w){var _=m-m%5;w=(f&(1<<_)-1).toString(32),f>>=_,m-=_,Ei=1<<32-ms(i)+m|u<<m|f,Si=w+s}else Ei=1<<w|u<<m|f,Si=s}function Yg(s){s.return!==null&&(Eo(s,1),k0(s,1,0))}function Qg(s){for(;s===qd;)qd=il[--rl],il[rl]=null,Xd=il[--rl],il[rl]=null;for(;s===Ao;)Ao=Zn[--es],Zn[es]=null,Si=Zn[--es],Zn[es]=null,Ei=Zn[--es],Zn[es]=null}var On=null,jn=null,at=!1,vs=null;function T0(s,i){var u=is(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=s,i=s.deletions,i===null?(s.deletions=[u],s.flags|=16):i.push(u)}function R0(s,i){switch(s.tag){case 5:var u=s.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,On=s,jn=yr(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,On=s,jn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=Ao!==null?{id:Ei,overflow:Si}:null,s.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=is(18,null,null,0),u.stateNode=i,u.return=s,s.child=u,On=s,jn=null,!0):!1;default:return!1}}function Jg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Zg(s){if(at){var i=jn;if(i){var u=i;if(!R0(s,i)){if(Jg(s))throw Error(t(418));i=yr(u.nextSibling);var f=On;i&&R0(s,i)?T0(f,u):(s.flags=s.flags&-4097|2,at=!1,On=s)}}else{if(Jg(s))throw Error(t(418));s.flags=s.flags&-4097|2,at=!1,On=s}}}function P0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;On=s}function Kd(s){if(s!==On)return!1;if(!at)return P0(s),at=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Vg(s.type,s.memoizedProps)),i&&(i=jn)){if(Jg(s))throw L0(),Error(t(418));for(;i;)T0(s,i),i=yr(i.nextSibling)}if(P0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(i===0){jn=yr(s.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}s=s.nextSibling}jn=null}}else jn=On?yr(s.stateNode.nextSibling):null;return!0}function L0(){for(var s=jn;s;)s=yr(s.nextSibling)}function ol(){jn=On=null,at=!1}function em(s){vs===null?vs=[s]:vs.push(s)}var LC=I.ReactCurrentBatchConfig;function sc(s,i,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var m=f,w=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(_){var P=m.refs;_===null?delete P[w]:P[w]=_},i._stringRef=w,i)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Yd(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function M0(s){var i=s._init;return i(s._payload)}function I0(s){function i(H,F){if(s){var B=H.deletions;B===null?(H.deletions=[F],H.flags|=16):B.push(F)}}function u(H,F){if(!s)return null;for(;F!==null;)i(H,F),F=F.sibling;return null}function f(H,F){for(H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function m(H,F){return H=Tr(H,F),H.index=0,H.sibling=null,H}function w(H,F,B){return H.index=B,s?(B=H.alternate,B!==null?(B=B.index,B<F?(H.flags|=2,F):B):(H.flags|=2,F)):(H.flags|=1048576,F)}function _(H){return s&&H.alternate===null&&(H.flags|=2),H}function P(H,F,B,J){return F===null||F.tag!==6?(F=Wm(B,H.mode,J),F.return=H,F):(F=m(F,B),F.return=H,F)}function M(H,F,B,J){var fe=B.type;return fe===z?Y(H,F,B.props.children,J,B.key):F!==null&&(F.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===me&&M0(fe)===F.type)?(J=m(F,B.props),J.ref=sc(H,F,B),J.return=H,J):(J=Ef(B.type,B.key,B.props,null,H.mode,J),J.ref=sc(H,F,B),J.return=H,J)}function U(H,F,B,J){return F===null||F.tag!==4||F.stateNode.containerInfo!==B.containerInfo||F.stateNode.implementation!==B.implementation?(F=Gm(B,H.mode,J),F.return=H,F):(F=m(F,B.children||[]),F.return=H,F)}function Y(H,F,B,J,fe){return F===null||F.tag!==7?(F=Ro(B,H.mode,J,fe),F.return=H,F):(F=m(F,B),F.return=H,F)}function Q(H,F,B){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Wm(""+F,H.mode,B),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return B=Ef(F.type,F.key,F.props,null,H.mode,B),B.ref=sc(H,null,F),B.return=H,B;case O:return F=Gm(F,H.mode,B),F.return=H,F;case me:var J=F._init;return Q(H,J(F._payload),B)}if(go(F)||ae(F))return F=Ro(F,H.mode,B,null),F.return=H,F;Yd(H,F)}return null}function K(H,F,B,J){var fe=F!==null?F.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return fe!==null?null:P(H,F,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===fe?M(H,F,B,J):null;case O:return B.key===fe?U(H,F,B,J):null;case me:return fe=B._init,K(H,F,fe(B._payload),J)}if(go(B)||ae(B))return fe!==null?null:Y(H,F,B,J,null);Yd(H,B)}return null}function re(H,F,B,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number")return H=H.get(B)||null,P(F,H,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return H=H.get(J.key===null?B:J.key)||null,M(F,H,J,fe);case O:return H=H.get(J.key===null?B:J.key)||null,U(F,H,J,fe);case me:var Se=J._init;return re(H,F,B,Se(J._payload),fe)}if(go(J)||ae(J))return H=H.get(B)||null,Y(F,H,J,fe,null);Yd(F,J)}return null}function ce(H,F,B,J){for(var fe=null,Se=null,be=F,xe=F=0,Ht=null;be!==null&&xe<B.length;xe++){be.index>xe?(Ht=be,be=null):Ht=be.sibling;var $e=K(H,be,B[xe],J);if($e===null){be===null&&(be=Ht);break}s&&be&&$e.alternate===null&&i(H,be),F=w($e,F,xe),Se===null?fe=$e:Se.sibling=$e,Se=$e,be=Ht}if(xe===B.length)return u(H,be),at&&Eo(H,xe),fe;if(be===null){for(;xe<B.length;xe++)be=Q(H,B[xe],J),be!==null&&(F=w(be,F,xe),Se===null?fe=be:Se.sibling=be,Se=be);return at&&Eo(H,xe),fe}for(be=f(H,be);xe<B.length;xe++)Ht=re(be,H,xe,B[xe],J),Ht!==null&&(s&&Ht.alternate!==null&&be.delete(Ht.key===null?xe:Ht.key),F=w(Ht,F,xe),Se===null?fe=Ht:Se.sibling=Ht,Se=Ht);return s&&be.forEach(function(Rr){return i(H,Rr)}),at&&Eo(H,xe),fe}function he(H,F,B,J){var fe=ae(B);if(typeof fe!="function")throw Error(t(150));if(B=fe.call(B),B==null)throw Error(t(151));for(var Se=fe=null,be=F,xe=F=0,Ht=null,$e=B.next();be!==null&&!$e.done;xe++,$e=B.next()){be.index>xe?(Ht=be,be=null):Ht=be.sibling;var Rr=K(H,be,$e.value,J);if(Rr===null){be===null&&(be=Ht);break}s&&be&&Rr.alternate===null&&i(H,be),F=w(Rr,F,xe),Se===null?fe=Rr:Se.sibling=Rr,Se=Rr,be=Ht}if($e.done)return u(H,be),at&&Eo(H,xe),fe;if(be===null){for(;!$e.done;xe++,$e=B.next())$e=Q(H,$e.value,J),$e!==null&&(F=w($e,F,xe),Se===null?fe=$e:Se.sibling=$e,Se=$e);return at&&Eo(H,xe),fe}for(be=f(H,be);!$e.done;xe++,$e=B.next())$e=re(be,H,xe,$e.value,J),$e!==null&&(s&&$e.alternate!==null&&be.delete($e.key===null?xe:$e.key),F=w($e,F,xe),Se===null?fe=$e:Se.sibling=$e,Se=$e);return s&&be.forEach(function(u1){return i(H,u1)}),at&&Eo(H,xe),fe}function Et(H,F,B,J){if(typeof B=="object"&&B!==null&&B.type===z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var fe=B.key,Se=F;Se!==null;){if(Se.key===fe){if(fe=B.type,fe===z){if(Se.tag===7){u(H,Se.sibling),F=m(Se,B.props.children),F.return=H,H=F;break e}}else if(Se.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===me&&M0(fe)===Se.type){u(H,Se.sibling),F=m(Se,B.props),F.ref=sc(H,Se,B),F.return=H,H=F;break e}u(H,Se);break}else i(H,Se);Se=Se.sibling}B.type===z?(F=Ro(B.props.children,H.mode,J,B.key),F.return=H,H=F):(J=Ef(B.type,B.key,B.props,null,H.mode,J),J.ref=sc(H,F,B),J.return=H,H=J)}return _(H);case O:e:{for(Se=B.key;F!==null;){if(F.key===Se)if(F.tag===4&&F.stateNode.containerInfo===B.containerInfo&&F.stateNode.implementation===B.implementation){u(H,F.sibling),F=m(F,B.children||[]),F.return=H,H=F;break e}else{u(H,F);break}else i(H,F);F=F.sibling}F=Gm(B,H.mode,J),F.return=H,H=F}return _(H);case me:return Se=B._init,Et(H,F,Se(B._payload),J)}if(go(B))return ce(H,F,B,J);if(ae(B))return he(H,F,B,J);Yd(H,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,F!==null&&F.tag===6?(u(H,F.sibling),F=m(F,B),F.return=H,H=F):(u(H,F),F=Wm(B,H.mode,J),F.return=H,H=F),_(H)):u(H,F)}return Et}var al=I0(!0),F0=I0(!1),Qd=vr(null),Jd=null,ll=null,tm=null;function nm(){tm=ll=Jd=null}function sm(s){var i=Qd.current;it(Qd),s._currentValue=i}function im(s,i,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===u)break;s=s.return}}function ul(s,i){Jd=s,tm=ll=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&i&&(_n=!0),s.firstContext=null)}function ts(s){var i=s._currentValue;if(tm!==s)if(s={context:s,memoizedValue:i,next:null},ll===null){if(Jd===null)throw Error(t(308));ll=s,Jd.dependencies={lanes:0,firstContext:s}}else ll=ll.next=s;return i}var So=null;function rm(s){So===null?So=[s]:So.push(s)}function N0(s,i,u,f){var m=i.interleaved;return m===null?(u.next=u,rm(i)):(u.next=m.next,m.next=u),i.interleaved=u,bi(s,f)}function bi(s,i){s.lanes|=i;var u=s.alternate;for(u!==null&&(u.lanes|=i),u=s,s=s.return;s!==null;)s.childLanes|=i,u=s.alternate,u!==null&&(u.childLanes|=i),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Er=!1;function om(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D0(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function _i(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Sr(s,i,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,Ue&2){var m=f.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),f.pending=i,bi(s,u)}return m=f.interleaved,m===null?(i.next=i,rm(f)):(i.next=m.next,m.next=i),f.interleaved=i,bi(s,u)}function Zd(s,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,u|=f,i.lanes=u,Ag(s,u)}}function O0(s,i){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var _={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?m=w=_:w=w.next=_,u=u.next}while(u!==null);w===null?m=w=i:w=w.next=i}else m=w=i;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=i:s.next=i,u.lastBaseUpdate=i}function ef(s,i,u,f){var m=s.updateQueue;Er=!1;var w=m.firstBaseUpdate,_=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var M=P,U=M.next;M.next=null,_===null?w=U:_.next=U,_=M;var Y=s.alternate;Y!==null&&(Y=Y.updateQueue,P=Y.lastBaseUpdate,P!==_&&(P===null?Y.firstBaseUpdate=U:P.next=U,Y.lastBaseUpdate=M))}if(w!==null){var Q=m.baseState;_=0,Y=U=M=null,P=w;do{var K=P.lane,re=P.eventTime;if((f&K)===K){Y!==null&&(Y=Y.next={eventTime:re,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ce=s,he=P;switch(K=i,re=u,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Q=ce.call(re,Q,K);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,K=typeof ce=="function"?ce.call(re,Q,K):ce,K==null)break e;Q=ee({},Q,K);break e;case 2:Er=!0}}P.callback!==null&&P.lane!==0&&(s.flags|=64,K=m.effects,K===null?m.effects=[P]:K.push(P))}else re={eventTime:re,lane:K,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Y===null?(U=Y=re,M=Q):Y=Y.next=re,_|=K;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;K=P,P=K.next,K.next=null,m.lastBaseUpdate=K,m.shared.pending=null}}while(!0);if(Y===null&&(M=Q),m.baseState=M,m.firstBaseUpdate=U,m.lastBaseUpdate=Y,i=m.shared.interleaved,i!==null){m=i;do _|=m.lane,m=m.next;while(m!==i)}else w===null&&(m.shared.lanes=0);xo|=_,s.lanes=_,s.memoizedState=Q}}function j0(s,i,u){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var ic={},Ws=vr(ic),rc=vr(ic),oc=vr(ic);function bo(s){if(s===ic)throw Error(t(174));return s}function am(s,i){switch(et(oc,i),et(rc,s),et(Ws,ic),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Us(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Us(i,s)}it(Ws),et(Ws,i)}function cl(){it(Ws),it(rc),it(oc)}function H0(s){bo(oc.current);var i=bo(Ws.current),u=Us(i,s.type);i!==u&&(et(rc,s),et(Ws,u))}function lm(s){rc.current===s&&(it(Ws),it(rc))}var ut=vr(0);function tf(s){for(var i=s;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var um=[];function cm(){for(var s=0;s<um.length;s++)um[s]._workInProgressVersionPrimary=null;um.length=0}var nf=I.ReactCurrentDispatcher,hm=I.ReactCurrentBatchConfig,_o=0,ct=null,Rt=null,Ot=null,sf=!1,ac=!1,lc=0,MC=0;function en(){throw Error(t(321))}function dm(s,i){if(i===null)return!1;for(var u=0;u<i.length&&u<s.length;u++)if(!ys(s[u],i[u]))return!1;return!0}function fm(s,i,u,f,m,w){if(_o=w,ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,nf.current=s===null||s.memoizedState===null?DC:OC,s=u(f,m),ac){w=0;do{if(ac=!1,lc=0,25<=w)throw Error(t(301));w+=1,Ot=Rt=null,i.updateQueue=null,nf.current=jC,s=u(f,m)}while(ac)}if(nf.current=af,i=Rt!==null&&Rt.next!==null,_o=0,Ot=Rt=ct=null,sf=!1,i)throw Error(t(300));return s}function pm(){var s=lc!==0;return lc=0,s}function Gs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ct.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function ns(){if(Rt===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var i=Ot===null?ct.memoizedState:Ot.next;if(i!==null)Ot=i,Rt=s;else{if(s===null)throw Error(t(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ot===null?ct.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function uc(s,i){return typeof i=="function"?i(s):i}function gm(s){var i=ns(),u=i.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=Rt,m=f.baseQueue,w=u.pending;if(w!==null){if(m!==null){var _=m.next;m.next=w.next,w.next=_}f.baseQueue=m=w,u.pending=null}if(m!==null){w=m.next,f=f.baseState;var P=_=null,M=null,U=w;do{var Y=U.lane;if((_o&Y)===Y)M!==null&&(M=M.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),f=U.hasEagerState?U.eagerState:s(f,U.action);else{var Q={lane:Y,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};M===null?(P=M=Q,_=f):M=M.next=Q,ct.lanes|=Y,xo|=Y}U=U.next}while(U!==null&&U!==w);M===null?_=f:M.next=P,ys(f,i.memoizedState)||(_n=!0),i.memoizedState=f,i.baseState=_,i.baseQueue=M,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do w=m.lane,ct.lanes|=w,xo|=w,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function mm(s){var i=ns(),u=i.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,w=i.memoizedState;if(m!==null){u.pending=null;var _=m=m.next;do w=s(w,_.action),_=_.next;while(_!==m);ys(w,i.memoizedState)||(_n=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),u.lastRenderedState=w}return[w,f]}function B0(){}function z0(s,i){var u=ct,f=ns(),m=i(),w=!ys(f.memoizedState,m);if(w&&(f.memoizedState=m,_n=!0),f=f.queue,ym(V0.bind(null,u,f,s),[s]),f.getSnapshot!==i||w||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,cc(9,$0.bind(null,u,f,m,i),void 0,null),jt===null)throw Error(t(349));_o&30||U0(u,i,m)}return m}function U0(s,i,u){s.flags|=16384,s={getSnapshot:i,value:u},i=ct.updateQueue,i===null?(i={lastEffect:null,stores:null},ct.updateQueue=i,i.stores=[s]):(u=i.stores,u===null?i.stores=[s]:u.push(s))}function $0(s,i,u,f){i.value=u,i.getSnapshot=f,W0(i)&&G0(s)}function V0(s,i,u){return u(function(){W0(i)&&G0(s)})}function W0(s){var i=s.getSnapshot;s=s.value;try{var u=i();return!ys(s,u)}catch{return!0}}function G0(s){var i=bi(s,1);i!==null&&Ss(i,s,1,-1)}function q0(s){var i=Gs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:s},i.queue=s,s=s.dispatch=NC.bind(null,ct,s),[i.memoizedState,s]}function cc(s,i,u,f){return s={tag:s,create:i,destroy:u,deps:f,next:null},i=ct.updateQueue,i===null?(i={lastEffect:null,stores:null},ct.updateQueue=i,i.lastEffect=s.next=s):(u=i.lastEffect,u===null?i.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,i.lastEffect=s)),s}function X0(){return ns().memoizedState}function rf(s,i,u,f){var m=Gs();ct.flags|=s,m.memoizedState=cc(1|i,u,void 0,f===void 0?null:f)}function of(s,i,u,f){var m=ns();f=f===void 0?null:f;var w=void 0;if(Rt!==null){var _=Rt.memoizedState;if(w=_.destroy,f!==null&&dm(f,_.deps)){m.memoizedState=cc(i,u,w,f);return}}ct.flags|=s,m.memoizedState=cc(1|i,u,w,f)}function K0(s,i){return rf(8390656,8,s,i)}function ym(s,i){return of(2048,8,s,i)}function Y0(s,i){return of(4,2,s,i)}function Q0(s,i){return of(4,4,s,i)}function J0(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Z0(s,i,u){return u=u!=null?u.concat([s]):null,of(4,4,J0.bind(null,i,s),u)}function vm(){}function eA(s,i){var u=ns();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&dm(i,f[1])?f[0]:(u.memoizedState=[s,i],s)}function tA(s,i){var u=ns();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&dm(i,f[1])?f[0]:(s=s(),u.memoizedState=[s,i],s)}function nA(s,i,u){return _o&21?(ys(u,i)||(u=Mw(),ct.lanes|=u,xo|=u,s.baseState=!0),i):(s.baseState&&(s.baseState=!1,_n=!0),s.memoizedState=u)}function IC(s,i){var u=qe;qe=u!==0&&4>u?u:4,s(!0);var f=hm.transition;hm.transition={};try{s(!1),i()}finally{qe=u,hm.transition=f}}function sA(){return ns().memoizedState}function FC(s,i,u){var f=Cr(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},iA(s))rA(i,u);else if(u=N0(s,i,u,f),u!==null){var m=pn();Ss(u,s,f,m),oA(u,i,f)}}function NC(s,i,u){var f=Cr(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(iA(s))rA(i,m);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var _=i.lastRenderedState,P=w(_,u);if(m.hasEagerState=!0,m.eagerState=P,ys(P,_)){var M=i.interleaved;M===null?(m.next=m,rm(i)):(m.next=M.next,M.next=m),i.interleaved=m;return}}catch{}finally{}u=N0(s,i,m,f),u!==null&&(m=pn(),Ss(u,s,f,m),oA(u,i,f))}}function iA(s){var i=s.alternate;return s===ct||i!==null&&i===ct}function rA(s,i){ac=sf=!0;var u=s.pending;u===null?i.next=i:(i.next=u.next,u.next=i),s.pending=i}function oA(s,i,u){if(u&4194240){var f=i.lanes;f&=s.pendingLanes,u|=f,i.lanes=u,Ag(s,u)}}var af={readContext:ts,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},DC={readContext:ts,useCallback:function(s,i){return Gs().memoizedState=[s,i===void 0?null:i],s},useContext:ts,useEffect:K0,useImperativeHandle:function(s,i,u){return u=u!=null?u.concat([s]):null,rf(4194308,4,J0.bind(null,i,s),u)},useLayoutEffect:function(s,i){return rf(4194308,4,s,i)},useInsertionEffect:function(s,i){return rf(4,2,s,i)},useMemo:function(s,i){var u=Gs();return i=i===void 0?null:i,s=s(),u.memoizedState=[s,i],s},useReducer:function(s,i,u){var f=Gs();return i=u!==void 0?u(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=FC.bind(null,ct,s),[f.memoizedState,s]},useRef:function(s){var i=Gs();return s={current:s},i.memoizedState=s},useState:q0,useDebugValue:vm,useDeferredValue:function(s){return Gs().memoizedState=s},useTransition:function(){var s=q0(!1),i=s[0];return s=IC.bind(null,s[1]),Gs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,u){var f=ct,m=Gs();if(at){if(u===void 0)throw Error(t(407));u=u()}else{if(u=i(),jt===null)throw Error(t(349));_o&30||U0(f,i,u)}m.memoizedState=u;var w={value:u,getSnapshot:i};return m.queue=w,K0(V0.bind(null,f,w,s),[s]),f.flags|=2048,cc(9,$0.bind(null,f,w,u,i),void 0,null),u},useId:function(){var s=Gs(),i=jt.identifierPrefix;if(at){var u=Si,f=Ei;u=(f&~(1<<32-ms(f)-1)).toString(32)+u,i=":"+i+"R"+u,u=lc++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=MC++,i=":"+i+"r"+u.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},OC={readContext:ts,useCallback:eA,useContext:ts,useEffect:ym,useImperativeHandle:Z0,useInsertionEffect:Y0,useLayoutEffect:Q0,useMemo:tA,useReducer:gm,useRef:X0,useState:function(){return gm(uc)},useDebugValue:vm,useDeferredValue:function(s){var i=ns();return nA(i,Rt.memoizedState,s)},useTransition:function(){var s=gm(uc)[0],i=ns().memoizedState;return[s,i]},useMutableSource:B0,useSyncExternalStore:z0,useId:sA,unstable_isNewReconciler:!1},jC={readContext:ts,useCallback:eA,useContext:ts,useEffect:ym,useImperativeHandle:Z0,useInsertionEffect:Y0,useLayoutEffect:Q0,useMemo:tA,useReducer:mm,useRef:X0,useState:function(){return mm(uc)},useDebugValue:vm,useDeferredValue:function(s){var i=ns();return Rt===null?i.memoizedState=s:nA(i,Rt.memoizedState,s)},useTransition:function(){var s=mm(uc)[0],i=ns().memoizedState;return[s,i]},useMutableSource:B0,useSyncExternalStore:z0,useId:sA,unstable_isNewReconciler:!1};function ws(s,i){if(s&&s.defaultProps){i=ee({},i),s=s.defaultProps;for(var u in s)i[u]===void 0&&(i[u]=s[u]);return i}return i}function wm(s,i,u,f){i=s.memoizedState,u=u(f,i),u=u==null?i:ee({},i,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var lf={isMounted:function(s){return(s=s._reactInternals)?yo(s)===s:!1},enqueueSetState:function(s,i,u){s=s._reactInternals;var f=pn(),m=Cr(s),w=_i(f,m);w.payload=i,u!=null&&(w.callback=u),i=Sr(s,w,m),i!==null&&(Ss(i,s,m,f),Zd(i,s,m))},enqueueReplaceState:function(s,i,u){s=s._reactInternals;var f=pn(),m=Cr(s),w=_i(f,m);w.tag=1,w.payload=i,u!=null&&(w.callback=u),i=Sr(s,w,m),i!==null&&(Ss(i,s,m,f),Zd(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var u=pn(),f=Cr(s),m=_i(u,f);m.tag=2,i!=null&&(m.callback=i),i=Sr(s,m,f),i!==null&&(Ss(i,s,f,u),Zd(i,s,f))}};function aA(s,i,u,f,m,w,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,_):i.prototype&&i.prototype.isPureReactComponent?!Yu(u,f)||!Yu(m,w):!0}function lA(s,i,u){var f=!1,m=wr,w=i.contextType;return typeof w=="object"&&w!==null?w=ts(w):(m=bn(i)?wo:Zt.current,f=i.contextTypes,w=(f=f!=null)?sl(s,m):wr),i=new i(u,w),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=lf,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=w),i}function uA(s,i,u,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,f),i.state!==s&&lf.enqueueReplaceState(i,i.state,null)}function Am(s,i,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},om(s);var w=i.contextType;typeof w=="object"&&w!==null?m.context=ts(w):(w=bn(i)?wo:Zt.current,m.context=sl(s,w)),m.state=s.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(wm(s,i,w,u),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&lf.enqueueReplaceState(m,m.state,null),ef(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function hl(s,i){try{var u="",f=i;do u+=Te(f),f=f.return;while(f);var m=u}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:i,stack:m,digest:null}}function Em(s,i,u){return{value:s,source:null,stack:u??null,digest:i??null}}function Sm(s,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var HC=typeof WeakMap=="function"?WeakMap:Map;function cA(s,i,u){u=_i(-1,u),u.tag=3,u.payload={element:null};var f=i.value;return u.callback=function(){gf||(gf=!0,Om=f),Sm(s,i)},u}function hA(s,i,u){u=_i(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=i.value;u.payload=function(){return f(m)},u.callback=function(){Sm(s,i)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Sm(s,i),typeof f!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),u}function dA(s,i,u){var f=s.pingCache;if(f===null){f=s.pingCache=new HC;var m=new Set;f.set(i,m)}else m=f.get(i),m===void 0&&(m=new Set,f.set(i,m));m.has(u)||(m.add(u),s=ZC.bind(null,s,i,u),i.then(s,s))}function fA(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function pA(s,i,u,f,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===i?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=_i(-1,1),i.tag=2,Sr(u,i,1))),u.lanes|=1),s)}var BC=I.ReactCurrentOwner,_n=!1;function fn(s,i,u,f){i.child=s===null?F0(i,null,u,f):al(i,s.child,u,f)}function gA(s,i,u,f,m){u=u.render;var w=i.ref;return ul(i,m),f=fm(s,i,u,f,w,m),u=pm(),s!==null&&!_n?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,xi(s,i,m)):(at&&u&&Yg(i),i.flags|=1,fn(s,i,f,m),i.child)}function mA(s,i,u,f,m){if(s===null){var w=u.type;return typeof w=="function"&&!Vm(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=w,yA(s,i,w,f,m)):(s=Ef(u.type,null,f,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(w=s.child,!(s.lanes&m)){var _=w.memoizedProps;if(u=u.compare,u=u!==null?u:Yu,u(_,f)&&s.ref===i.ref)return xi(s,i,m)}return i.flags|=1,s=Tr(w,f),s.ref=i.ref,s.return=i,i.child=s}function yA(s,i,u,f,m){if(s!==null){var w=s.memoizedProps;if(Yu(w,f)&&s.ref===i.ref)if(_n=!1,i.pendingProps=f=w,(s.lanes&m)!==0)s.flags&131072&&(_n=!0);else return i.lanes=s.lanes,xi(s,i,m)}return bm(s,i,u,f,m)}function vA(s,i,u){var f=i.pendingProps,m=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(fl,Hn),Hn|=u;else{if(!(u&1073741824))return s=w!==null?w.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,et(fl,Hn),Hn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:u,et(fl,Hn),Hn|=f}else w!==null?(f=w.baseLanes|u,i.memoizedState=null):f=u,et(fl,Hn),Hn|=f;return fn(s,i,m,u),i.child}function wA(s,i){var u=i.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function bm(s,i,u,f,m){var w=bn(u)?wo:Zt.current;return w=sl(i,w),ul(i,m),u=fm(s,i,u,f,w,m),f=pm(),s!==null&&!_n?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,xi(s,i,m)):(at&&f&&Yg(i),i.flags|=1,fn(s,i,u,m),i.child)}function AA(s,i,u,f,m){if(bn(u)){var w=!0;Wd(i)}else w=!1;if(ul(i,m),i.stateNode===null)cf(s,i),lA(i,u,f),Am(i,u,f,m),f=!0;else if(s===null){var _=i.stateNode,P=i.memoizedProps;_.props=P;var M=_.context,U=u.contextType;typeof U=="object"&&U!==null?U=ts(U):(U=bn(u)?wo:Zt.current,U=sl(i,U));var Y=u.getDerivedStateFromProps,Q=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";Q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==f||M!==U)&&uA(i,_,f,U),Er=!1;var K=i.memoizedState;_.state=K,ef(i,f,_,m),M=i.memoizedState,P!==f||K!==M||Sn.current||Er?(typeof Y=="function"&&(wm(i,u,Y,f),M=i.memoizedState),(P=Er||aA(i,u,P,f,K,M,U))?(Q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=M),_.props=f,_.state=M,_.context=U,f=P):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{_=i.stateNode,D0(s,i),P=i.memoizedProps,U=i.type===i.elementType?P:ws(i.type,P),_.props=U,Q=i.pendingProps,K=_.context,M=u.contextType,typeof M=="object"&&M!==null?M=ts(M):(M=bn(u)?wo:Zt.current,M=sl(i,M));var re=u.getDerivedStateFromProps;(Y=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==Q||K!==M)&&uA(i,_,f,M),Er=!1,K=i.memoizedState,_.state=K,ef(i,f,_,m);var ce=i.memoizedState;P!==Q||K!==ce||Sn.current||Er?(typeof re=="function"&&(wm(i,u,re,f),ce=i.memoizedState),(U=Er||aA(i,u,U,f,K,ce,M)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,ce,M),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,ce,M)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ce),_.props=f,_.state=ce,_.context=M,f=U):(typeof _.componentDidUpdate!="function"||P===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),f=!1)}return _m(s,i,u,f,w,m)}function _m(s,i,u,f,m,w){wA(s,i);var _=(i.flags&128)!==0;if(!f&&!_)return m&&x0(i,u,!1),xi(s,i,w);f=i.stateNode,BC.current=i;var P=_&&typeof u.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&_?(i.child=al(i,s.child,null,w),i.child=al(i,null,P,w)):fn(s,i,P,w),i.memoizedState=f.state,m&&x0(i,u,!0),i.child}function EA(s){var i=s.stateNode;i.pendingContext?b0(s,i.pendingContext,i.pendingContext!==i.context):i.context&&b0(s,i.context,!1),am(s,i.containerInfo)}function SA(s,i,u,f,m){return ol(),em(m),i.flags|=256,fn(s,i,u,f),i.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function Cm(s){return{baseLanes:s,cachePool:null,transitions:null}}function bA(s,i,u){var f=i.pendingProps,m=ut.current,w=!1,_=(i.flags&128)!==0,P;if((P=_)||(P=s!==null&&s.memoizedState===null?!1:(m&2)!==0),P?(w=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),et(ut,m&1),s===null)return Zg(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(i.mode&1?s.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=f.children,s=f.fallback,w?(f=i.mode,w=i.child,_={mode:"hidden",children:_},!(f&1)&&w!==null?(w.childLanes=0,w.pendingProps=_):w=Sf(_,f,0,null),s=Ro(s,f,u,null),w.return=i,s.return=i,w.sibling=s,i.child=w,i.child.memoizedState=Cm(u),i.memoizedState=xm,s):km(i,_));if(m=s.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return zC(s,i,_,f,P,m,u);if(w){w=f.fallback,_=i.mode,m=s.child,P=m.sibling;var M={mode:"hidden",children:f.children};return!(_&1)&&i.child!==m?(f=i.child,f.childLanes=0,f.pendingProps=M,i.deletions=null):(f=Tr(m,M),f.subtreeFlags=m.subtreeFlags&14680064),P!==null?w=Tr(P,w):(w=Ro(w,_,u,null),w.flags|=2),w.return=i,f.return=i,f.sibling=w,i.child=f,f=w,w=i.child,_=s.child.memoizedState,_=_===null?Cm(u):{baseLanes:_.baseLanes|u,cachePool:null,transitions:_.transitions},w.memoizedState=_,w.childLanes=s.childLanes&~u,i.memoizedState=xm,f}return w=s.child,s=w.sibling,f=Tr(w,{mode:"visible",children:f.children}),!(i.mode&1)&&(f.lanes=u),f.return=i,f.sibling=null,s!==null&&(u=i.deletions,u===null?(i.deletions=[s],i.flags|=16):u.push(s)),i.child=f,i.memoizedState=null,f}function km(s,i){return i=Sf({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function uf(s,i,u,f){return f!==null&&em(f),al(i,s.child,null,u),s=km(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function zC(s,i,u,f,m,w,_){if(u)return i.flags&256?(i.flags&=-257,f=Em(Error(t(422))),uf(s,i,_,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(w=f.fallback,m=i.mode,f=Sf({mode:"visible",children:f.children},m,0,null),w=Ro(w,m,_,null),w.flags|=2,f.return=i,w.return=i,f.sibling=w,i.child=f,i.mode&1&&al(i,s.child,null,_),i.child.memoizedState=Cm(_),i.memoizedState=xm,w);if(!(i.mode&1))return uf(s,i,_,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var P=f.dgst;return f=P,w=Error(t(419)),f=Em(w,f,void 0),uf(s,i,_,f)}if(P=(_&s.childLanes)!==0,_n||P){if(f=jt,f!==null){switch(_&-_){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|_)?0:m,m!==0&&m!==w.retryLane&&(w.retryLane=m,bi(s,m),Ss(f,s,m,-1))}return $m(),f=Em(Error(t(421))),uf(s,i,_,f)}return m.data==="$?"?(i.flags|=128,i.child=s.child,i=e1.bind(null,s),m._reactRetry=i,null):(s=w.treeContext,jn=yr(m.nextSibling),On=i,at=!0,vs=null,s!==null&&(Zn[es++]=Ei,Zn[es++]=Si,Zn[es++]=Ao,Ei=s.id,Si=s.overflow,Ao=i),i=km(i,f.children),i.flags|=4096,i)}function _A(s,i,u){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),im(s.return,i,u)}function Tm(s,i,u,f,m){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=u,w.tailMode=m)}function xA(s,i,u){var f=i.pendingProps,m=f.revealOrder,w=f.tail;if(fn(s,i,f.children,u),f=ut.current,f&2)f=f&1|2,i.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_A(s,u,i);else if(s.tag===19)_A(s,u,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(et(ut,f),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(u=i.child,m=null;u!==null;)s=u.alternate,s!==null&&tf(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=i.child,i.child=null):(m=u.sibling,u.sibling=null),Tm(i,!1,m,u,w);break;case"backwards":for(u=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&tf(s)===null){i.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}Tm(i,!0,u,null,w);break;case"together":Tm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function cf(s,i){!(i.mode&1)&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function xi(s,i,u){if(s!==null&&(i.dependencies=s.dependencies),xo|=i.lanes,!(u&i.childLanes))return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,u=Tr(s,s.pendingProps),i.child=u,u.return=i;s.sibling!==null;)s=s.sibling,u=u.sibling=Tr(s,s.pendingProps),u.return=i;u.sibling=null}return i.child}function UC(s,i,u){switch(i.tag){case 3:EA(i),ol();break;case 5:H0(i);break;case 1:bn(i.type)&&Wd(i);break;case 4:am(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,m=i.memoizedProps.value;et(Qd,f._currentValue),f._currentValue=m;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(et(ut,ut.current&1),i.flags|=128,null):u&i.child.childLanes?bA(s,i,u):(et(ut,ut.current&1),s=xi(s,i,u),s!==null?s.sibling:null);et(ut,ut.current&1);break;case 19:if(f=(u&i.childLanes)!==0,s.flags&128){if(f)return xA(s,i,u);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(ut,ut.current),f)break;return null;case 22:case 23:return i.lanes=0,vA(s,i,u)}return xi(s,i,u)}var CA,Rm,kA,TA;CA=function(s,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Rm=function(){},kA=function(s,i,u,f){var m=s.memoizedProps;if(m!==f){s=i.stateNode,bo(Ws.current);var w=null;switch(u){case"input":m=ot(s,m),f=ot(s,f),w=[];break;case"select":m=ee({},m,{value:void 0}),f=ee({},f,{value:void 0}),w=[];break;case"textarea":m=Iu(s,m),f=Iu(s,f),w=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Ud)}ug(u,f);var _;u=null;for(U in m)if(!f.hasOwnProperty(U)&&m.hasOwnProperty(U)&&m[U]!=null)if(U==="style"){var P=m[U];for(_ in P)P.hasOwnProperty(_)&&(u||(u={}),u[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(r.hasOwnProperty(U)?w||(w=[]):(w=w||[]).push(U,null));for(U in f){var M=f[U];if(P=m!=null?m[U]:void 0,f.hasOwnProperty(U)&&M!==P&&(M!=null||P!=null))if(U==="style")if(P){for(_ in P)!P.hasOwnProperty(_)||M&&M.hasOwnProperty(_)||(u||(u={}),u[_]="");for(_ in M)M.hasOwnProperty(_)&&P[_]!==M[_]&&(u||(u={}),u[_]=M[_])}else u||(w||(w=[]),w.push(U,u)),u=M;else U==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,P=P?P.__html:void 0,M!=null&&P!==M&&(w=w||[]).push(U,M)):U==="children"?typeof M!="string"&&typeof M!="number"||(w=w||[]).push(U,""+M):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(r.hasOwnProperty(U)?(M!=null&&U==="onScroll"&&st("scroll",s),w||P===M||(w=[])):(w=w||[]).push(U,M))}u&&(w=w||[]).push("style",u);var U=w;(i.updateQueue=U)&&(i.flags|=4)}},TA=function(s,i,u,f){u!==f&&(i.flags|=4)};function hc(s,i){if(!at)switch(s.tailMode){case"hidden":i=s.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function tn(s){var i=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(i)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,i}function $C(s,i,u){var f=i.pendingProps;switch(Qg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(i),null;case 1:return bn(i.type)&&Vd(),tn(i),null;case 3:return f=i.stateNode,cl(),it(Sn),it(Zt),cm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Kd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,vs!==null&&(Bm(vs),vs=null))),Rm(s,i),tn(i),null;case 5:lm(i);var m=bo(oc.current);if(u=i.type,s!==null&&i.stateNode!=null)kA(s,i,u,f,m),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(t(166));return tn(i),null}if(s=bo(Ws.current),Kd(i)){f=i.stateNode,u=i.type;var w=i.memoizedProps;switch(f[Vs]=i,f[tc]=w,s=(i.mode&1)!==0,u){case"dialog":st("cancel",f),st("close",f);break;case"iframe":case"object":case"embed":st("load",f);break;case"video":case"audio":for(m=0;m<Ju.length;m++)st(Ju[m],f);break;case"source":st("error",f);break;case"img":case"image":case"link":st("error",f),st("load",f);break;case"details":st("toggle",f);break;case"input":Tt(f,w),st("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},st("invalid",f);break;case"textarea":yd(f,w),st("invalid",f)}ug(u,w),m=null;for(var _ in w)if(w.hasOwnProperty(_)){var P=w[_];_==="children"?typeof P=="string"?f.textContent!==P&&(w.suppressHydrationWarning!==!0&&zd(f.textContent,P,s),m=["children",P]):typeof P=="number"&&f.textContent!==""+P&&(w.suppressHydrationWarning!==!0&&zd(f.textContent,P,s),m=["children",""+P]):r.hasOwnProperty(_)&&P!=null&&_==="onScroll"&&st("scroll",f)}switch(u){case"input":Bs(f),cr(f,w,!0);break;case"textarea":Bs(f),wd(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=Ud)}f=m,i.updateQueue=f,f!==null&&(i.flags|=4)}else{_=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ad(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=_.createElement(u,{is:f.is}):(s=_.createElement(u),u==="select"&&(_=s,f.multiple?_.multiple=!0:f.size&&(_.size=f.size))):s=_.createElementNS(s,u),s[Vs]=i,s[tc]=f,CA(s,i,!1,!1),i.stateNode=s;e:{switch(_=cg(u,f),u){case"dialog":st("cancel",s),st("close",s),m=f;break;case"iframe":case"object":case"embed":st("load",s),m=f;break;case"video":case"audio":for(m=0;m<Ju.length;m++)st(Ju[m],s);m=f;break;case"source":st("error",s),m=f;break;case"img":case"image":case"link":st("error",s),st("load",s),m=f;break;case"details":st("toggle",s),m=f;break;case"input":Tt(s,f),m=ot(s,f),st("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=ee({},f,{value:void 0}),st("invalid",s);break;case"textarea":yd(s,f),m=Iu(s,f),st("invalid",s);break;default:m=f}ug(u,m),P=m;for(w in P)if(P.hasOwnProperty(w)){var M=P[w];w==="style"?yw(s,M):w==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&mo(s,M)):w==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&vi(s,M):typeof M=="number"&&vi(s,""+M):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(r.hasOwnProperty(w)?M!=null&&w==="onScroll"&&st("scroll",s):M!=null&&L(s,w,M,_))}switch(u){case"input":Bs(s),cr(s,f,!1);break;case"textarea":Bs(s),wd(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ie(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?gs(s,!!f.multiple,w,!1):f.defaultValue!=null&&gs(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Ud)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return tn(i),null;case 6:if(s&&i.stateNode!=null)TA(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(t(166));if(u=bo(oc.current),bo(Ws.current),Kd(i)){if(f=i.stateNode,u=i.memoizedProps,f[Vs]=i,(w=f.nodeValue!==u)&&(s=On,s!==null))switch(s.tag){case 3:zd(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&zd(f.nodeValue,u,(s.mode&1)!==0)}w&&(i.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Vs]=i,i.stateNode=f}return tn(i),null;case 13:if(it(ut),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&jn!==null&&i.mode&1&&!(i.flags&128))L0(),ol(),i.flags|=98560,w=!1;else if(w=Kd(i),f!==null&&f.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Vs]=i}else ol(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;tn(i),w=!1}else vs!==null&&(Bm(vs),vs=null),w=!0;if(!w)return i.flags&65536?i:null}return i.flags&128?(i.lanes=u,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,i.mode&1&&(s===null||ut.current&1?Pt===0&&(Pt=3):$m())),i.updateQueue!==null&&(i.flags|=4),tn(i),null);case 4:return cl(),Rm(s,i),s===null&&Zu(i.stateNode.containerInfo),tn(i),null;case 10:return sm(i.type._context),tn(i),null;case 17:return bn(i.type)&&Vd(),tn(i),null;case 19:if(it(ut),w=i.memoizedState,w===null)return tn(i),null;if(f=(i.flags&128)!==0,_=w.rendering,_===null)if(f)hc(w,!1);else{if(Pt!==0||s!==null&&s.flags&128)for(s=i.child;s!==null;){if(_=tf(s),_!==null){for(i.flags|=128,hc(w,!1),f=_.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=u,u=i.child;u!==null;)w=u,s=f,w.flags&=14680066,_=w.alternate,_===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=_.childLanes,w.lanes=_.lanes,w.child=_.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=_.memoizedProps,w.memoizedState=_.memoizedState,w.updateQueue=_.updateQueue,w.type=_.type,s=_.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return et(ut,ut.current&1|2),i.child}s=s.sibling}w.tail!==null&&At()>pl&&(i.flags|=128,f=!0,hc(w,!1),i.lanes=4194304)}else{if(!f)if(s=tf(_),s!==null){if(i.flags|=128,f=!0,u=s.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),hc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!_.alternate&&!at)return tn(i),null}else 2*At()-w.renderingStartTime>pl&&u!==1073741824&&(i.flags|=128,f=!0,hc(w,!1),i.lanes=4194304);w.isBackwards?(_.sibling=i.child,i.child=_):(u=w.last,u!==null?u.sibling=_:i.child=_,w.last=_)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=At(),i.sibling=null,u=ut.current,et(ut,f?u&1|2:u&1),i):(tn(i),null);case 22:case 23:return Um(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&i.mode&1?Hn&1073741824&&(tn(i),i.subtreeFlags&6&&(i.flags|=8192)):tn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function VC(s,i){switch(Qg(i),i.tag){case 1:return bn(i.type)&&Vd(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return cl(),it(Sn),it(Zt),cm(),s=i.flags,s&65536&&!(s&128)?(i.flags=s&-65537|128,i):null;case 5:return lm(i),null;case 13:if(it(ut),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ol()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return it(ut),null;case 4:return cl(),null;case 10:return sm(i.type._context),null;case 22:case 23:return Um(),null;case 24:return null;default:return null}}var hf=!1,nn=!1,WC=typeof WeakSet=="function"?WeakSet:Set,le=null;function dl(s,i){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){mt(s,i,f)}else u.current=null}function Pm(s,i,u){try{u()}catch(f){mt(s,i,f)}}var RA=!1;function GC(s,i){if(Ug=Pd,s=a0(),Fg(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var _=0,P=-1,M=-1,U=0,Y=0,Q=s,K=null;t:for(;;){for(var re;Q!==u||m!==0&&Q.nodeType!==3||(P=_+m),Q!==w||f!==0&&Q.nodeType!==3||(M=_+f),Q.nodeType===3&&(_+=Q.nodeValue.length),(re=Q.firstChild)!==null;)K=Q,Q=re;for(;;){if(Q===s)break t;if(K===u&&++U===m&&(P=_),K===w&&++Y===f&&(M=_),(re=Q.nextSibling)!==null)break;Q=K,K=Q.parentNode}Q=re}u=P===-1||M===-1?null:{start:P,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for($g={focusedElem:s,selectionRange:u},Pd=!1,le=i;le!==null;)if(i=le,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,le=s;else for(;le!==null;){i=le;try{var ce=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,Et=ce.memoizedState,H=i.stateNode,F=H.getSnapshotBeforeUpdate(i.elementType===i.type?he:ws(i.type,he),Et);H.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){mt(i,i.return,J)}if(s=i.sibling,s!==null){s.return=i.return,le=s;break}le=i.return}return ce=RA,RA=!1,ce}function dc(s,i,u){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var w=m.destroy;m.destroy=void 0,w!==void 0&&Pm(i,u,w)}m=m.next}while(m!==f)}}function df(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==i)}}function Lm(s){var i=s.ref;if(i!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof i=="function"?i(s):i.current=s}}function PA(s){var i=s.alternate;i!==null&&(s.alternate=null,PA(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Vs],delete i[tc],delete i[qg],delete i[TC],delete i[RC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function LA(s){return s.tag===5||s.tag===3||s.tag===4}function MA(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||LA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mm(s,i,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(s,i):u.insertBefore(s,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(s,u)):(i=u,i.appendChild(s)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Ud));else if(f!==4&&(s=s.child,s!==null))for(Mm(s,i,u),s=s.sibling;s!==null;)Mm(s,i,u),s=s.sibling}function Im(s,i,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?u.insertBefore(s,i):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Im(s,i,u),s=s.sibling;s!==null;)Im(s,i,u),s=s.sibling}var Gt=null,As=!1;function br(s,i,u){for(u=u.child;u!==null;)IA(s,i,u),u=u.sibling}function IA(s,i,u){if($s&&typeof $s.onCommitFiberUnmount=="function")try{$s.onCommitFiberUnmount(_d,u)}catch{}switch(u.tag){case 5:nn||dl(u,i);case 6:var f=Gt,m=As;Gt=null,br(s,i,u),Gt=f,As=m,Gt!==null&&(As?(s=Gt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Gt.removeChild(u.stateNode));break;case 18:Gt!==null&&(As?(s=Gt,u=u.stateNode,s.nodeType===8?Gg(s.parentNode,u):s.nodeType===1&&Gg(s,u),Vu(s)):Gg(Gt,u.stateNode));break;case 4:f=Gt,m=As,Gt=u.stateNode.containerInfo,As=!0,br(s,i,u),Gt=f,As=m;break;case 0:case 11:case 14:case 15:if(!nn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var w=m,_=w.destroy;w=w.tag,_!==void 0&&(w&2||w&4)&&Pm(u,i,_),m=m.next}while(m!==f)}br(s,i,u);break;case 1:if(!nn&&(dl(u,i),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(P){mt(u,i,P)}br(s,i,u);break;case 21:br(s,i,u);break;case 22:u.mode&1?(nn=(f=nn)||u.memoizedState!==null,br(s,i,u),nn=f):br(s,i,u);break;default:br(s,i,u)}}function FA(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new WC),i.forEach(function(f){var m=t1.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function Es(s,i){var u=i.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var w=s,_=i,P=_;e:for(;P!==null;){switch(P.tag){case 5:Gt=P.stateNode,As=!1;break e;case 3:Gt=P.stateNode.containerInfo,As=!0;break e;case 4:Gt=P.stateNode.containerInfo,As=!0;break e}P=P.return}if(Gt===null)throw Error(t(160));IA(w,_,m),Gt=null,As=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(U){mt(m,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)NA(i,s),i=i.sibling}function NA(s,i){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Es(i,s),qs(s),f&4){try{dc(3,s,s.return),df(3,s)}catch(he){mt(s,s.return,he)}try{dc(5,s,s.return)}catch(he){mt(s,s.return,he)}}break;case 1:Es(i,s),qs(s),f&512&&u!==null&&dl(u,u.return);break;case 5:if(Es(i,s),qs(s),f&512&&u!==null&&dl(u,u.return),s.flags&32){var m=s.stateNode;try{vi(m,"")}catch(he){mt(s,s.return,he)}}if(f&4&&(m=s.stateNode,m!=null)){var w=s.memoizedProps,_=u!==null?u.memoizedProps:w,P=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{P==="input"&&w.type==="radio"&&w.name!=null&&wt(m,w),cg(P,_);var U=cg(P,w);for(_=0;_<M.length;_+=2){var Y=M[_],Q=M[_+1];Y==="style"?yw(m,Q):Y==="dangerouslySetInnerHTML"?mo(m,Q):Y==="children"?vi(m,Q):L(m,Y,Q,U)}switch(P){case"input":zs(m,w);break;case"textarea":vd(m,w);break;case"select":var K=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!w.multiple;var re=w.value;re!=null?gs(m,!!w.multiple,re,!1):K!==!!w.multiple&&(w.defaultValue!=null?gs(m,!!w.multiple,w.defaultValue,!0):gs(m,!!w.multiple,w.multiple?[]:"",!1))}m[tc]=w}catch(he){mt(s,s.return,he)}}break;case 6:if(Es(i,s),qs(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,w=s.memoizedProps;try{m.nodeValue=w}catch(he){mt(s,s.return,he)}}break;case 3:if(Es(i,s),qs(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Vu(i.containerInfo)}catch(he){mt(s,s.return,he)}break;case 4:Es(i,s),qs(s);break;case 13:Es(i,s),qs(s),m=s.child,m.flags&8192&&(w=m.memoizedState!==null,m.stateNode.isHidden=w,!w||m.alternate!==null&&m.alternate.memoizedState!==null||(Dm=At())),f&4&&FA(s);break;case 22:if(Y=u!==null&&u.memoizedState!==null,s.mode&1?(nn=(U=nn)||Y,Es(i,s),nn=U):Es(i,s),qs(s),f&8192){if(U=s.memoizedState!==null,(s.stateNode.isHidden=U)&&!Y&&s.mode&1)for(le=s,Y=s.child;Y!==null;){for(Q=le=Y;le!==null;){switch(K=le,re=K.child,K.tag){case 0:case 11:case 14:case 15:dc(4,K,K.return);break;case 1:dl(K,K.return);var ce=K.stateNode;if(typeof ce.componentWillUnmount=="function"){f=K,u=K.return;try{i=f,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(he){mt(f,u,he)}}break;case 5:dl(K,K.return);break;case 22:if(K.memoizedState!==null){jA(Q);continue}}re!==null?(re.return=K,le=re):jA(Q)}Y=Y.sibling}e:for(Y=null,Q=s;;){if(Q.tag===5){if(Y===null){Y=Q;try{m=Q.stateNode,U?(w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(P=Q.stateNode,M=Q.memoizedProps.style,_=M!=null&&M.hasOwnProperty("display")?M.display:null,P.style.display=mw("display",_))}catch(he){mt(s,s.return,he)}}}else if(Q.tag===6){if(Y===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(he){mt(s,s.return,he)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===s)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===s)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===s)break e;Y===Q&&(Y=null),Q=Q.return}Y===Q&&(Y=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Es(i,s),qs(s),f&4&&FA(s);break;case 21:break;default:Es(i,s),qs(s)}}function qs(s){var i=s.flags;if(i&2){try{e:{for(var u=s.return;u!==null;){if(LA(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(vi(m,""),f.flags&=-33);var w=MA(s);Im(s,w,m);break;case 3:case 4:var _=f.stateNode.containerInfo,P=MA(s);Mm(s,P,_);break;default:throw Error(t(161))}}catch(M){mt(s,s.return,M)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function qC(s,i,u){le=s,DA(s)}function DA(s,i,u){for(var f=(s.mode&1)!==0;le!==null;){var m=le,w=m.child;if(m.tag===22&&f){var _=m.memoizedState!==null||hf;if(!_){var P=m.alternate,M=P!==null&&P.memoizedState!==null||nn;P=hf;var U=nn;if(hf=_,(nn=M)&&!U)for(le=m;le!==null;)_=le,M=_.child,_.tag===22&&_.memoizedState!==null?HA(m):M!==null?(M.return=_,le=M):HA(m);for(;w!==null;)le=w,DA(w),w=w.sibling;le=m,hf=P,nn=U}OA(s)}else m.subtreeFlags&8772&&w!==null?(w.return=m,le=w):OA(s)}}function OA(s){for(;le!==null;){var i=le;if(i.flags&8772){var u=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:nn||df(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!nn)if(u===null)f.componentDidMount();else{var m=i.elementType===i.type?u.memoizedProps:ws(i.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&j0(i,w,f);break;case 3:var _=i.updateQueue;if(_!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}j0(i,_,u)}break;case 5:var P=i.stateNode;if(u===null&&i.flags&4){u=P;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var Y=U.memoizedState;if(Y!==null){var Q=Y.dehydrated;Q!==null&&Vu(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||i.flags&512&&Lm(i)}catch(K){mt(i,i.return,K)}}if(i===s){le=null;break}if(u=i.sibling,u!==null){u.return=i.return,le=u;break}le=i.return}}function jA(s){for(;le!==null;){var i=le;if(i===s){le=null;break}var u=i.sibling;if(u!==null){u.return=i.return,le=u;break}le=i.return}}function HA(s){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{df(4,i)}catch(M){mt(i,u,M)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var m=i.return;try{f.componentDidMount()}catch(M){mt(i,m,M)}}var w=i.return;try{Lm(i)}catch(M){mt(i,w,M)}break;case 5:var _=i.return;try{Lm(i)}catch(M){mt(i,_,M)}}}catch(M){mt(i,i.return,M)}if(i===s){le=null;break}var P=i.sibling;if(P!==null){P.return=i.return,le=P;break}le=i.return}}var XC=Math.ceil,ff=I.ReactCurrentDispatcher,Fm=I.ReactCurrentOwner,ss=I.ReactCurrentBatchConfig,Ue=0,jt=null,_t=null,qt=0,Hn=0,fl=vr(0),Pt=0,fc=null,xo=0,pf=0,Nm=0,pc=null,xn=null,Dm=0,pl=1/0,Ci=null,gf=!1,Om=null,_r=null,mf=!1,xr=null,yf=0,gc=0,jm=null,vf=-1,wf=0;function pn(){return Ue&6?At():vf!==-1?vf:vf=At()}function Cr(s){return s.mode&1?Ue&2&&qt!==0?qt&-qt:LC.transition!==null?(wf===0&&(wf=Mw()),wf):(s=qe,s!==0||(s=window.event,s=s===void 0?16:zw(s.type)),s):1}function Ss(s,i,u,f){if(50<gc)throw gc=0,jm=null,Error(t(185));Hu(s,u,f),(!(Ue&2)||s!==jt)&&(s===jt&&(!(Ue&2)&&(pf|=u),Pt===4&&kr(s,qt)),Cn(s,f),u===1&&Ue===0&&!(i.mode&1)&&(pl=At()+500,Gd&&Ar()))}function Cn(s,i){var u=s.callbackNode;Lx(s,i);var f=kd(s,s===jt?qt:0);if(f===0)u!==null&&Rw(u),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(u!=null&&Rw(u),i===1)s.tag===0?PC(zA.bind(null,s)):C0(zA.bind(null,s)),CC(function(){!(Ue&6)&&Ar()}),u=null;else{switch(Iw(f)){case 1:u=yg;break;case 4:u=Pw;break;case 16:u=bd;break;case 536870912:u=Lw;break;default:u=bd}u=KA(u,BA.bind(null,s))}s.callbackPriority=i,s.callbackNode=u}}function BA(s,i){if(vf=-1,wf=0,Ue&6)throw Error(t(327));var u=s.callbackNode;if(gl()&&s.callbackNode!==u)return null;var f=kd(s,s===jt?qt:0);if(f===0)return null;if(f&30||f&s.expiredLanes||i)i=Af(s,f);else{i=f;var m=Ue;Ue|=2;var w=$A();(jt!==s||qt!==i)&&(Ci=null,pl=At()+500,ko(s,i));do try{QC();break}catch(P){UA(s,P)}while(!0);nm(),ff.current=w,Ue=m,_t!==null?i=0:(jt=null,qt=0,i=Pt)}if(i!==0){if(i===2&&(m=vg(s),m!==0&&(f=m,i=Hm(s,m))),i===1)throw u=fc,ko(s,0),kr(s,f),Cn(s,At()),u;if(i===6)kr(s,f);else{if(m=s.current.alternate,!(f&30)&&!KC(m)&&(i=Af(s,f),i===2&&(w=vg(s),w!==0&&(f=w,i=Hm(s,w))),i===1))throw u=fc,ko(s,0),kr(s,f),Cn(s,At()),u;switch(s.finishedWork=m,s.finishedLanes=f,i){case 0:case 1:throw Error(t(345));case 2:To(s,xn,Ci);break;case 3:if(kr(s,f),(f&130023424)===f&&(i=Dm+500-At(),10<i)){if(kd(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){pn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Wg(To.bind(null,s,xn,Ci),i);break}To(s,xn,Ci);break;case 4:if(kr(s,f),(f&4194240)===f)break;for(i=s.eventTimes,m=-1;0<f;){var _=31-ms(f);w=1<<_,_=i[_],_>m&&(m=_),f&=~w}if(f=m,f=At()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*XC(f/1960))-f,10<f){s.timeoutHandle=Wg(To.bind(null,s,xn,Ci),f);break}To(s,xn,Ci);break;case 5:To(s,xn,Ci);break;default:throw Error(t(329))}}}return Cn(s,At()),s.callbackNode===u?BA.bind(null,s):null}function Hm(s,i){var u=pc;return s.current.memoizedState.isDehydrated&&(ko(s,i).flags|=256),s=Af(s,i),s!==2&&(i=xn,xn=u,i!==null&&Bm(i)),s}function Bm(s){xn===null?xn=s:xn.push.apply(xn,s)}function KC(s){for(var i=s;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],w=m.getSnapshot;m=m.value;try{if(!ys(w(),m))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function kr(s,i){for(i&=~Nm,i&=~pf,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var u=31-ms(i),f=1<<u;s[u]=-1,i&=~f}}function zA(s){if(Ue&6)throw Error(t(327));gl();var i=kd(s,0);if(!(i&1))return Cn(s,At()),null;var u=Af(s,i);if(s.tag!==0&&u===2){var f=vg(s);f!==0&&(i=f,u=Hm(s,f))}if(u===1)throw u=fc,ko(s,0),kr(s,i),Cn(s,At()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,To(s,xn,Ci),Cn(s,At()),null}function zm(s,i){var u=Ue;Ue|=1;try{return s(i)}finally{Ue=u,Ue===0&&(pl=At()+500,Gd&&Ar())}}function Co(s){xr!==null&&xr.tag===0&&!(Ue&6)&&gl();var i=Ue;Ue|=1;var u=ss.transition,f=qe;try{if(ss.transition=null,qe=1,s)return s()}finally{qe=f,ss.transition=u,Ue=i,!(Ue&6)&&Ar()}}function Um(){Hn=fl.current,it(fl)}function ko(s,i){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,xC(u)),_t!==null)for(u=_t.return;u!==null;){var f=u;switch(Qg(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Vd();break;case 3:cl(),it(Sn),it(Zt),cm();break;case 5:lm(f);break;case 4:cl();break;case 13:it(ut);break;case 19:it(ut);break;case 10:sm(f.type._context);break;case 22:case 23:Um()}u=u.return}if(jt=s,_t=s=Tr(s.current,null),qt=Hn=i,Pt=0,fc=null,Nm=pf=xo=0,xn=pc=null,So!==null){for(i=0;i<So.length;i++)if(u=So[i],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,w=u.pending;if(w!==null){var _=w.next;w.next=m,f.next=_}u.pending=f}So=null}return s}function UA(s,i){do{var u=_t;try{if(nm(),nf.current=af,sf){for(var f=ct.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}sf=!1}if(_o=0,Ot=Rt=ct=null,ac=!1,lc=0,Fm.current=null,u===null||u.return===null){Pt=1,fc=i,_t=null;break}e:{var w=s,_=u.return,P=u,M=i;if(i=qt,P.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var U=M,Y=P,Q=Y.tag;if(!(Y.mode&1)&&(Q===0||Q===11||Q===15)){var K=Y.alternate;K?(Y.updateQueue=K.updateQueue,Y.memoizedState=K.memoizedState,Y.lanes=K.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var re=fA(_);if(re!==null){re.flags&=-257,pA(re,_,P,w,i),re.mode&1&&dA(w,U,i),i=re,M=U;var ce=i.updateQueue;if(ce===null){var he=new Set;he.add(M),i.updateQueue=he}else ce.add(M);break e}else{if(!(i&1)){dA(w,U,i),$m();break e}M=Error(t(426))}}else if(at&&P.mode&1){var Et=fA(_);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),pA(Et,_,P,w,i),em(hl(M,P));break e}}w=M=hl(M,P),Pt!==4&&(Pt=2),pc===null?pc=[w]:pc.push(w),w=_;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var H=cA(w,M,i);O0(w,H);break e;case 1:P=M;var F=w.type,B=w.stateNode;if(!(w.flags&128)&&(typeof F.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(_r===null||!_r.has(B)))){w.flags|=65536,i&=-i,w.lanes|=i;var J=hA(w,P,i);O0(w,J);break e}}w=w.return}while(w!==null)}WA(u)}catch(fe){i=fe,_t===u&&u!==null&&(_t=u=u.return);continue}break}while(!0)}function $A(){var s=ff.current;return ff.current=af,s===null?af:s}function $m(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),jt===null||!(xo&268435455)&&!(pf&268435455)||kr(jt,qt)}function Af(s,i){var u=Ue;Ue|=2;var f=$A();(jt!==s||qt!==i)&&(Ci=null,ko(s,i));do try{YC();break}catch(m){UA(s,m)}while(!0);if(nm(),Ue=u,ff.current=f,_t!==null)throw Error(t(261));return jt=null,qt=0,Pt}function YC(){for(;_t!==null;)VA(_t)}function QC(){for(;_t!==null&&!Sx();)VA(_t)}function VA(s){var i=XA(s.alternate,s,Hn);s.memoizedProps=s.pendingProps,i===null?WA(s):_t=i,Fm.current=null}function WA(s){var i=s;do{var u=i.alternate;if(s=i.return,i.flags&32768){if(u=VC(u,i),u!==null){u.flags&=32767,_t=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Pt=6,_t=null;return}}else if(u=$C(u,i,Hn),u!==null){_t=u;return}if(i=i.sibling,i!==null){_t=i;return}_t=i=s}while(i!==null);Pt===0&&(Pt=5)}function To(s,i,u){var f=qe,m=ss.transition;try{ss.transition=null,qe=1,JC(s,i,u,f)}finally{ss.transition=m,qe=f}return null}function JC(s,i,u,f){do gl();while(xr!==null);if(Ue&6)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(Mx(s,w),s===jt&&(_t=jt=null,qt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||mf||(mf=!0,KA(bd,function(){return gl(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=ss.transition,ss.transition=null;var _=qe;qe=1;var P=Ue;Ue|=4,Fm.current=null,GC(s,u),NA(u,s),vC($g),Pd=!!Ug,$g=Ug=null,s.current=u,qC(u),bx(),Ue=P,qe=_,ss.transition=w}else s.current=u;if(mf&&(mf=!1,xr=s,yf=m),w=s.pendingLanes,w===0&&(_r=null),Cx(u.stateNode),Cn(s,At()),i!==null)for(f=s.onRecoverableError,u=0;u<i.length;u++)m=i[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(gf)throw gf=!1,s=Om,Om=null,s;return yf&1&&s.tag!==0&&gl(),w=s.pendingLanes,w&1?s===jm?gc++:(gc=0,jm=s):gc=0,Ar(),null}function gl(){if(xr!==null){var s=Iw(yf),i=ss.transition,u=qe;try{if(ss.transition=null,qe=16>s?16:s,xr===null)var f=!1;else{if(s=xr,xr=null,yf=0,Ue&6)throw Error(t(331));var m=Ue;for(Ue|=4,le=s.current;le!==null;){var w=le,_=w.child;if(le.flags&16){var P=w.deletions;if(P!==null){for(var M=0;M<P.length;M++){var U=P[M];for(le=U;le!==null;){var Y=le;switch(Y.tag){case 0:case 11:case 15:dc(8,Y,w)}var Q=Y.child;if(Q!==null)Q.return=Y,le=Q;else for(;le!==null;){Y=le;var K=Y.sibling,re=Y.return;if(PA(Y),Y===U){le=null;break}if(K!==null){K.return=re,le=K;break}le=re}}}var ce=w.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var Et=he.sibling;he.sibling=null,he=Et}while(he!==null)}}le=w}}if(w.subtreeFlags&2064&&_!==null)_.return=w,le=_;else e:for(;le!==null;){if(w=le,w.flags&2048)switch(w.tag){case 0:case 11:case 15:dc(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,le=H;break e}le=w.return}}var F=s.current;for(le=F;le!==null;){_=le;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,le=B;else e:for(_=F;le!==null;){if(P=le,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:df(9,P)}}catch(fe){mt(P,P.return,fe)}if(P===_){le=null;break e}var J=P.sibling;if(J!==null){J.return=P.return,le=J;break e}le=P.return}}if(Ue=m,Ar(),$s&&typeof $s.onPostCommitFiberRoot=="function")try{$s.onPostCommitFiberRoot(_d,s)}catch{}f=!0}return f}finally{qe=u,ss.transition=i}}return!1}function GA(s,i,u){i=hl(u,i),i=cA(s,i,1),s=Sr(s,i,1),i=pn(),s!==null&&(Hu(s,1,i),Cn(s,i))}function mt(s,i,u){if(s.tag===3)GA(s,s,u);else for(;i!==null;){if(i.tag===3){GA(i,s,u);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_r===null||!_r.has(f))){s=hl(u,s),s=hA(i,s,1),i=Sr(i,s,1),s=pn(),i!==null&&(Hu(i,1,s),Cn(i,s));break}}i=i.return}}function ZC(s,i,u){var f=s.pingCache;f!==null&&f.delete(i),i=pn(),s.pingedLanes|=s.suspendedLanes&u,jt===s&&(qt&u)===u&&(Pt===4||Pt===3&&(qt&130023424)===qt&&500>At()-Dm?ko(s,0):Nm|=u),Cn(s,i)}function qA(s,i){i===0&&(s.mode&1?(i=Cd,Cd<<=1,!(Cd&130023424)&&(Cd=4194304)):i=1);var u=pn();s=bi(s,i),s!==null&&(Hu(s,i,u),Cn(s,u))}function e1(s){var i=s.memoizedState,u=0;i!==null&&(u=i.retryLane),qA(s,u)}function t1(s,i){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(i),qA(s,u)}var XA;XA=function(s,i,u){if(s!==null)if(s.memoizedProps!==i.pendingProps||Sn.current)_n=!0;else{if(!(s.lanes&u)&&!(i.flags&128))return _n=!1,UC(s,i,u);_n=!!(s.flags&131072)}else _n=!1,at&&i.flags&1048576&&k0(i,Xd,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;cf(s,i),s=i.pendingProps;var m=sl(i,Zt.current);ul(i,u),m=fm(null,i,f,s,m,u);var w=pm();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,bn(f)?(w=!0,Wd(i)):w=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,om(i),m.updater=lf,i.stateNode=m,m._reactInternals=i,Am(i,f,s,u),i=_m(null,i,f,!0,w,u)):(i.tag=0,at&&w&&Yg(i),fn(null,i,m,u),i=i.child),i;case 16:f=i.elementType;e:{switch(cf(s,i),s=i.pendingProps,m=f._init,f=m(f._payload),i.type=f,m=i.tag=s1(f),s=ws(f,s),m){case 0:i=bm(null,i,f,s,u);break e;case 1:i=AA(null,i,f,s,u);break e;case 11:i=gA(null,i,f,s,u);break e;case 14:i=mA(null,i,f,ws(f.type,s),u);break e}throw Error(t(306,f,""))}return i;case 0:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:ws(f,m),bm(s,i,f,m,u);case 1:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:ws(f,m),AA(s,i,f,m,u);case 3:e:{if(EA(i),s===null)throw Error(t(387));f=i.pendingProps,w=i.memoizedState,m=w.element,D0(s,i),ef(i,f,null,u);var _=i.memoizedState;if(f=_.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){m=hl(Error(t(423)),i),i=SA(s,i,f,u,m);break e}else if(f!==m){m=hl(Error(t(424)),i),i=SA(s,i,f,u,m);break e}else for(jn=yr(i.stateNode.containerInfo.firstChild),On=i,at=!0,vs=null,u=F0(i,null,f,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ol(),f===m){i=xi(s,i,u);break e}fn(s,i,f,u)}i=i.child}return i;case 5:return H0(i),s===null&&Zg(i),f=i.type,m=i.pendingProps,w=s!==null?s.memoizedProps:null,_=m.children,Vg(f,m)?_=null:w!==null&&Vg(f,w)&&(i.flags|=32),wA(s,i),fn(s,i,_,u),i.child;case 6:return s===null&&Zg(i),null;case 13:return bA(s,i,u);case 4:return am(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=al(i,null,f,u):fn(s,i,f,u),i.child;case 11:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:ws(f,m),gA(s,i,f,m,u);case 7:return fn(s,i,i.pendingProps,u),i.child;case 8:return fn(s,i,i.pendingProps.children,u),i.child;case 12:return fn(s,i,i.pendingProps.children,u),i.child;case 10:e:{if(f=i.type._context,m=i.pendingProps,w=i.memoizedProps,_=m.value,et(Qd,f._currentValue),f._currentValue=_,w!==null)if(ys(w.value,_)){if(w.children===m.children&&!Sn.current){i=xi(s,i,u);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var P=w.dependencies;if(P!==null){_=w.child;for(var M=P.firstContext;M!==null;){if(M.context===f){if(w.tag===1){M=_i(-1,u&-u),M.tag=2;var U=w.updateQueue;if(U!==null){U=U.shared;var Y=U.pending;Y===null?M.next=M:(M.next=Y.next,Y.next=M),U.pending=M}}w.lanes|=u,M=w.alternate,M!==null&&(M.lanes|=u),im(w.return,u,i),P.lanes|=u;break}M=M.next}}else if(w.tag===10)_=w.type===i.type?null:w.child;else if(w.tag===18){if(_=w.return,_===null)throw Error(t(341));_.lanes|=u,P=_.alternate,P!==null&&(P.lanes|=u),im(_,u,i),_=w.sibling}else _=w.child;if(_!==null)_.return=w;else for(_=w;_!==null;){if(_===i){_=null;break}if(w=_.sibling,w!==null){w.return=_.return,_=w;break}_=_.return}w=_}fn(s,i,m.children,u),i=i.child}return i;case 9:return m=i.type,f=i.pendingProps.children,ul(i,u),m=ts(m),f=f(m),i.flags|=1,fn(s,i,f,u),i.child;case 14:return f=i.type,m=ws(f,i.pendingProps),m=ws(f.type,m),mA(s,i,f,m,u);case 15:return yA(s,i,i.type,i.pendingProps,u);case 17:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:ws(f,m),cf(s,i),i.tag=1,bn(f)?(s=!0,Wd(i)):s=!1,ul(i,u),lA(i,f,m),Am(i,f,m,u),_m(null,i,f,!0,s,u);case 19:return xA(s,i,u);case 22:return vA(s,i,u)}throw Error(t(156,i.tag))};function KA(s,i){return Tw(s,i)}function n1(s,i,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(s,i,u,f){return new n1(s,i,u,f)}function Vm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function s1(s){if(typeof s=="function")return Vm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===_e)return 11;if(s===Ae)return 14}return 2}function Tr(s,i){var u=s.alternate;return u===null?(u=is(s.tag,i,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=i,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,i=s.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Ef(s,i,u,f,m,w){var _=2;if(f=s,typeof s=="function")Vm(s)&&(_=1);else if(typeof s=="string")_=5;else e:switch(s){case z:return Ro(u.children,m,w,i);case W:_=8,m|=8;break;case X:return s=is(12,u,i,m|2),s.elementType=X,s.lanes=w,s;case pe:return s=is(13,u,i,m),s.elementType=pe,s.lanes=w,s;case de:return s=is(19,u,i,m),s.elementType=de,s.lanes=w,s;case Z:return Sf(u,m,w,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case te:_=10;break e;case se:_=9;break e;case _e:_=11;break e;case Ae:_=14;break e;case me:_=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=is(_,u,i,m),i.elementType=s,i.type=f,i.lanes=w,i}function Ro(s,i,u,f){return s=is(7,s,f,i),s.lanes=u,s}function Sf(s,i,u,f){return s=is(22,s,f,i),s.elementType=Z,s.lanes=u,s.stateNode={isHidden:!1},s}function Wm(s,i,u){return s=is(6,s,null,i),s.lanes=u,s}function Gm(s,i,u){return i=is(4,s.children!==null?s.children:[],s.key,i),i.lanes=u,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function i1(s,i,u,f,m){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wg(0),this.expirationTimes=wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wg(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function qm(s,i,u,f,m,w,_,P,M){return s=new i1(s,i,u,P,M),i===1?(i=1,w===!0&&(i|=8)):i=0,w=is(3,null,null,i),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(w),s}function r1(s,i,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:f==null?null:""+f,children:s,containerInfo:i,implementation:u}}function YA(s){if(!s)return wr;s=s._reactInternals;e:{if(yo(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(bn(u))return _0(s,u,i)}return i}function QA(s,i,u,f,m,w,_,P,M){return s=qm(u,f,!0,s,m,w,_,P,M),s.context=YA(null),u=s.current,f=pn(),m=Cr(u),w=_i(f,m),w.callback=i??null,Sr(u,w,m),s.current.lanes=m,Hu(s,m,f),Cn(s,f),s}function bf(s,i,u,f){var m=i.current,w=pn(),_=Cr(m);return u=YA(u),i.context===null?i.context=u:i.pendingContext=u,i=_i(w,_),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=Sr(m,i,_),s!==null&&(Ss(s,m,_,w),Zd(s,m,_)),_}function _f(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function JA(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<i?u:i}}function Xm(s,i){JA(s,i),(s=s.alternate)&&JA(s,i)}var ZA=typeof reportError=="function"?reportError:function(s){console.error(s)};function Km(s){this._internalRoot=s}xf.prototype.render=Km.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));bf(s,i,null,null)},xf.prototype.unmount=Km.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Co(function(){bf(null,s,null,null)}),i[wi]=null}};function xf(s){this._internalRoot=s}xf.prototype.unstable_scheduleHydration=function(s){if(s){var i=Dw();s={blockedOn:null,target:s,priority:i};for(var u=0;u<pr.length&&i!==0&&i<pr[u].priority;u++);pr.splice(u,0,s),u===0&&Hw(s)}};function Ym(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function eE(){}function o1(s,i,u,f,m){if(m){if(typeof f=="function"){var w=f;f=function(){var U=_f(_);w.call(U)}}var _=QA(i,f,s,0,null,!1,!1,"",eE);return s._reactRootContainer=_,s[wi]=_.current,Zu(s.nodeType===8?s.parentNode:s),Co(),_}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var P=f;f=function(){var U=_f(M);P.call(U)}}var M=qm(s,0,!1,null,null,!1,!1,"",eE);return s._reactRootContainer=M,s[wi]=M.current,Zu(s.nodeType===8?s.parentNode:s),Co(function(){bf(i,M,u,f)}),M}function kf(s,i,u,f,m){var w=u._reactRootContainer;if(w){var _=w;if(typeof m=="function"){var P=m;m=function(){var M=_f(_);P.call(M)}}bf(i,_,s,m)}else _=o1(u,i,s,m,f);return _f(_)}Fw=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var u=ju(i.pendingLanes);u!==0&&(Ag(i,u|1),Cn(i,At()),!(Ue&6)&&(pl=At()+500,Ar()))}break;case 13:Co(function(){var f=bi(s,1);if(f!==null){var m=pn();Ss(f,s,1,m)}}),Xm(s,1)}},Eg=function(s){if(s.tag===13){var i=bi(s,134217728);if(i!==null){var u=pn();Ss(i,s,134217728,u)}Xm(s,134217728)}},Nw=function(s){if(s.tag===13){var i=Cr(s),u=bi(s,i);if(u!==null){var f=pn();Ss(u,s,i,f)}Xm(s,i)}},Dw=function(){return qe},Ow=function(s,i){var u=qe;try{return qe=s,i()}finally{qe=u}},fg=function(s,i,u){switch(i){case"input":if(zs(s,u),i=u.name,u.type==="radio"&&i!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var f=u[i];if(f!==s&&f.form===s.form){var m=$d(f);if(!m)throw Error(t(90));ur(f),zs(f,m)}}}break;case"textarea":vd(s,u);break;case"select":i=u.value,i!=null&&gs(s,!!u.multiple,i,!1)}},Ew=zm,Sw=Co;var a1={usingClientEntryPoint:!1,Events:[nc,tl,$d,ww,Aw,zm]},mc={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l1={bundleType:mc.bundleType,version:mc.version,rendererPackageName:mc.rendererPackageName,rendererConfig:mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Cw(s),s===null?null:s.stateNode},findFiberByHostInstance:mc.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{_d=Tf.inject(l1),$s=Tf}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a1,kn.createPortal=function(s,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ym(i))throw Error(t(200));return r1(s,i,null,u)},kn.createRoot=function(s,i){if(!Ym(s))throw Error(t(299));var u=!1,f="",m=ZA;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=qm(s,1,!1,null,null,u,!1,f,m),s[wi]=i.current,Zu(s.nodeType===8?s.parentNode:s),new Km(i)},kn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Cw(i),s=s===null?null:s.stateNode,s},kn.flushSync=function(s){return Co(s)},kn.hydrate=function(s,i,u){if(!Cf(i))throw Error(t(200));return kf(null,s,i,!0,u)},kn.hydrateRoot=function(s,i,u){if(!Ym(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,w="",_=ZA;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),i=QA(i,null,s,1,u??null,m,!1,w,_),s[wi]=i.current,Zu(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,m]:i.mutableSourceEagerHydrationData.push(u,m);return new xf(i)},kn.render=function(s,i,u){if(!Cf(i))throw Error(t(200));return kf(null,s,i,!1,u)},kn.unmountComponentAtNode=function(s){if(!Cf(s))throw Error(t(40));return s._reactRootContainer?(Co(function(){kf(null,null,s,!1,function(){s._reactRootContainer=null,s[wi]=null})}),!0):!1},kn.unstable_batchedUpdates=zm,kn.unstable_renderSubtreeIntoContainer=function(s,i,u,f){if(!Cf(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return kf(s,i,u,!1,f)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var uE;function w1(){if(uE)return ey.exports;uE=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ey.exports=v1(),ey.exports}var cE;function A1(){if(cE)return Rf;cE=1;var a=w1();return Rf.createRoot=a.createRoot,Rf.hydrateRoot=a.hydrateRoot,Rf}var E1=A1(),vc={},hE;function S1(){if(hE)return vc;hE=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.parse=l,vc.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,A){const E=new o,S=v.length;if(S<2)return E;const k=(A==null?void 0:A.decode)||g;let C=0;do{const R=v.indexOf("=",C);if(R===-1)break;const L=v.indexOf(";",C),I=L===-1?S:L;if(R>I){C=v.lastIndexOf(";",R-1)+1;continue}const j=h(v,C,R),O=d(v,R,j),z=v.slice(j,O);if(E[z]===void 0){let W=h(v,R+1,I),X=d(v,I,W);const te=k(v.slice(W,X));E[z]=te}C=I+1}while(C<S);return E}function h(v,A,E){do{const S=v.charCodeAt(A);if(S!==32&&S!==9)return A}while(++A<E);return E}function d(v,A,E){for(;A>E;){const S=v.charCodeAt(--A);if(S!==32&&S!==9)return A+1}return E}function p(v,A,E){const S=(E==null?void 0:E.encode)||encodeURIComponent;if(!a.test(v))throw new TypeError(`argument name is invalid: ${v}`);const k=S(A);if(!e.test(k))throw new TypeError(`argument val is invalid: ${A}`);let C=v+"="+k;if(!E)return C;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);C+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);C+="; Domain="+E.domain}if(E.path){if(!n.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);C+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);C+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(C+="; HttpOnly"),E.secure&&(C+="; Secure"),E.partitioned&&(C+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return C}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return r.call(v)==="[object Date]"}return vc}S1();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dE="popstate";function b1(a={}){function e(n,r){let{pathname:o,search:l,hash:h}=n.location;return my("",{pathname:o,search:l,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:$c(r)}return x1(e,t,null,a)}function gt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function pi(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _1(){return Math.random().toString(36).substring(2,10)}function fE(a,e){return{usr:a.state,key:a.key,idx:e}}function my(a,e,t=null,n){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Tu(e):e,state:t,key:e&&e.key||n||_1()}}function $c({pathname:a="/",search:e="",hash:t=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(a+=t.charAt(0)==="#"?t:"#"+t),a}function Tu(a){let e={};if(a){let t=a.indexOf("#");t>=0&&(e.hash=a.substring(t),a=a.substring(0,t));let n=a.indexOf("?");n>=0&&(e.search=a.substring(n),a=a.substring(0,n)),a&&(e.pathname=a)}return e}function x1(a,e,t,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,h="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function y(){h="POP";let k=g(),C=k==null?null:k-p;p=k,d&&d({action:h,location:S.location,delta:C})}function v(k,C){h="PUSH";let R=my(S.location,k,C);p=g()+1;let L=fE(R,p),I=S.createHref(R);try{l.pushState(L,"",I)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(I)}o&&d&&d({action:h,location:S.location,delta:1})}function A(k,C){h="REPLACE";let R=my(S.location,k,C);p=g();let L=fE(R,p),I=S.createHref(R);l.replaceState(L,"",I),o&&d&&d({action:h,location:S.location,delta:0})}function E(k){let C=r.location.origin!=="null"?r.location.origin:r.location.href,R=typeof k=="string"?k:$c(k);return R=R.replace(/ $/,"%20"),gt(C,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,C)}let S={get action(){return h},get location(){return a(r,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(dE,y),d=k,()=>{r.removeEventListener(dE,y),d=null}},createHref(k){return e(r,k)},createURL:E,encodeLocation(k){let C=E(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:A,go(k){return l.go(k)}};return S}function uS(a,e,t="/"){return C1(a,e,t,!1)}function C1(a,e,t,n){let r=typeof e=="string"?Tu(e):e,o=ao(r.pathname||"/",t);if(o==null)return null;let l=cS(a);k1(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let p=j1(o);h=D1(l[d],p,n)}return h}function cS(a,e=[],t=[],n=""){let r=(o,l,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(gt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let p=sr([n,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(gt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cS(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:F1(p,o.index),routesMeta:g})};return a.forEach((o,l)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,l);else for(let d of hS(o.path))r(o,l,d)}),e}function hS(a){let e=a.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=hS(n.join("/")),h=[];return h.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...l),h.map(d=>a.startsWith("/")&&d===""?"/":d)}function k1(a){a.sort((e,t)=>e.score!==t.score?t.score-e.score:N1(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var T1=/^:[\w-]+$/,R1=3,P1=2,L1=1,M1=10,I1=-2,pE=a=>a==="*";function F1(a,e){let t=a.split("/"),n=t.length;return t.some(pE)&&(n+=I1),e&&(n+=P1),t.filter(r=>!pE(r)).reduce((r,o)=>r+(T1.test(o)?R1:o===""?L1:M1),n)}function N1(a,e){return a.length===e.length&&a.slice(0,-1).every((n,r)=>n===e[r])?a[a.length-1]-e[e.length-1]:0}function D1(a,e,t=!1){let{routesMeta:n}=a,r={},o="/",l=[];for(let h=0;h<n.length;++h){let d=n[h],p=h===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=vp({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),v=d.route;if(!y&&p&&t&&!n[n.length-1].route.index&&(y=vp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:sr([o,y.pathname]),pathnameBase:U1(sr([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=sr([o,y.pathnameBase]))}return l}function vp(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[t,n]=O1(a.path,a.caseSensitive,a.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:n.reduce((p,{paramName:g,isOptional:y},v)=>{if(g==="*"){let E=h[v]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const A=h[v];return y&&!A?p[g]=void 0:p[g]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:a}}function O1(a,e=!1,t=!0){pi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let n=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(n.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(n.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function j1(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ao(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=a.charAt(t);return n&&n!=="/"?null:a.slice(t)||"/"}function H1(a,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof a=="string"?Tu(a):a;return{pathname:t?t.startsWith("/")?t:B1(t,e):e,search:$1(n),hash:V1(r)}}function B1(a,e){let t=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function sy(a,e,t,n){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z1(a){return a.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dS(a){let e=z1(a);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function fS(a,e,t,n=!1){let r;typeof a=="string"?r=Tu(a):(r={...a},gt(!r.pathname||!r.pathname.includes("?"),sy("?","pathname","search",r)),gt(!r.pathname||!r.pathname.includes("#"),sy("#","pathname","hash",r)),gt(!r.search||!r.search.includes("#"),sy("#","search","hash",r)));let o=a===""||r.pathname==="",l=o?"/":r.pathname,h;if(l==null)h=t;else{let y=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;r.pathname=v.join("/")}h=y>=0?e[y]:"/"}let d=H1(r,h),p=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var sr=a=>a.join("/").replace(/\/\/+/g,"/"),U1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),$1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,V1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function W1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var pS=["POST","PUT","PATCH","DELETE"];new Set(pS);var G1=["GET",...pS];new Set(G1);var Ru=N.createContext(null);Ru.displayName="DataRouter";var $p=N.createContext(null);$p.displayName="DataRouterState";var gS=N.createContext({isTransitioning:!1});gS.displayName="ViewTransition";var q1=N.createContext(new Map);q1.displayName="Fetchers";var X1=N.createContext(null);X1.displayName="Await";var gi=N.createContext(null);gi.displayName="Navigation";var ld=N.createContext(null);ld.displayName="Location";var mi=N.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Wv=N.createContext(null);Wv.displayName="RouteError";function K1(a,{relative:e}={}){gt(ud(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=N.useContext(gi),{hash:r,pathname:o,search:l}=cd(a,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:sr([t,o])),n.createHref({pathname:h,search:l,hash:r})}function ud(){return N.useContext(ld)!=null}function Ua(){return gt(ud(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(ld).location}var mS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yS(a){N.useContext(gi).static||N.useLayoutEffect(a)}function fo(){let{isDataRoute:a}=N.useContext(mi);return a?uk():Y1()}function Y1(){gt(ud(),"useNavigate() may be used only in the context of a <Router> component.");let a=N.useContext(Ru),{basename:e,navigator:t}=N.useContext(gi),{matches:n}=N.useContext(mi),{pathname:r}=Ua(),o=JSON.stringify(dS(n)),l=N.useRef(!1);return yS(()=>{l.current=!0}),N.useCallback((d,p={})=>{if(pi(l.current,mS),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=fS(d,JSON.parse(o),r,p.relative==="path");a==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:sr([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,r,a])}N.createContext(null);function Q1(){let{matches:a}=N.useContext(mi),e=a[a.length-1];return e?e.params:{}}function cd(a,{relative:e}={}){let{matches:t}=N.useContext(mi),{pathname:n}=Ua(),r=JSON.stringify(dS(t));return N.useMemo(()=>fS(a,JSON.parse(r),n,e==="path"),[a,r,n,e])}function J1(a,e){return vS(a,e)}function vS(a,e,t,n){var C;gt(ud(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=N.useContext(gi),{matches:o}=N.useContext(mi),l=o[o.length-1],h=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let R=g&&g.path||"";wS(d,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=Ua(),v;if(e){let R=typeof e=="string"?Tu(e):e;gt(p==="/"||((C=R.pathname)==null?void 0:C.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),v=R}else v=y;let A=v.pathname||"/",E=A;if(p!=="/"){let R=p.replace(/^\//,"").split("/");E="/"+A.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=uS(a,{pathname:E});pi(g||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),pi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=sk(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:sr([p,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:sr([p,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,t,n);return e&&k?N.createElement(ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},k):k}function Z1(){let a=lk(),e=W1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),t=a instanceof Error?a.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",a),l=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:r},t):null,l)}var ek=N.createElement(Z1,null),tk=class extends N.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?N.createElement(mi.Provider,{value:this.props.routeContext},N.createElement(Wv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nk({routeContext:a,match:e,children:t}){let n=N.useContext(Ru);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(mi.Provider,{value:a},t)}function sk(a,e=[],t=null,n=null){if(a==null){if(!t)return null;if(t.errors)a=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)a=t.matches;else return null}let r=a,o=t==null?void 0:t.errors;if(o!=null){let d=r.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);gt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let l=!1,h=-1;if(t)for(let d=0;d<r.length;d++){let p=r[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=t,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){l=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((d,p,g)=>{let y,v=!1,A=null,E=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,A=p.route.errorElement||ek,l&&(h<0&&g===0?(wS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):h===g&&(v=!0,E=p.route.hydrateFallbackElement||null)));let S=e.concat(r.slice(0,g+1)),k=()=>{let C;return y?C=A:v?C=E:p.route.Component?C=N.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=d,N.createElement(nk,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:C})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?N.createElement(tk,{location:t.location,revalidation:t.revalidation,component:A,error:y,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function Gv(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ik(a){let e=N.useContext(Ru);return gt(e,Gv(a)),e}function rk(a){let e=N.useContext($p);return gt(e,Gv(a)),e}function ok(a){let e=N.useContext(mi);return gt(e,Gv(a)),e}function qv(a){let e=ok(a),t=e.matches[e.matches.length-1];return gt(t.route.id,`${a} can only be used on routes that contain a unique "id"`),t.route.id}function ak(){return qv("useRouteId")}function lk(){var n;let a=N.useContext(Wv),e=rk("useRouteError"),t=qv("useRouteError");return a!==void 0?a:(n=e.errors)==null?void 0:n[t]}function uk(){let{router:a}=ik("useNavigate"),e=qv("useNavigate"),t=N.useRef(!1);return yS(()=>{t.current=!0}),N.useCallback(async(r,o={})=>{pi(t.current,mS),t.current&&(typeof r=="number"?a.navigate(r):await a.navigate(r,{fromRouteId:e,...o}))},[a,e])}var gE={};function wS(a,e,t){!e&&!gE[a]&&(gE[a]=!0,pi(!1,t))}N.memo(ck);function ck({routes:a,future:e,state:t}){return vS(a,void 0,t,e)}function Pr(a){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hk({basename:a="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:o=!1}){gt(!ud(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=a.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof t=="string"&&(t=Tu(t));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:v="default"}=t,A=N.useMemo(()=>{let E=ao(d,l);return E==null?null:{location:{pathname:E,search:p,hash:g,state:y,key:v},navigationType:n}},[l,d,p,g,y,v,n]);return pi(A!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:N.createElement(gi.Provider,{value:h},N.createElement(ld.Provider,{children:e,value:A}))}function dk({children:a,location:e}){return J1(yy(a),e)}function yy(a,e=[]){let t=[];return N.Children.forEach(a,(n,r)=>{if(!N.isValidElement(n))return;let o=[...e,r];if(n.type===N.Fragment){t.push.apply(t,yy(n.props.children,o));return}gt(n.type===Pr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=yy(n.props.children,o)),t.push(l)}),t}var Of="get",jf="application/x-www-form-urlencoded";function Vp(a){return a!=null&&typeof a.tagName=="string"}function fk(a){return Vp(a)&&a.tagName.toLowerCase()==="button"}function pk(a){return Vp(a)&&a.tagName.toLowerCase()==="form"}function gk(a){return Vp(a)&&a.tagName.toLowerCase()==="input"}function mk(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function yk(a,e){return a.button===0&&(!e||e==="_self")&&!mk(a)}var Pf=null;function vk(){if(Pf===null)try{new FormData(document.createElement("form"),0),Pf=!1}catch{Pf=!0}return Pf}var wk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iy(a){return a!=null&&!wk.has(a)?(pi(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):a}function Ak(a,e){let t,n,r,o,l;if(pk(a)){let h=a.getAttribute("action");n=h?ao(h,e):null,t=a.getAttribute("method")||Of,r=iy(a.getAttribute("enctype"))||jf,o=new FormData(a)}else if(fk(a)||gk(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||h.getAttribute("action");if(n=d?ao(d,e):null,t=a.getAttribute("formmethod")||h.getAttribute("method")||Of,r=iy(a.getAttribute("formenctype"))||iy(h.getAttribute("enctype"))||jf,o=new FormData(h,a),!vk()){let{name:p,type:g,value:y}=a;if(g==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,y)}}else{if(Vp(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Of,n=null,r=jf,l=a}return o&&r==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:o,body:l}}function Xv(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function Ek(a,e){if(a.id in e)return e[a.id];try{let t=await import(a.module);return e[a.id]=t,t}catch(t){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sk(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function bk(a,e,t){let n=await Promise.all(a.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await Ek(o,t);return l.links?l.links():[]}return[]}));return kk(n.flat(1).filter(Sk).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function mE(a,e,t,n,r,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,h=(d,p)=>{var g;return t[p].pathname!==d.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{var y;let g=n.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function _k(a,e){return xk(a.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r}).flat(1))}function xk(a){return[...new Set(a)]}function Ck(a){let e={},t=Object.keys(a).sort();for(let n of t)e[n]=a[n];return e}function kk(a,e){let t=new Set;return new Set(e),a.reduce((n,r)=>{let o=JSON.stringify(Ck(r));return t.has(o)||(t.add(o),n.push({key:o,link:r})),n},[])}function Tk(a){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Rk(){let a=N.useContext(Ru);return Xv(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Pk(){let a=N.useContext($p);return Xv(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Kv=N.createContext(void 0);Kv.displayName="FrameworkContext";function AS(){let a=N.useContext(Kv);return Xv(a,"You must render this element inside a <HydratedRouter> element"),a}function Lk(a,e){let t=N.useContext(Kv),[n,r]=N.useState(!1),[o,l]=N.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,v=N.useRef(null);N.useEffect(()=>{if(a==="render"&&l(!0),a==="viewport"){let S=C=>{C.forEach(R=>{l(R.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return v.current&&k.observe(v.current),()=>{k.disconnect()}}},[a]),N.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let A=()=>{r(!0)},E=()=>{r(!1),l(!1)};return t?a!=="intent"?[o,v,{}]:[o,v,{onFocus:wc(h,A),onBlur:wc(d,E),onMouseEnter:wc(p,A),onMouseLeave:wc(g,E),onTouchStart:wc(y,A)}]:[!1,v,{}]}function wc(a,e){return t=>{a&&a(t),t.defaultPrevented||e(t)}}function Mk({page:a,...e}){let{router:t}=Rk(),n=N.useMemo(()=>uS(t.routes,a,t.basename),[t.routes,a,t.basename]);return n?N.createElement(Fk,{page:a,matches:n,...e}):null}function Ik(a){let{manifest:e,routeModules:t}=AS(),[n,r]=N.useState([]);return N.useEffect(()=>{let o=!1;return bk(a,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[a,e,t]),n}function Fk({page:a,matches:e,...t}){let n=Ua(),{manifest:r,routeModules:o}=AS(),{loaderData:l,matches:h}=Pk(),d=N.useMemo(()=>mE(a,e,h,r,n,"data"),[a,e,h,r,n]),p=N.useMemo(()=>mE(a,e,h,r,n,"assets"),[a,e,h,r,n]),g=N.useMemo(()=>{if(a===n.pathname+n.search+n.hash)return[];let A=new Set,E=!1;if(e.forEach(k=>{var R;let C=r.routes[k.route.id];!C||!C.hasLoader||(!d.some(L=>L.route.id===k.route.id)&&k.route.id in l&&((R=o[k.route.id])!=null&&R.shouldRevalidate)||C.hasClientLoader?E=!0:A.add(k.route.id))}),A.size===0)return[];let S=Tk(a);return E&&A.size>0&&S.searchParams.set("_routes",e.filter(k=>A.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[l,n,r,d,e,a,o]),y=N.useMemo(()=>_k(p,r),[p,r]),v=Ik(p);return N.createElement(N.Fragment,null,g.map(A=>N.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),y.map(A=>N.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),v.map(({key:A,link:E})=>N.createElement("link",{key:A,...E})))}function Nk(...a){return e=>{a.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ES=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ES&&(window.__reactRouterVersion="7.1.3")}catch{}function Dk({basename:a,children:e,window:t}){let n=N.useRef();n.current==null&&(n.current=b1({window:t,v5Compat:!0}));let r=n.current,[o,l]=N.useState({action:r.action,location:r.location}),h=N.useCallback(d=>{N.startTransition(()=>l(d))},[l]);return N.useLayoutEffect(()=>r.listen(h),[r,h]),N.createElement(hk,{basename:a,children:e,location:o.location,navigationType:o.action,navigator:r})}var SS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vc=N.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:o,replace:l,state:h,target:d,to:p,preventScrollReset:g,viewTransition:y,...v},A){let{basename:E}=N.useContext(gi),S=typeof p=="string"&&SS.test(p),k,C=!1;if(typeof p=="string"&&S&&(k=p,ES))try{let X=new URL(window.location.href),te=p.startsWith("//")?new URL(X.protocol+p):new URL(p),se=ao(te.pathname,E);te.origin===X.origin&&se!=null?p=se+te.search+te.hash:C=!0}catch{pi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=K1(p,{relative:r}),[L,I,j]=Lk(n,v),O=Bk(p,{replace:l,state:h,target:d,preventScrollReset:g,relative:r,viewTransition:y});function z(X){e&&e(X),X.defaultPrevented||O(X)}let W=N.createElement("a",{...v,...j,href:k||R,onClick:C||o?e:z,ref:Nk(A,I),target:d,"data-discover":!S&&t==="render"?"true":void 0});return L&&!S?N.createElement(N.Fragment,null,W,N.createElement(Mk,{page:R})):W});Vc.displayName="Link";var Ok=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:o,to:l,viewTransition:h,children:d,...p},g){let y=cd(l,{relative:p.relative}),v=Ua(),A=N.useContext($p),{navigator:E,basename:S}=N.useContext(gi),k=A!=null&&Wk(y)&&h===!0,C=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,R=v.pathname,L=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(R=R.toLowerCase(),L=L?L.toLowerCase():null,C=C.toLowerCase()),L&&S&&(L=ao(L,S)||L);const I=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let j=R===C||!r&&R.startsWith(C)&&R.charAt(I)==="/",O=L!=null&&(L===C||!r&&L.startsWith(C)&&L.charAt(C.length)==="/"),z={isActive:j,isPending:O,isTransitioning:k},W=j?e:void 0,X;typeof n=="function"?X=n(z):X=[n,j?"active":null,O?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let te=typeof o=="function"?o(z):o;return N.createElement(Vc,{...p,"aria-current":W,className:X,ref:g,style:te,to:l,viewTransition:h},typeof d=="function"?d(z):d)});Ok.displayName="NavLink";var jk=N.forwardRef(({discover:a="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:o,method:l=Of,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,...v},A)=>{let E=$k(),S=Vk(h,{relative:p}),k=l.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&SS.test(h),R=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let I=L.nativeEvent.submitter,j=(I==null?void 0:I.getAttribute("formmethod"))||l;E(I||L.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:r,state:o,relative:p,preventScrollReset:g,viewTransition:y})};return N.createElement("form",{ref:A,method:k,action:S,onSubmit:n?d:R,...v,"data-discover":!C&&a==="render"?"true":void 0})});jk.displayName="Form";function Hk(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(a){let e=N.useContext(Ru);return gt(e,Hk(a)),e}function Bk(a,{target:e,replace:t,state:n,preventScrollReset:r,relative:o,viewTransition:l}={}){let h=fo(),d=Ua(),p=cd(a,{relative:o});return N.useCallback(g=>{if(yk(g,e)){g.preventDefault();let y=t!==void 0?t:$c(d)===$c(p);h(a,{replace:y,state:n,preventScrollReset:r,relative:o,viewTransition:l})}},[d,h,p,t,n,e,a,r,o,l])}var zk=0,Uk=()=>`__${String(++zk)}__`;function $k(){let{router:a}=bS("useSubmit"),{basename:e}=N.useContext(gi),t=ak();return N.useCallback(async(n,r={})=>{let{action:o,method:l,encType:h,formData:d,body:p}=Ak(n,e);if(r.navigate===!1){let g=r.fetcherKey||Uk();await a.fetch(g,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:p,formMethod:r.method||l,formEncType:r.encType||h,flushSync:r.flushSync})}else await a.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:p,formMethod:r.method||l,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,e,t])}function Vk(a,{relative:e}={}){let{basename:t}=N.useContext(gi),n=N.useContext(mi);gt(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...cd(a||".",{relative:e})},l=Ua();if(a==null){o.search=l.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();o.search=g?`?${g}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:sr([t,o.pathname])),$c(o)}function Wk(a,e={}){let t=N.useContext(gS);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=bS("useViewTransitionState"),r=cd(a,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ao(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=ao(t.nextLocation.pathname,n)||t.nextLocation.pathname;return vp(r.pathname,l)!=null||vp(r.pathname,o)!=null}new TextEncoder;const Gk=()=>{const a=fo();return N.useEffect(()=>{a("/upload")},[a]),null};function _S(a,e){return function(){return a.apply(e,arguments)}}const{toString:qk}=Object.prototype,{getPrototypeOf:Yv}=Object,Wp=(a=>e=>{const t=qk.call(e);return a[t]||(a[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Hs=a=>(a=a.toLowerCase(),e=>Wp(e)===a),Gp=a=>e=>typeof e===a,{isArray:Pu}=Array,Wc=Gp("undefined");function Xk(a){return a!==null&&!Wc(a)&&a.constructor!==null&&!Wc(a.constructor)&&Qn(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const xS=Hs("ArrayBuffer");function Kk(a){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(a):e=a&&a.buffer&&xS(a.buffer),e}const Yk=Gp("string"),Qn=Gp("function"),CS=Gp("number"),qp=a=>a!==null&&typeof a=="object",Qk=a=>a===!0||a===!1,Hf=a=>{if(Wp(a)!=="object")return!1;const e=Yv(a);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Jk=Hs("Date"),Zk=Hs("File"),eT=Hs("Blob"),tT=Hs("FileList"),nT=a=>qp(a)&&Qn(a.pipe),sT=a=>{let e;return a&&(typeof FormData=="function"&&a instanceof FormData||Qn(a.append)&&((e=Wp(a))==="formdata"||e==="object"&&Qn(a.toString)&&a.toString()==="[object FormData]"))},iT=Hs("URLSearchParams"),[rT,oT,aT,lT]=["ReadableStream","Request","Response","Headers"].map(Hs),uT=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hd(a,e,{allOwnKeys:t=!1}={}){if(a===null||typeof a>"u")return;let n,r;if(typeof a!="object"&&(a=[a]),Pu(a))for(n=0,r=a.length;n<r;n++)e.call(null,a[n],n,a);else{const o=t?Object.getOwnPropertyNames(a):Object.keys(a),l=o.length;let h;for(n=0;n<l;n++)h=o[n],e.call(null,a[h],h,a)}}function kS(a,e){e=e.toLowerCase();const t=Object.keys(a);let n=t.length,r;for(;n-- >0;)if(r=t[n],e===r.toLowerCase())return r;return null}const Oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TS=a=>!Wc(a)&&a!==Oo;function vy(){const{caseless:a}=TS(this)&&this||{},e={},t=(n,r)=>{const o=a&&kS(e,r)||r;Hf(e[o])&&Hf(n)?e[o]=vy(e[o],n):Hf(n)?e[o]=vy({},n):Pu(n)?e[o]=n.slice():e[o]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&hd(arguments[n],t);return e}const cT=(a,e,t,{allOwnKeys:n}={})=>(hd(e,(r,o)=>{t&&Qn(r)?a[o]=_S(r,t):a[o]=r},{allOwnKeys:n}),a),hT=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),dT=(a,e,t,n)=>{a.prototype=Object.create(e.prototype,n),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:e.prototype}),t&&Object.assign(a.prototype,t)},fT=(a,e,t,n)=>{let r,o,l;const h={};if(e=e||{},a==null)return e;do{for(r=Object.getOwnPropertyNames(a),o=r.length;o-- >0;)l=r[o],(!n||n(l,a,e))&&!h[l]&&(e[l]=a[l],h[l]=!0);a=t!==!1&&Yv(a)}while(a&&(!t||t(a,e))&&a!==Object.prototype);return e},pT=(a,e,t)=>{a=String(a),(t===void 0||t>a.length)&&(t=a.length),t-=e.length;const n=a.indexOf(e,t);return n!==-1&&n===t},gT=a=>{if(!a)return null;if(Pu(a))return a;let e=a.length;if(!CS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=a[e];return t},mT=(a=>e=>a&&e instanceof a)(typeof Uint8Array<"u"&&Yv(Uint8Array)),yT=(a,e)=>{const n=(a&&a[Symbol.iterator]).call(a);let r;for(;(r=n.next())&&!r.done;){const o=r.value;e.call(a,o[0],o[1])}},vT=(a,e)=>{let t;const n=[];for(;(t=a.exec(e))!==null;)n.push(t);return n},wT=Hs("HTMLFormElement"),AT=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),yE=(({hasOwnProperty:a})=>(e,t)=>a.call(e,t))(Object.prototype),ET=Hs("RegExp"),RS=(a,e)=>{const t=Object.getOwnPropertyDescriptors(a),n={};hd(t,(r,o)=>{let l;(l=e(r,o,a))!==!1&&(n[o]=l||r)}),Object.defineProperties(a,n)},ST=a=>{RS(a,(e,t)=>{if(Qn(a)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=a[t];if(Qn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},bT=(a,e)=>{const t={},n=r=>{r.forEach(o=>{t[o]=!0})};return Pu(a)?n(a):n(String(a).split(e)),t},_T=()=>{},xT=(a,e)=>a!=null&&Number.isFinite(a=+a)?a:e,ry="abcdefghijklmnopqrstuvwxyz",vE="0123456789",PS={DIGIT:vE,ALPHA:ry,ALPHA_DIGIT:ry+ry.toUpperCase()+vE},CT=(a=16,e=PS.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;a--;)t+=e[Math.random()*n|0];return t};function kT(a){return!!(a&&Qn(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const TT=a=>{const e=new Array(10),t=(n,r)=>{if(qp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[r]=n;const o=Pu(n)?[]:{};return hd(n,(l,h)=>{const d=t(l,r+1);!Wc(d)&&(o[h]=d)}),e[r]=void 0,o}}return n};return t(a,0)},RT=Hs("AsyncFunction"),PT=a=>a&&(qp(a)||Qn(a))&&Qn(a.then)&&Qn(a.catch),LS=((a,e)=>a?setImmediate:e?((t,n)=>(Oo.addEventListener("message",({source:r,data:o})=>{r===Oo&&o===t&&n.length&&n.shift()()},!1),r=>{n.push(r),Oo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Qn(Oo.postMessage)),LT=typeof queueMicrotask<"u"?queueMicrotask.bind(Oo):typeof process<"u"&&process.nextTick||LS,$={isArray:Pu,isArrayBuffer:xS,isBuffer:Xk,isFormData:sT,isArrayBufferView:Kk,isString:Yk,isNumber:CS,isBoolean:Qk,isObject:qp,isPlainObject:Hf,isReadableStream:rT,isRequest:oT,isResponse:aT,isHeaders:lT,isUndefined:Wc,isDate:Jk,isFile:Zk,isBlob:eT,isRegExp:ET,isFunction:Qn,isStream:nT,isURLSearchParams:iT,isTypedArray:mT,isFileList:tT,forEach:hd,merge:vy,extend:cT,trim:uT,stripBOM:hT,inherits:dT,toFlatObject:fT,kindOf:Wp,kindOfTest:Hs,endsWith:pT,toArray:gT,forEachEntry:yT,matchAll:vT,isHTMLForm:wT,hasOwnProperty:yE,hasOwnProp:yE,reduceDescriptors:RS,freezeMethods:ST,toObjectSet:bT,toCamelCase:AT,noop:_T,toFiniteNumber:xT,findKey:kS,global:Oo,isContextDefined:TS,ALPHABET:PS,generateString:CT,isSpecCompliantForm:kT,toJSONObject:TT,isAsyncFn:RT,isThenable:PT,setImmediate:LS,asap:LT};function Pe(a,e,t,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}$.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const MS=Pe.prototype,IS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{IS[a]={value:a}});Object.defineProperties(Pe,IS);Object.defineProperty(MS,"isAxiosError",{value:!0});Pe.from=(a,e,t,n,r,o)=>{const l=Object.create(MS);return $.toFlatObject(a,l,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Pe.call(l,a.message,e,t,n,r),l.cause=a,l.name=a.name,o&&Object.assign(l,o),l};const MT=null;function wy(a){return $.isPlainObject(a)||$.isArray(a)}function FS(a){return $.endsWith(a,"[]")?a.slice(0,-2):a}function wE(a,e,t){return a?a.concat(e).map(function(r,o){return r=FS(r),!t&&o?"["+r+"]":r}).join(t?".":""):e}function IT(a){return $.isArray(a)&&!a.some(wy)}const FT=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function Xp(a,e,t){if(!$.isObject(a))throw new TypeError("target must be an object");e=e||new FormData,t=$.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,k){return!$.isUndefined(k[S])});const n=t.metaTokens,r=t.visitor||g,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(r))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if($.isDate(E))return E.toISOString();if(!d&&$.isBlob(E))throw new Pe("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(E)||$.isTypedArray(E)?d&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function g(E,S,k){let C=E;if(E&&!k&&typeof E=="object"){if($.endsWith(S,"{}"))S=n?S:S.slice(0,-2),E=JSON.stringify(E);else if($.isArray(E)&&IT(E)||($.isFileList(E)||$.endsWith(S,"[]"))&&(C=$.toArray(E)))return S=FS(S),C.forEach(function(L,I){!($.isUndefined(L)||L===null)&&e.append(l===!0?wE([S],I,o):l===null?S:S+"[]",p(L))}),!1}return wy(E)?!0:(e.append(wE(k,S,o),p(E)),!1)}const y=[],v=Object.assign(FT,{defaultVisitor:g,convertValue:p,isVisitable:wy});function A(E,S){if(!$.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));y.push(E),$.forEach(E,function(C,R){(!($.isUndefined(C)||C===null)&&r.call(e,C,$.isString(R)?R.trim():R,S,v))===!0&&A(C,S?S.concat(R):[R])}),y.pop()}}if(!$.isObject(a))throw new TypeError("data must be an object");return A(a),e}function AE(a){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Qv(a,e){this._pairs=[],a&&Xp(a,this,e)}const NS=Qv.prototype;NS.append=function(e,t){this._pairs.push([e,t])};NS.toString=function(e){const t=e?function(n){return e.call(this,n,AE)}:AE;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function NT(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function DS(a,e,t){if(!e)return a;const n=t&&t.encode||NT;$.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let o;if(r?o=r(e,t):o=$.isURLSearchParams(e)?e.toString():new Qv(e,t).toString(n),o){const l=a.indexOf("#");l!==-1&&(a=a.slice(0,l)),a+=(a.indexOf("?")===-1?"?":"&")+o}return a}class EE{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(n){n!==null&&e(n)})}}const OS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DT=typeof URLSearchParams<"u"?URLSearchParams:Qv,OT=typeof FormData<"u"?FormData:null,jT=typeof Blob<"u"?Blob:null,HT={isBrowser:!0,classes:{URLSearchParams:DT,FormData:OT,Blob:jT},protocols:["http","https","file","blob","url","data"]},Jv=typeof window<"u"&&typeof document<"u",Ay=typeof navigator=="object"&&navigator||void 0,BT=Jv&&(!Ay||["ReactNative","NativeScript","NS"].indexOf(Ay.product)<0),zT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",UT=Jv&&window.location.href||"http://localhost",$T=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jv,hasStandardBrowserEnv:BT,hasStandardBrowserWebWorkerEnv:zT,navigator:Ay,origin:UT},Symbol.toStringTag,{value:"Module"})),cn={...$T,...HT};function VT(a,e){return Xp(a,new cn.classes.URLSearchParams,Object.assign({visitor:function(t,n,r,o){return cn.isNode&&$.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function WT(a){return $.matchAll(/\w+|\[(\w*)]/g,a).map(e=>e[0]==="[]"?"":e[1]||e[0])}function GT(a){const e={},t=Object.keys(a);let n;const r=t.length;let o;for(n=0;n<r;n++)o=t[n],e[o]=a[o];return e}function jS(a){function e(t,n,r,o){let l=t[o++];if(l==="__proto__")return!0;const h=Number.isFinite(+l),d=o>=t.length;return l=!l&&$.isArray(r)?r.length:l,d?($.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!h):((!r[l]||!$.isObject(r[l]))&&(r[l]=[]),e(t,n,r[l],o)&&$.isArray(r[l])&&(r[l]=GT(r[l])),!h)}if($.isFormData(a)&&$.isFunction(a.entries)){const t={};return $.forEachEntry(a,(n,r)=>{e(WT(n),r,t,0)}),t}return null}function qT(a,e,t){if($.isString(a))try{return(e||JSON.parse)(a),$.trim(a)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(a)}const dd={transitional:OS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=$.isObject(e);if(o&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return r?JSON.stringify(jS(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return VT(e,this.formSerializer).toString();if((h=$.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Xp(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),qT(e)):e}],transformResponse:[function(e){const t=this.transitional||dd.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(n&&!this.responseType||r)){const l=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(h){if(l)throw h.name==="SyntaxError"?Pe.from(h,Pe.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],a=>{dd.headers[a]={}});const XT=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KT=a=>{const e={};let t,n,r;return a&&a.split(`
`).forEach(function(l){r=l.indexOf(":"),t=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!t||e[t]&&XT[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},SE=Symbol("internals");function Ac(a){return a&&String(a).trim().toLowerCase()}function Bf(a){return a===!1||a==null?a:$.isArray(a)?a.map(Bf):String(a)}function YT(a){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(a);)e[n[1]]=n[2];return e}const QT=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function oy(a,e,t,n,r){if($.isFunction(n))return n.call(this,e,t);if(r&&(e=t),!!$.isString(e)){if($.isString(n))return e.indexOf(n)!==-1;if($.isRegExp(n))return n.test(e)}}function JT(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function ZT(a,e){const t=$.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(a,n+t,{value:function(r,o,l){return this[n].call(this,e,r,o,l)},configurable:!0})})}class Nn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(h,d,p){const g=Ac(d);if(!g)throw new Error("header name must be a non-empty string");const y=$.findKey(r,g);(!y||r[y]===void 0||p===!0||p===void 0&&r[y]!==!1)&&(r[y||d]=Bf(h))}const l=(h,d)=>$.forEach(h,(p,g)=>o(p,g,d));if($.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if($.isString(e)&&(e=e.trim())&&!QT(e))l(KT(e),t);else if($.isHeaders(e))for(const[h,d]of e.entries())o(d,h,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=Ac(e),e){const n=$.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return YT(r);if($.isFunction(t))return t.call(this,r,n);if($.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ac(e),e){const n=$.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||oy(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function o(l){if(l=Ac(l),l){const h=$.findKey(n,l);h&&(!t||oy(n,n[h],h,t))&&(delete n[h],r=!0)}}return $.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];(!e||oy(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return $.forEach(this,(r,o)=>{const l=$.findKey(n,o);if(l){t[l]=Bf(r),delete t[o];return}const h=e?JT(o):String(o).trim();h!==o&&delete t[o],t[h]=Bf(r),n[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return $.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&$.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[SE]=this[SE]={accessors:{}}).accessors,r=this.prototype;function o(l){const h=Ac(l);n[h]||(ZT(r,l),n[h]=!0)}return $.isArray(e)?e.forEach(o):o(e),this}}Nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(Nn.prototype,({value:a},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>a,set(n){this[t]=n}}});$.freezeMethods(Nn);function ay(a,e){const t=this||dd,n=e||t,r=Nn.from(n.headers);let o=n.data;return $.forEach(a,function(h){o=h.call(t,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function HS(a){return!!(a&&a.__CANCEL__)}function Lu(a,e,t){Pe.call(this,a??"canceled",Pe.ERR_CANCELED,e,t),this.name="CanceledError"}$.inherits(Lu,Pe,{__CANCEL__:!0});function BS(a,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?a(t):e(new Pe("Request failed with status code "+t.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function eR(a){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return e&&e[1]||""}function tR(a,e){a=a||10;const t=new Array(a),n=new Array(a);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),g=n[o];l||(l=p),t[r]=d,n[r]=p;let y=o,v=0;for(;y!==r;)v+=t[y++],y=y%a;if(r=(r+1)%a,r===o&&(o=(o+1)%a),p-l<e)return;const A=g&&p-g;return A?Math.round(v*1e3/A):void 0}}function nR(a,e){let t=0,n=1e3/e,r,o;const l=(p,g=Date.now())=>{t=g,r=null,o&&(clearTimeout(o),o=null),a.apply(null,p)};return[(...p)=>{const g=Date.now(),y=g-t;y>=n?l(p,g):(r=p,o||(o=setTimeout(()=>{o=null,l(r)},n-y)))},()=>r&&l(r)]}const wp=(a,e,t=3)=>{let n=0;const r=tR(50,250);return nR(o=>{const l=o.loaded,h=o.lengthComputable?o.total:void 0,d=l-n,p=r(d),g=l<=h;n=l;const y={loaded:l,total:h,progress:h?l/h:void 0,bytes:d,rate:p||void 0,estimated:p&&h&&g?(h-l)/p:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};a(y)},t)},bE=(a,e)=>{const t=a!=null;return[n=>e[0]({lengthComputable:t,total:a,loaded:n}),e[1]]},_E=a=>(...e)=>$.asap(()=>a(...e)),sR=cn.hasStandardBrowserEnv?((a,e)=>t=>(t=new URL(t,cn.origin),a.protocol===t.protocol&&a.host===t.host&&(e||a.port===t.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,iR=cn.hasStandardBrowserEnv?{write(a,e,t,n,r,o){const l=[a+"="+encodeURIComponent(e)];$.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),$.isString(n)&&l.push("path="+n),$.isString(r)&&l.push("domain="+r),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(a){const e=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rR(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function oR(a,e){return e?a.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):a}function zS(a,e){return a&&!rR(e)?oR(a,e):e}const xE=a=>a instanceof Nn?{...a}:a;function Na(a,e){e=e||{};const t={};function n(p,g,y,v){return $.isPlainObject(p)&&$.isPlainObject(g)?$.merge.call({caseless:v},p,g):$.isPlainObject(g)?$.merge({},g):$.isArray(g)?g.slice():g}function r(p,g,y,v){if($.isUndefined(g)){if(!$.isUndefined(p))return n(void 0,p,y,v)}else return n(p,g,y,v)}function o(p,g){if(!$.isUndefined(g))return n(void 0,g)}function l(p,g){if($.isUndefined(g)){if(!$.isUndefined(p))return n(void 0,p)}else return n(void 0,g)}function h(p,g,y){if(y in e)return n(p,g);if(y in a)return n(void 0,p)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h,headers:(p,g,y)=>r(xE(p),xE(g),y,!0)};return $.forEach(Object.keys(Object.assign({},a,e)),function(g){const y=d[g]||r,v=y(a[g],e[g],g);$.isUndefined(v)&&y!==h||(t[g]=v)}),t}const US=a=>{const e=Na({},a);let{data:t,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:h}=e;e.headers=l=Nn.from(l),e.url=DS(zS(e.baseURL,e.url),a.params,a.paramsSerializer),h&&l.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if($.isFormData(t)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[p,...g]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...g].join("; "))}}if(cn.hasStandardBrowserEnv&&(n&&$.isFunction(n)&&(n=n(e)),n||n!==!1&&sR(e.url))){const p=r&&o&&iR.read(o);p&&l.set(r,p)}return e},aR=typeof XMLHttpRequest<"u",lR=aR&&function(a){return new Promise(function(t,n){const r=US(a);let o=r.data;const l=Nn.from(r.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:p}=r,g,y,v,A,E;function S(){A&&A(),E&&E(),r.cancelToken&&r.cancelToken.unsubscribe(g),r.signal&&r.signal.removeEventListener("abort",g)}let k=new XMLHttpRequest;k.open(r.method.toUpperCase(),r.url,!0),k.timeout=r.timeout;function C(){if(!k)return;const L=Nn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),j={data:!h||h==="text"||h==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:L,config:a,request:k};BS(function(z){t(z),S()},function(z){n(z),S()},j),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(n(new Pe("Request aborted",Pe.ECONNABORTED,a,k)),k=null)},k.onerror=function(){n(new Pe("Network Error",Pe.ERR_NETWORK,a,k)),k=null},k.ontimeout=function(){let I=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const j=r.transitional||OS;r.timeoutErrorMessage&&(I=r.timeoutErrorMessage),n(new Pe(I,j.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,a,k)),k=null},o===void 0&&l.setContentType(null),"setRequestHeader"in k&&$.forEach(l.toJSON(),function(I,j){k.setRequestHeader(j,I)}),$.isUndefined(r.withCredentials)||(k.withCredentials=!!r.withCredentials),h&&h!=="json"&&(k.responseType=r.responseType),p&&([v,E]=wp(p,!0),k.addEventListener("progress",v)),d&&k.upload&&([y,A]=wp(d),k.upload.addEventListener("progress",y),k.upload.addEventListener("loadend",A)),(r.cancelToken||r.signal)&&(g=L=>{k&&(n(!L||L.type?new Lu(null,a,k):L),k.abort(),k=null)},r.cancelToken&&r.cancelToken.subscribe(g),r.signal&&(r.signal.aborted?g():r.signal.addEventListener("abort",g)));const R=eR(r.url);if(R&&cn.protocols.indexOf(R)===-1){n(new Pe("Unsupported protocol "+R+":",Pe.ERR_BAD_REQUEST,a));return}k.send(o||null)})},uR=(a,e)=>{const{length:t}=a=a?a.filter(Boolean):[];if(e||t){let n=new AbortController,r;const o=function(p){if(!r){r=!0,h();const g=p instanceof Error?p:this.reason;n.abort(g instanceof Pe?g:new Lu(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,o(new Pe(`timeout ${e} of ms exceeded`,Pe.ETIMEDOUT))},e);const h=()=>{a&&(l&&clearTimeout(l),l=null,a.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),a=null)};a.forEach(p=>p.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>$.asap(h),d}},cR=function*(a,e){let t=a.byteLength;if(t<e){yield a;return}let n=0,r;for(;n<t;)r=n+e,yield a.slice(n,r),n=r},hR=async function*(a,e){for await(const t of dR(a))yield*cR(t,e)},dR=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const e=a.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},CE=(a,e,t,n)=>{const r=hR(a,e);let o=0,l,h=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:p,value:g}=await r.next();if(p){h(),d.close();return}let y=g.byteLength;if(t){let v=o+=y;t(v)}d.enqueue(new Uint8Array(g))}catch(p){throw h(p),p}},cancel(d){return h(d),r.return()}},{highWaterMark:2})},Kp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$S=Kp&&typeof ReadableStream=="function",fR=Kp&&(typeof TextEncoder=="function"?(a=>e=>a.encode(e))(new TextEncoder):async a=>new Uint8Array(await new Response(a).arrayBuffer())),VS=(a,...e)=>{try{return!!a(...e)}catch{return!1}},pR=$S&&VS(()=>{let a=!1;const e=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!e}),kE=64*1024,Ey=$S&&VS(()=>$.isReadableStream(new Response("").body)),Ap={stream:Ey&&(a=>a.body)};Kp&&(a=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ap[e]&&(Ap[e]=$.isFunction(a[e])?t=>t[e]():(t,n)=>{throw new Pe(`Response type '${e}' is not supported`,Pe.ERR_NOT_SUPPORT,n)})})})(new Response);const gR=async a=>{if(a==null)return 0;if($.isBlob(a))return a.size;if($.isSpecCompliantForm(a))return(await new Request(cn.origin,{method:"POST",body:a}).arrayBuffer()).byteLength;if($.isArrayBufferView(a)||$.isArrayBuffer(a))return a.byteLength;if($.isURLSearchParams(a)&&(a=a+""),$.isString(a))return(await fR(a)).byteLength},mR=async(a,e)=>{const t=$.toFiniteNumber(a.getContentLength());return t??gR(e)},yR=Kp&&(async a=>{let{url:e,method:t,data:n,signal:r,cancelToken:o,timeout:l,onDownloadProgress:h,onUploadProgress:d,responseType:p,headers:g,withCredentials:y="same-origin",fetchOptions:v}=US(a);p=p?(p+"").toLowerCase():"text";let A=uR([r,o&&o.toAbortSignal()],l),E;const S=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let k;try{if(d&&pR&&t!=="get"&&t!=="head"&&(k=await mR(g,n))!==0){let j=new Request(e,{method:"POST",body:n,duplex:"half"}),O;if($.isFormData(n)&&(O=j.headers.get("content-type"))&&g.setContentType(O),j.body){const[z,W]=bE(k,wp(_E(d)));n=CE(j.body,kE,z,W)}}$.isString(y)||(y=y?"include":"omit");const C="credentials"in Request.prototype;E=new Request(e,{...v,signal:A,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:C?y:void 0});let R=await fetch(E);const L=Ey&&(p==="stream"||p==="response");if(Ey&&(h||L&&S)){const j={};["status","statusText","headers"].forEach(X=>{j[X]=R[X]});const O=$.toFiniteNumber(R.headers.get("content-length")),[z,W]=h&&bE(O,wp(_E(h),!0))||[];R=new Response(CE(R.body,kE,z,()=>{W&&W(),S&&S()}),j)}p=p||"text";let I=await Ap[$.findKey(Ap,p)||"text"](R,a);return!L&&S&&S(),await new Promise((j,O)=>{BS(j,O,{data:I,headers:Nn.from(R.headers),status:R.status,statusText:R.statusText,config:a,request:E})})}catch(C){throw S&&S(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,a,E),{cause:C.cause||C}):Pe.from(C,C&&C.code,a,E)}}),Sy={http:MT,xhr:lR,fetch:yR};$.forEach(Sy,(a,e)=>{if(a){try{Object.defineProperty(a,"name",{value:e})}catch{}Object.defineProperty(a,"adapterName",{value:e})}});const TE=a=>`- ${a}`,vR=a=>$.isFunction(a)||a===null||a===!1,WS={getAdapter:a=>{a=$.isArray(a)?a:[a];const{length:e}=a;let t,n;const r={};for(let o=0;o<e;o++){t=a[o];let l;if(n=t,!vR(t)&&(n=Sy[(l=String(t)).toLowerCase()],n===void 0))throw new Pe(`Unknown adapter '${l}'`);if(n)break;r[l||"#"+o]=n}if(!n){const o=Object.entries(r).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(TE).join(`
`):" "+TE(o[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Sy};function ly(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Lu(null,a)}function RE(a){return ly(a),a.headers=Nn.from(a.headers),a.data=ay.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),WS.getAdapter(a.adapter||dd.adapter)(a).then(function(n){return ly(a),n.data=ay.call(a,a.transformResponse,n),n.headers=Nn.from(n.headers),n},function(n){return HS(n)||(ly(a),n&&n.response&&(n.response.data=ay.call(a,a.transformResponse,n.response),n.response.headers=Nn.from(n.response.headers))),Promise.reject(n)})}const GS="1.7.9",Yp={};["object","boolean","number","function","string","symbol"].forEach((a,e)=>{Yp[a]=function(n){return typeof n===a||"a"+(e<1?"n ":" ")+a}});const PE={};Yp.transitional=function(e,t,n){function r(o,l){return"[Axios v"+GS+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,h)=>{if(e===!1)throw new Pe(r(l," has been removed"+(t?" in "+t:"")),Pe.ERR_DEPRECATED);return t&&!PE[l]&&(PE[l]=!0,console.warn(r(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,h):!0}};Yp.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function wR(a,e,t){if(typeof a!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const n=Object.keys(a);let r=n.length;for(;r-- >0;){const o=n[r],l=e[o];if(l){const h=a[o],d=h===void 0||l(h,o,a);if(d!==!0)throw new Pe("option "+o+" must be "+d,Pe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Pe("Unknown option "+o,Pe.ERR_BAD_OPTION)}}const zf={assertOptions:wR,validators:Yp},Xs=zf.validators;class Fa{constructor(e){this.defaults=e,this.interceptors={request:new EE,response:new EE}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Na(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;n!==void 0&&zf.assertOptions(n,{silentJSONParsing:Xs.transitional(Xs.boolean),forcedJSONParsing:Xs.transitional(Xs.boolean),clarifyTimeoutError:Xs.transitional(Xs.boolean)},!1),r!=null&&($.isFunction(r)?t.paramsSerializer={serialize:r}:zf.assertOptions(r,{encode:Xs.function,serialize:Xs.function},!0)),zf.assertOptions(t,{baseUrl:Xs.spelling("baseURL"),withXsrfToken:Xs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&$.merge(o.common,o[t.method]);o&&$.forEach(["delete","get","head","post","put","patch","common"],E=>{delete o[E]}),t.headers=Nn.concat(l,o);const h=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(d=d&&S.synchronous,h.unshift(S.fulfilled,S.rejected))});const p=[];this.interceptors.response.forEach(function(S){p.push(S.fulfilled,S.rejected)});let g,y=0,v;if(!d){const E=[RE.bind(this),void 0];for(E.unshift.apply(E,h),E.push.apply(E,p),v=E.length,g=Promise.resolve(t);y<v;)g=g.then(E[y++],E[y++]);return g}v=h.length;let A=t;for(y=0;y<v;){const E=h[y++],S=h[y++];try{A=E(A)}catch(k){S.call(this,k);break}}try{g=RE.call(this,A)}catch(E){return Promise.reject(E)}for(y=0,v=p.length;y<v;)g=g.then(p[y++],p[y++]);return g}getUri(e){e=Na(this.defaults,e);const t=zS(e.baseURL,e.url);return DS(t,e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(e){Fa.prototype[e]=function(t,n){return this.request(Na(n||{},{method:e,url:t,data:(n||{}).data}))}});$.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,h){return this.request(Na(h||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Fa.prototype[e]=t(),Fa.prototype[e+"Form"]=t(!0)});class Zv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(r=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](r);n._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(h=>{n.subscribe(h),o=h}).then(r);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,h){n.reason||(n.reason=new Lu(o,l,h),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Zv(function(r){e=r}),cancel:e}}}function AR(a){return function(t){return a.apply(null,t)}}function ER(a){return $.isObject(a)&&a.isAxiosError===!0}const by={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(by).forEach(([a,e])=>{by[e]=a});function qS(a){const e=new Fa(a),t=_S(Fa.prototype.request,e);return $.extend(t,Fa.prototype,e,{allOwnKeys:!0}),$.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return qS(Na(a,r))},t}const nt=qS(dd);nt.Axios=Fa;nt.CanceledError=Lu;nt.CancelToken=Zv;nt.isCancel=HS;nt.VERSION=GS;nt.toFormData=Xp;nt.AxiosError=Pe;nt.Cancel=nt.CanceledError;nt.all=function(e){return Promise.all(e)};nt.spread=AR;nt.isAxiosError=ER;nt.mergeConfig=Na;nt.AxiosHeaders=Nn;nt.formToJSON=a=>jS($.isHTMLForm(a)?new FormData(a):a);nt.getAdapter=WS.getAdapter;nt.HttpStatusCode=by;nt.default=nt;const SR=()=>{const[a,e]=N.useState({firstName:"",lastName:"",email:"",password:""}),t=fo(),n=o=>{e({...a,[o.target.name]:o.target.value})},r=async o=>{o.preventDefault();try{(await nt.post("http://localhost:3000/auth/register",a)).status===201&&t("/login")}catch(l){console.log(l.message)}};return V.jsx("div",{className:"flex justify-center items-center h-screen",children:V.jsxs("div",{className:"shadow-lg px-8 py-5 border w-72",children:[V.jsx("h2",{className:"text-lg font-bold mb-4",children:"Register"}),V.jsxs("form",{onSubmit:r,children:[V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:"firstName",className:"block text-gray-700",children:"First Name"}),V.jsx("input",{type:"text",placeholder:"Enter First Name",className:"w-full px-3 py-2 border",name:"firstName",onChange:n})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:"lastName",className:"block text-gray-700",children:"Last Name"}),V.jsx("input",{type:"text",placeholder:"Enter Last Name",className:"w-full px-3 py-2 border",name:"lastName",onChange:n})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:"email",className:"block text-gray-700",children:"Email"}),V.jsx("input",{type:"email",placeholder:"Enter Email",className:"w-full px-3 py-2 border",name:"email",onChange:n})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:"password",className:"block text-gray-700",children:"Password"}),V.jsx("input",{type:"password",placeholder:"Enter Password",className:"w-full px-3 py-2 border",name:"password",onChange:n})]}),V.jsx("button",{className:"w-full bg-green-600 text-white py-2 ",children:"Submit"})]}),V.jsxs("div",{className:"text-center",children:[V.jsx("span",{children:"Already have account?"}),V.jsx(Vc,{to:"/login",className:"text-blue-500",children:"Login"})]})]})})},bR=()=>{const[a,e]=N.useState({email:"",password:""}),t=fo(),n=o=>{e({...a,[o.target.name]:o.target.value})},r=async o=>{o.preventDefault();try{const l=await nt.post("http://localhost:3000/auth/login",a);l.status===201?(localStorage.setItem("token",l.data.token),t("/")):console.error("Login failed with status:",l.status)}catch(l){console.log(l.message)}};return V.jsx("div",{className:"flex justify-center items-center h-screen",children:V.jsxs("div",{className:"shadow-lg px-8 py-5 border w-72",children:[V.jsx("h2",{className:"text-lg font-bold mb-4",children:"Login"}),V.jsxs("form",{onSubmit:r,children:[V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:"email",className:"block text-gray-700",children:"Email"}),V.jsx("input",{type:"email",placeholder:"Enter Email",className:"w-full px-3 py-2 border",name:"email",onChange:n})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:"password",className:"block text-gray-700",children:"Password"}),V.jsx("input",{type:"password",placeholder:"Enter Password",className:"w-full px-3 py-2 border",name:"password",onChange:n})]}),V.jsx("button",{className:"w-full bg-green-600 text-white py-2 ",children:"Submit"})]}),V.jsxs("div",{className:"text-center",children:[V.jsx("span",{children:"Don't Have Account?"}),V.jsx(Vc,{to:"/register",className:"text-blue-500",children:"Signup"})]}),V.jsx("div",{className:"text-center mt-2",children:V.jsx(Vc,{to:"/forgot-password",className:"text-blue-500",children:"Forgot Password?"})})]})})},_R=()=>V.jsx("div",{className:"flex justify-center items-center h-screen",children:V.jsx("h1",{className:"text-3xl text-green-500",children:"Photo is uploaded"})}),xR=""+new URL("flower-CHUrnbtF.jpeg",import.meta.url).href,CR=({user:a})=>{const e=fo(),[t,n]=N.useState(!1),r=N.useRef(null);N.useEffect(()=>{const h=d=>{r.current&&!r.current.contains(d.target)&&n(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[r]);const o=()=>{localStorage.removeItem("token"),e("/login")},l=()=>{n(!t)};return V.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",borderBottom:"1px solid #ccc",backgroundColor:"#f8f8f8"},children:[V.jsx("div",{})," ",a&&V.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[V.jsx("img",{src:a.profileImage||xR,alt:"Profile",onClick:l,style:{cursor:"pointer",borderRadius:"50%",width:"40px",height:"40px",marginRight:"20px"}}),t&&V.jsxs("div",{ref:r,style:{position:"absolute",right:0,top:"100%",backgroundColor:"white",border:"1px solid #ccc",padding:"10px",zIndex:1,whiteSpace:"nowrap"},children:[V.jsx("p",{style:{margin:0},children:a.username}),V.jsx("button",{onClick:o,style:{fontSize:"12px",textDecoration:"underline",background:"none",border:"none",cursor:"pointer",color:"blue"},children:"Logout"})]})]})]})},kR=async()=>{try{const a=localStorage.getItem("token");if(!a)throw new Error("No token found");const e=await nt.get("http://localhost:3000/auth/home",{headers:{Authorization:`Bearer ${a}`}});if(e.status===201)return e.data.user;throw new Error("Failed to fetch user")}catch(a){throw console.error("Error fetching user:",a.message),a}},TR=()=>{const a=fo(),[e,t]=N.useState(null);return N.useEffect(()=>{(async()=>{try{const r=await kR();t(r)}catch{a("/login")}})()},[a]),e},RR="modulepreload",PR=function(a,e){return new URL(a,e).href},LE={},Lf=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){const l=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=Promise.allSettled(t.map(p=>{if(p=PR(p,n),p in LE)return;LE[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(!!n)for(let E=l.length-1;E>=0;E--){const S=l[E];if(S.href===p&&(!g||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${y}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":RR,g||(A.as="script"),A.crossOrigin="",A.href=p,d&&A.setAttribute("nonce",d),document.head.appendChild(A),g)return new Promise((E,S)=>{A.addEventListener("load",E),A.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return r.then(l=>{for(const h of l||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};var Bc={};Bc.d=(a,e)=>{for(var t in e)Bc.o(e,t)&&!Bc.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:e[t]})};Bc.o=(a,e)=>Object.prototype.hasOwnProperty.call(a,e);var Re=globalThis.pdfjsLib={};Bc.d(Re,{AbortException:()=>Va,AnnotationEditorLayer:()=>Nv,AnnotationEditorParamsType:()=>ke,AnnotationEditorType:()=>Me,AnnotationEditorUIManager:()=>Oa,AnnotationLayer:()=>TL,AnnotationMode:()=>Ir,ColorPicker:()=>_p,DOMSVGFactory:()=>hw,DrawLayer:()=>Hv,FeatureTest:()=>wn,GlobalWorkerOptions:()=>nr,ImageKind:()=>Uf,InvalidPDFException:()=>KS,MissingPDFException:()=>$a,OPS:()=>_s,OutputScale:()=>Ty,PDFDataRangeTransport:()=>Wb,PDFDateString:()=>iw,PDFWorker:()=>Cl,PasswordResponses:()=>FR,PermissionFlag:()=>IR,PixelsPerInch:()=>lo,RenderingCancelledException:()=>nw,TextLayer:()=>nv,UnexpectedResponseException:()=>eg,Util:()=>ge,VerbosityLevel:()=>Qp,XfaLayer:()=>qb,build:()=>lL,createValidAbsoluteUrl:()=>jR,fetchData:()=>ng,getDocument:()=>ZP,getFilenameFromUrl:()=>qR,getPdfFilenameFromUrl:()=>XR,getXfaPageViewport:()=>KR,isDataScheme:()=>sg,isPdfFile:()=>sw,noContextMenu:()=>ps,normalizeUnicode:()=>VR,setLayerDimensions:()=>Da,shadow:()=>ze,version:()=>aL});const dn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),XS=[1,0,0,1,0,0],_y=[.001,0,0,.001,0,0],LR=1e7,uy=1.35,Kn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ir={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},MR="pdfjs_internal_editor_",Me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ke={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},IR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},sn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Uf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Lt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ec={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Qp={ERRORS:0,WARNINGS:1,INFOS:5},_s={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},FR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Jp=Qp.WARNINGS;function NR(a){Number.isInteger(a)&&(Jp=a)}function DR(){return Jp}function Zp(a){Jp>=Qp.INFOS&&console.log(`Info: ${a}`)}function Ne(a){Jp>=Qp.WARNINGS&&console.log(`Warning: ${a}`)}function rt(a){throw new Error(a)}function Nt(a,e){a||rt(e)}function OR(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function jR(a,e=null,t=null){if(!a)return null;try{if(t&&typeof a=="string"){if(t.addDefaultProtocol&&a.startsWith("www.")){const r=a.match(/\./g);(r==null?void 0:r.length)>=2&&(a=`http://${a}`)}if(t.tryConvertEncoding)try{a=$R(a)}catch{}}const n=e?new URL(a,e):new URL(a);if(OR(n))return n}catch{}return null}function ze(a,e,t,n=!1){return Object.defineProperty(a,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const po=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class xy extends po{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Cy extends po{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class KS extends po{constructor(e){super(e,"InvalidPDFException")}}class $a extends po{constructor(e){super(e,"MissingPDFException")}}class eg extends po{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class HR extends po{constructor(e){super(e,"FormatError")}}class Va extends po{constructor(e){super(e,"AbortException")}}function YS(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&rt("Invalid argument for bytesToString");const e=a.length,t=8192;if(e<t)return String.fromCharCode.apply(null,a);const n=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),l=a.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function tg(a){typeof a!="string"&&rt("Invalid argument for stringToBytes");const e=a.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=a.charCodeAt(n)&255;return t}function BR(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function ew(a){const e=Object.create(null);for(const[t,n]of a)e[t]=n;return e}function zR(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function UR(){try{return new Function(""),!0}catch{return!1}}class wn{static get isLittleEndian(){return ze(this,"isLittleEndian",zR())}static get isEvalSupported(){return ze(this,"isEvalSupported",UR())}static get isOffscreenCanvasSupported(){return ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?ze(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):ze(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return ze(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const cy=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var rr,$f,ky;class ge{static makeHexColor(e,t,n){return`#${cy[e]}${cy[t]}${cy[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[n,r]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[r,o]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),l=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],o[0],l[0]),Math.min(n[1],r[1],o[1],l[1]),Math.max(n[0],r[0],o[0],l[0]),Math.max(n[1],r[1],o[1],l[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],l=e[2]*t[1]+e[3]*t[3],h=(n+l)/2,d=Math.sqrt((n+l)**2-4*(n*l-o*r))/2,p=h+d||1,g=h-d||1;return[Math.sqrt(p),Math.sqrt(g)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,r,l]}static bezierBoundingBox(e,t,n,r,o,l,h,d,p){return p?(p[0]=Math.min(p[0],e,h),p[1]=Math.min(p[1],t,d),p[2]=Math.max(p[2],e,h),p[3]=Math.max(p[3],t,d)):p=[Math.min(e,h),Math.min(t,d),Math.max(e,h),Math.max(t,d)],x(this,rr,ky).call(this,e,n,o,h,t,r,l,d,3*(-e+3*(n-o)+h),6*(e-2*n+o),3*(n-e),p),x(this,rr,ky).call(this,e,n,o,h,t,r,l,d,3*(-t+3*(r-l)+d),6*(t-2*r+l),3*(r-t),p),p}}rr=new WeakSet,$f=function(e,t,n,r,o,l,h,d,p,g){if(p<=0||p>=1)return;const y=1-p,v=p*p,A=v*p,E=y*(y*(y*e+3*p*t)+3*v*n)+A*r,S=y*(y*(y*o+3*p*l)+3*v*h)+A*d;g[0]=Math.min(g[0],E),g[1]=Math.min(g[1],S),g[2]=Math.max(g[2],E),g[3]=Math.max(g[3],S)},ky=function(e,t,n,r,o,l,h,d,p,g,y,v){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&x(this,rr,$f).call(this,e,t,n,r,o,l,h,d,-y/g,v);return}const A=g**2-4*y*p;if(A<0)return;const E=Math.sqrt(A),S=2*p;x(this,rr,$f).call(this,e,t,n,r,o,l,h,d,(-g+E)/S,v),x(this,rr,$f).call(this,e,t,n,r,o,l,h,d,(-g-E)/S,v)},T(ge,rr);function $R(a){return decodeURIComponent(escape(a))}let hy=null,ME=null;function VR(a){return hy||(hy=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ME=new Map([["ﬅ","ſt"]])),a.replaceAll(hy,(e,t,n)=>t?t.normalize("NFKC"):ME.get(n))}function WR(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const a=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(a);else for(let e=0;e<32;e++)a[e]=Math.floor(Math.random()*255);return YS(a)}const tw="pdfjs_internal_id_",ki={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function GR(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(YS(a))}const Ri="http://www.w3.org/2000/svg",No=class No{};Ce(No,"CSS",96),Ce(No,"PDF",72),Ce(No,"PDF_TO_CSS_UNITS",No.CSS/No.PDF);let lo=No;async function ng(a,e="text"){if(_c(a,document.baseURI)){const t=await fetch(a);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class fd{constructor({viewBox:e,scale:t,rotation:n,offsetX:r=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=o;const h=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let p,g,y,v;switch(n%=360,n<0&&(n+=360),n){case 180:p=-1,g=0,y=0,v=1;break;case 90:p=0,g=1,y=1,v=0;break;case 270:p=0,g=-1,y=-1,v=0;break;case 0:p=1,g=0,y=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(y=-y,v=-v);let A,E,S,k;p===0?(A=Math.abs(d-e[1])*t+r,E=Math.abs(h-e[0])*t+o,S=(e[3]-e[1])*t,k=(e[2]-e[0])*t):(A=Math.abs(h-e[0])*t+r,E=Math.abs(d-e[1])*t+o,S=(e[2]-e[0])*t,k=(e[3]-e[1])*t),this.transform=[p*t,g*t,y*t,v*t,A-p*t*h-y*t*d,E-g*t*h-v*t*d],this.width=S,this.height=k}get rawDims(){const{viewBox:e}=this;return ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new fd({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){return ge.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=ge.applyTransform([e[0],e[1]],this.transform),n=ge.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return ge.applyInverseTransform([e,t],this.transform)}}class nw extends po{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function sg(a){const e=a.length;let t=0;for(;t<e&&a[t].trim()==="";)t++;return a.substring(t,t+5).toLowerCase()==="data:"}function sw(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function qR(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function XR(a,e="document.pdf"){if(typeof a!="string")return e;if(sg(a))return Ne('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(a);let o=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||e}class IE{constructor(){Ce(this,"started",Object.create(null));Ce(this,"times",[])}time(e){e in this.started&&Ne(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ne(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-r}ms
`);return e.join("")}}function _c(a,e){try{const{protocol:t}=e?new URL(a,e):new URL(a);return t==="http:"||t==="https:"}catch{return!1}}function ps(a){a.preventDefault()}function FE(a){console.log("Deprecated API usage: "+a)}var qc;class iw{static toDateObject(e){if(!e||typeof e!="string")return null;c(this,qc)||b(this,qc,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=c(this,qc).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let h=parseInt(t[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const p=t[7]||"Z";let g=parseInt(t[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(t[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(l+=g,h+=y):p==="+"&&(l-=g,h-=y),new Date(Date.UTC(n,r,o,l,h,d))}}qc=new WeakMap,T(iw,qc);function KR(a,{scale:e=1,rotation:t=0}){const{width:n,height:r}=a.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new fd({viewBox:o,scale:e,rotation:t})}function rw(a){if(a.startsWith("#")){const e=parseInt(a.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(e=>parseInt(e)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ne(`Not a valid color format: "${a}"`),[0,0,0])}function YR(a){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of a.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;a.set(t,rw(n))}e.remove()}function pt(a){const{a:e,b:t,c:n,d:r,e:o,f:l}=a.getTransform();return[e,t,n,r,o,l]}function Ti(a){const{a:e,b:t,c:n,d:r,e:o,f:l}=a.getTransform().invertSelf();return[e,t,n,r,o,l]}function Da(a,e,t=!1,n=!0){if(e instanceof fd){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:l}=a,h=wn.isCSSRoundSupported,d=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${o}px`,g=h?`round(down, ${d}, var(--scale-round-x, 1px))`:`calc(${d})`,y=h?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!t||e.rotation%180===0?(l.width=g,l.height=y):(l.width=y,l.height=g)}n&&a.setAttribute("data-main-rotation",e.rotation)}class Ty{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Fr,jo,xs,Ho,Xc,Kc,Cp,QS,An,JS,ZS,Vf,eb,Py;const Pi=class Pi{constructor(e){T(this,An);T(this,Fr,null);T(this,jo,null);T(this,xs);T(this,Ho,null);T(this,Xc,null);b(this,xs,e),c(Pi,Kc)||b(Pi,Kc,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=b(this,Fr,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=c(this,xs)._uiManager._signal;e.addEventListener("contextmenu",ps,{signal:t}),e.addEventListener("pointerdown",x(Pi,Cp,QS),{signal:t});const n=b(this,Ho,document.createElement("div"));n.className="buttons",e.append(n);const r=c(this,xs).toolbarPosition;if(r){const{style:o}=e,l=c(this,xs)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return x(this,An,eb).call(this),e}get div(){return c(this,Fr)}hide(){var e;c(this,Fr).classList.add("hidden"),(e=c(this,jo))==null||e.hideDropdown()}show(){var e;c(this,Fr).classList.remove("hidden"),(e=c(this,Xc))==null||e.shown()}async addAltText(e){const t=await e.render();x(this,An,Vf).call(this,t),c(this,Ho).prepend(t,c(this,An,Py)),b(this,Xc,e)}addColorPicker(e){b(this,jo,e);const t=e.renderButton();x(this,An,Vf).call(this,t),c(this,Ho).prepend(t,c(this,An,Py))}remove(){var e;c(this,Fr).remove(),(e=c(this,jo))==null||e.destroy(),b(this,jo,null)}};Fr=new WeakMap,jo=new WeakMap,xs=new WeakMap,Ho=new WeakMap,Xc=new WeakMap,Kc=new WeakMap,Cp=new WeakSet,QS=function(e){e.stopPropagation()},An=new WeakSet,JS=function(e){c(this,xs)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},ZS=function(e){c(this,xs)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Vf=function(e){const t=c(this,xs)._uiManager._signal;e.addEventListener("focusin",x(this,An,JS).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",x(this,An,ZS).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ps,{signal:t})},eb=function(){const{editorType:e,_uiManager:t}=c(this,xs),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",c(Pi,Kc)[e]),x(this,An,Vf).call(this,n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),c(this,Ho).append(n)},Py=function(){const e=document.createElement("div");return e.className="divider",e},T(Pi,Cp),T(Pi,Kc,null);let Ry=Pi;var Yc,Bo,zo,co,tb,nb,sb;class QR{constructor(e){T(this,co);T(this,Yc,null);T(this,Bo,null);T(this,zo);b(this,zo,e)}show(e,t,n){const[r,o]=x(this,co,nb).call(this,t,n),{style:l}=c(this,Bo)||b(this,Bo,x(this,co,tb).call(this));e.append(c(this,Bo)),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,Bo).remove()}}Yc=new WeakMap,Bo=new WeakMap,zo=new WeakMap,co=new WeakSet,tb=function(){const e=b(this,Bo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ps,{signal:c(this,zo)._signal});const t=b(this,Yc,document.createElement("div"));return t.className="buttons",e.append(t),x(this,co,sb).call(this),e},nb=function(e,t){let n=0,r=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const h=o.x+(t?o.width:0);if(l>n){r=h,n=l;continue}t?h>r&&(r=h):h<r&&(r=h)}return[t?1-r:r,n]},sb=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=c(this,zo)._signal;e.addEventListener("contextmenu",ps,{signal:n}),e.addEventListener("click",()=>{c(this,zo).highlightSelection("floating_button")},{signal:n}),c(this,Yc).append(e)};function Ep(a,e,t){for(const n of t)e.addEventListener(n,a[n].bind(a))}function JR(a){return Math.round(Math.min(255,Math.max(1,255*a))).toString(16).padStart(2,"0")}var kp;class ZR{constructor(){T(this,kp,0)}get id(){return`${MR}${gn(this,kp)._++}`}}kp=new WeakMap;var Rl,Qc,on,Pl,Wf;const fw=class fw{constructor(){T(this,Pl);T(this,Rl,WR());T(this,Qc,0);T(this,on,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return ze(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:o}=e;return x(this,Pl,Wf).call(this,`${t}_${n}_${r}_${o}`,e)}async getFromUrl(e){return x(this,Pl,Wf).call(this,e,e)}async getFromBlob(e,t){const n=await t;return x(this,Pl,Wf).call(this,e,n)}async getFromId(e){c(this,on)||b(this,on,new Map);const t=c(this,on).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){c(this,on)||b(this,on,new Map);let n=c(this,on).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${c(this,Rl)}_${gn(this,Qc)._++}`,refCounter:1,isSvg:!1},c(this,on).set(e,n),c(this,on).set(n.id,n),n}getSvgUrl(e){const t=c(this,on).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;c(this,on)||b(this,on,new Map);const t=c(this,on).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${c(this,Rl)}_`)}};Rl=new WeakMap,Qc=new WeakMap,on=new WeakMap,Pl=new WeakSet,Wf=async function(e,t){c(this,on)||b(this,on,new Map);let n=c(this,on).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${c(this,Rl)}_${gn(this,Qc)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await ng(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const o=fw._isSVGFittingCanvas,l=new FileReader,h=new Image,d=new Promise((p,g)=>{h.onload=()=>{n.bitmap=h,n.isSvg=!0,p()},l.onload=async()=>{const y=n.svgUrl=l.result;h.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},h.onerror=l.onerror=g});l.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){console.error(r),n=null}return c(this,on).set(e,n),n&&c(this,on).set(n.id,n),n};let Ly=fw;var zt,Nr,Jc,Ut;class eP{constructor(e=128){T(this,zt,[]);T(this,Nr,!1);T(this,Jc);T(this,Ut,-1);b(this,Jc,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:h=!1}){if(r&&e(),c(this,Nr))return;const d={cmd:e,undo:t,post:n,type:o};if(c(this,Ut)===-1){c(this,zt).length>0&&(c(this,zt).length=0),b(this,Ut,0),c(this,zt).push(d);return}if(l&&c(this,zt)[c(this,Ut)].type===o){h&&(d.undo=c(this,zt)[c(this,Ut)].undo),c(this,zt)[c(this,Ut)]=d;return}const p=c(this,Ut)+1;p===c(this,Jc)?c(this,zt).splice(0,1):(b(this,Ut,p),p<c(this,zt).length&&c(this,zt).splice(p)),c(this,zt).push(d)}undo(){if(c(this,Ut)===-1)return;b(this,Nr,!0);const{undo:e,post:t}=c(this,zt)[c(this,Ut)];e(),t==null||t(),b(this,Nr,!1),b(this,Ut,c(this,Ut)-1)}redo(){if(c(this,Ut)<c(this,zt).length-1){b(this,Ut,c(this,Ut)+1),b(this,Nr,!0);const{cmd:e,post:t}=c(this,zt)[c(this,Ut)];e(),t==null||t(),b(this,Nr,!1)}}hasSomethingToUndo(){return c(this,Ut)!==-1}hasSomethingToRedo(){return c(this,Ut)<c(this,zt).length-1}destroy(){b(this,zt,null)}}zt=new WeakMap,Nr=new WeakMap,Jc=new WeakMap,Ut=new WeakMap;var Tp,ib;class pd{constructor(e){T(this,Tp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=wn.platform;for(const[n,r,o={}]of e)for(const l of n){const h=l.startsWith("mac+");t&&h?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!h&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(x(this,Tp,ib).call(this,t));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:h=null}}=n;h&&!h(e,t)||(r.bind(e,...l,t)(),o||(t.stopPropagation(),t.preventDefault()))}}Tp=new WeakSet,ib=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Rp=class Rp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return YR(e),ze(this,"_colors",e)}convert(e){const t=rw(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((o,l)=>o===t[l]))return Rp._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?ge.makeHexColor(...t):e}};Ce(Rp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let My=Rp;var Ll,zn,Mt,Kt,Ml,Mi,Il,Cs,Dr,Fl,Uo,Ys,ks,$o,Zc,eh,Nl,th,Qs,Or,Dl,jr,Js,Pp,Hr,nh,Br,Vo,sh,ih,$t,Xe,Ii,Wo,rh,oh,zr,Zs,Fi,ah,os,ie,Gf,Iy,rb,ob,qf,ab,lb,ub,Fy,cb,Ny,Dy,hb,mn,Lr,db,fb,Oy,pb,xc,jy;const _l=class _l{constructor(e,t,n,r,o,l,h,d,p,g,y){T(this,ie);T(this,Ll,new AbortController);T(this,zn,null);T(this,Mt,new Map);T(this,Kt,new Map);T(this,Ml,null);T(this,Mi,null);T(this,Il,null);T(this,Cs,new eP);T(this,Dr,null);T(this,Fl,0);T(this,Uo,new Set);T(this,Ys,null);T(this,ks,null);T(this,$o,new Set);T(this,Zc,!1);T(this,eh,!1);T(this,Nl,!1);T(this,th,null);T(this,Qs,null);T(this,Or,null);T(this,Dl,null);T(this,jr,!1);T(this,Js,null);T(this,Pp,new ZR);T(this,Hr,!1);T(this,nh,!1);T(this,Br,null);T(this,Vo,null);T(this,sh,null);T(this,ih,null);T(this,$t,Me.NONE);T(this,Xe,new Set);T(this,Ii,null);T(this,Wo,null);T(this,rh,null);T(this,oh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,zr,[0,0]);T(this,Zs,null);T(this,Fi,null);T(this,ah,null);T(this,os,null);const v=this._signal=c(this,Ll).signal;b(this,Fi,e),b(this,ah,t),b(this,Ml,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:v}),x(this,ie,ab).call(this),x(this,ie,hb).call(this),x(this,ie,Fy).call(this),b(this,Mi,o.annotationStorage),b(this,th,o.filterFactory),b(this,Wo,l),b(this,Dl,h||null),b(this,Zc,d),b(this,eh,p),b(this,Nl,g),b(this,ih,y||null),this.viewParameters={realScale:lo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=_l.prototype,t=l=>c(l,Fi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return ze(this,"_keyboardManager",new pd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:h})=>!(h instanceof HTMLButtonElement)&&c(l,Fi).contains(h)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:h})=>!(h instanceof HTMLButtonElement)&&c(l,Fi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,r;(e=c(this,os))==null||e.resolve(),b(this,os,null),(t=c(this,Ll))==null||t.abort(),b(this,Ll,null),this._signal=null;for(const o of c(this,Kt).values())o.destroy();c(this,Kt).clear(),c(this,Mt).clear(),c(this,$o).clear(),b(this,zn,null),c(this,Xe).clear(),c(this,Cs).destroy(),(n=c(this,Ml))==null||n.destroy(),(r=c(this,Js))==null||r.hide(),b(this,Js,null),c(this,Qs)&&(clearTimeout(c(this,Qs)),b(this,Qs,null)),c(this,Zs)&&(clearTimeout(c(this,Zs)),b(this,Zs,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return c(this,ih)}get useNewAltTextFlow(){return c(this,eh)}get useNewAltTextWhenAddingImage(){return c(this,Nl)}get hcmFilter(){return ze(this,"hcmFilter",c(this,Wo)?c(this,th).addHCMFilter(c(this,Wo).foreground,c(this,Wo).background):"none")}get direction(){return ze(this,"direction",getComputedStyle(c(this,Fi)).direction)}get highlightColors(){return ze(this,"highlightColors",c(this,Dl)?new Map(c(this,Dl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){b(this,sh,e)}editAltText(e,t=!1){var n;(n=c(this,Ml))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,Nl,t);break}}onPageChanging({pageNumber:e}){b(this,Fl,e-1)}focusMainContainer(){c(this,Fi).focus()}findParent(e,t){for(const n of c(this,Kt).values()){const{x:r,y:o,width:l,height:h}=n.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=o&&t<=o+h)return n}return null}disableUserSelect(e=!1){c(this,ah).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,$o).add(e)}removeShouldRescale(e){c(this,$o).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*lo.PDF_TO_CSS_UNITS;for(const t of c(this,$o))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l}=t,h=t.toString(),p=x(this,ie,Gf).call(this,t).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;t.empty();const y=x(this,ie,Iy).call(this,p),v=c(this,$t)===Me.NONE,A=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l,text:h}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Me.HIGHLIGHT,A);return}A()}addToAnnotationStorage(e){!e.isEmpty()&&c(this,Mi)&&!c(this,Mi).has(e.id)&&c(this,Mi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,jr)&&(b(this,jr,!1),x(this,ie,qf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Xe))if(t.div.contains(e)){b(this,Vo,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Vo))return;const[e,t]=c(this,Vo);b(this,Vo,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){x(this,ie,Fy).call(this),x(this,ie,Ny).call(this)}removeEditListeners(){x(this,ie,cb).call(this),x(this,ie,Dy).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of c(this,ks))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of c(this,ks))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=c(this,zn))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of c(this,Xe)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of c(this,ks))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Ne(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of n){const p=await r.deserialize(d);if(!p)return;o.push(p)}const l=()=>{for(const d of o)x(this,ie,Oy).call(this,d);x(this,ie,jy).call(this,o)},h=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:h,mustExec:!0})}catch(o){Ne(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,$t)!==Me.NONE&&!this.isEditorHandlingKeyboard&&_l._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,jr)&&(b(this,jr,!1),x(this,ie,qf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(x(this,ie,lb).call(this),x(this,ie,Ny).call(this),x(this,ie,mn).call(this,{isEditing:c(this,$t)!==Me.NONE,isEmpty:x(this,ie,xc).call(this),hasSomethingToUndo:c(this,Cs).hasSomethingToUndo(),hasSomethingToRedo:c(this,Cs).hasSomethingToRedo(),hasSelectedEditor:!1})):(x(this,ie,ub).call(this),x(this,ie,Dy).call(this),x(this,ie,mn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,ks)){b(this,ks,e);for(const t of c(this,ks))x(this,ie,Lr).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,Pp).id}get currentLayer(){return c(this,Kt).get(c(this,Fl))}getLayer(e){return c(this,Kt).get(e)}get currentPageIndex(){return c(this,Fl)}addLayer(e){c(this,Kt).set(e.pageIndex,e),c(this,Hr)?e.enable():e.disable()}removeLayer(e){c(this,Kt).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(c(this,$t)!==e&&!(c(this,os)&&(await c(this,os).promise,!c(this,os)))){if(b(this,os,Promise.withResolvers()),b(this,$t,e),e===Me.NONE){this.setEditingState(!1),x(this,ie,fb).call(this),c(this,os).resolve();return}this.setEditingState(!0),await x(this,ie,db).call(this),this.unselectAll();for(const r of c(this,Kt).values())r.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),c(this,os).resolve();return}for(const r of c(this,Mt).values())r.annotationElementId===t?(this.setSelected(r),r.enterInEditMode()):r.unselect();c(this,os).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,$t)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(c(this,ks)){switch(e){case ke.CREATE:this.currentLayer.addNewEditor();return;case ke.HIGHLIGHT_DEFAULT_COLOR:(n=c(this,sh))==null||n.updateColor(t);break;case ke.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,rh)||b(this,rh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of c(this,Xe))r.updateParams(e,t);for(const r of c(this,ks))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of c(this,Mt).values())l.editorType===e&&l.show(t);(((o=c(this,rh))==null?void 0:o.get(ke.HIGHLIGHT_SHOW_ALL))??!0)!==t&&x(this,ie,Lr).call(this,[[ke.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,nh)!==e){b(this,nh,e);for(const t of c(this,Kt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of c(this,Mt).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return c(this,Mt).get(e)}addEditor(e){c(this,Mt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,Qs)&&clearTimeout(c(this,Qs)),b(this,Qs,setTimeout(()=>{this.focusMainContainer(),b(this,Qs,null)},0))),c(this,Mt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,Uo).has(e.annotationElementId))&&((t=c(this,Mi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,Uo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Uo).has(e)}removeDeletedAnnotationElement(e){c(this,Uo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,zn)!==e&&(b(this,zn,e),e&&x(this,ie,Lr).call(this,e.propertiesToUpdate))}updateUI(e){c(this,ie,pb)===e&&x(this,ie,Lr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Xe).has(e)){c(this,Xe).delete(e),e.unselect(),x(this,ie,mn).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Xe).add(e),e.select(),x(this,ie,Lr).call(this,e.propertiesToUpdate),x(this,ie,mn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Xe))t!==e&&t.unselect();c(this,Xe).clear(),c(this,Xe).add(e),e.select(),x(this,ie,Lr).call(this,e.propertiesToUpdate),x(this,ie,mn).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Xe).has(e)}get firstSelectedEditor(){return c(this,Xe).values().next().value}unselect(e){e.unselect(),c(this,Xe).delete(e),x(this,ie,mn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Xe).size!==0}get isEnterHandled(){return c(this,Xe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Cs).undo(),x(this,ie,mn).call(this,{hasSomethingToUndo:c(this,Cs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:x(this,ie,xc).call(this)})}redo(){c(this,Cs).redo(),x(this,ie,mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Cs).hasSomethingToRedo(),isEmpty:x(this,ie,xc).call(this)})}addCommands(e){c(this,Cs).add(e),x(this,ie,mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:x(this,ie,xc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Xe)],t=()=>{for(const r of e)r.remove()},n=()=>{for(const r of e)x(this,ie,Oy).call(this,r)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=c(this,zn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,zn)||this.hasSelection}selectAll(){for(const e of c(this,Xe))e.commit();x(this,ie,jy).call(this,c(this,Mt).values())}unselectAll(){if(!(c(this,zn)&&(c(this,zn).commitOrRemove(),c(this,$t)!==Me.NONE))&&this.hasSelection){for(const e of c(this,Xe))e.unselect();c(this,Xe).clear(),x(this,ie,mn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;c(this,zr)[0]+=e,c(this,zr)[1]+=t;const[r,o]=c(this,zr),l=[...c(this,Xe)],h=1e3;c(this,Zs)&&clearTimeout(c(this,Zs)),b(this,Zs,setTimeout(()=>{b(this,Zs,null),c(this,zr)[0]=c(this,zr)[1]=0,this.addCommands({cmd:()=>{for(const d of l)c(this,Mt).has(d.id)&&d.translateInPage(r,o)},undo:()=>{for(const d of l)c(this,Mt).has(d.id)&&d.translateInPage(-r,-o)},mustExec:!1})},h));for(const d of l)d.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,Ys,new Map);for(const e of c(this,Xe))c(this,Ys).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Ys))return!1;this.disableUserSelect(!1);const e=c(this,Ys);b(this,Ys,null);let t=!1;for(const[{x:r,y:o,pageIndex:l},h]of e)h.newX=r,h.newY=o,h.newPageIndex=l,t||(t=r!==h.savedX||o!==h.savedY||l!==h.savedPageIndex);if(!t)return!1;const n=(r,o,l,h)=>{if(c(this,Mt).has(r.id)){const d=c(this,Kt).get(h);d?r._setParentAndPosition(d,o,l):(r.pageIndex=h,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:h}]of e)n(r,o,l,h)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:h}]of e)n(r,o,l,h)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,Ys))for(const n of c(this,Ys).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Xe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,zn)===e}getActive(){return c(this,zn)}getMode(){return c(this,$t)}get imageManager(){return ze(this,"imageManager",new Ly)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,g=t.rangeCount;p<g;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=e.getBoundingClientRect();let h;switch(e.getAttribute("data-main-rotation")){case"90":h=(p,g,y,v)=>({x:(g-r)/l,y:1-(p+y-n)/o,width:v/l,height:y/o});break;case"180":h=(p,g,y,v)=>({x:1-(p+y-n)/o,y:1-(g+v-r)/l,width:y/o,height:v/l});break;case"270":h=(p,g,y,v)=>({x:1-(g+v-r)/l,y:(p-n)/o,width:v/l,height:y/o});break;default:h=(p,g,y,v)=>({x:(p-n)/o,y:(g-r)/l,width:y/o,height:v/l});break}const d=[];for(let p=0,g=t.rangeCount;p<g;p++){const y=t.getRangeAt(p);if(!y.collapsed)for(const{x:v,y:A,width:E,height:S}of y.getClientRects())E===0||S===0||d.push(h(v,A,E,S))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,Il)||b(this,Il,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,Il))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=c(this,Il))==null?void 0:r.get(e.data.id);if(!t)return;const n=c(this,Mi).getRawValue(t);n&&(c(this,$t)===Me.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Ll=new WeakMap,zn=new WeakMap,Mt=new WeakMap,Kt=new WeakMap,Ml=new WeakMap,Mi=new WeakMap,Il=new WeakMap,Cs=new WeakMap,Dr=new WeakMap,Fl=new WeakMap,Uo=new WeakMap,Ys=new WeakMap,ks=new WeakMap,$o=new WeakMap,Zc=new WeakMap,eh=new WeakMap,Nl=new WeakMap,th=new WeakMap,Qs=new WeakMap,Or=new WeakMap,Dl=new WeakMap,jr=new WeakMap,Js=new WeakMap,Pp=new WeakMap,Hr=new WeakMap,nh=new WeakMap,Br=new WeakMap,Vo=new WeakMap,sh=new WeakMap,ih=new WeakMap,$t=new WeakMap,Xe=new WeakMap,Ii=new WeakMap,Wo=new WeakMap,rh=new WeakMap,oh=new WeakMap,zr=new WeakMap,Zs=new WeakMap,Fi=new WeakMap,ah=new WeakMap,os=new WeakMap,ie=new WeakSet,Gf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Iy=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of c(this,Kt).values())if(n.hasTextLayer(e))return n;return null},rb=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=x(this,ie,Gf).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(c(this,Js)||b(this,Js,new QR(this)),c(this,Js).show(n,r,this.direction==="ltr"))},ob=function(){var o,l,h;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Ii)&&((o=c(this,Js))==null||o.hide(),b(this,Ii,null),x(this,ie,mn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,Ii))return;const r=x(this,ie,Gf).call(this,e).closest(".textLayer");if(!r){c(this,Ii)&&((l=c(this,Js))==null||l.hide(),b(this,Ii,null),x(this,ie,mn).call(this,{hasSelectedText:!1}));return}if((h=c(this,Js))==null||h.hide(),b(this,Ii,t),x(this,ie,mn).call(this,{hasSelectedText:!0}),!(c(this,$t)!==Me.HIGHLIGHT&&c(this,$t)!==Me.NONE)&&(c(this,$t)===Me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,jr,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=c(this,$t)===Me.HIGHLIGHT?x(this,ie,Iy).call(this,r):null;d==null||d.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),y=v=>{v.type==="pointerup"&&v.button!==0||(p.abort(),d==null||d.toggleDrawing(!0),v.type==="pointerup"&&x(this,ie,qf).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:g}),window.addEventListener("blur",y,{signal:g})}},qf=function(e=""){c(this,$t)===Me.HIGHLIGHT?this.highlightSelection(e):c(this,Zc)&&x(this,ie,rb).call(this)},ab=function(){document.addEventListener("selectionchange",x(this,ie,ob).bind(this),{signal:this._signal})},lb=function(){if(c(this,Or))return;b(this,Or,new AbortController);const e=this.combinedSignal(c(this,Or));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},ub=function(){var e;(e=c(this,Or))==null||e.abort(),b(this,Or,null)},Fy=function(){if(c(this,Br))return;b(this,Br,new AbortController);const e=this.combinedSignal(c(this,Br));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},cb=function(){var e;(e=c(this,Br))==null||e.abort(),b(this,Br,null)},Ny=function(){if(c(this,Dr))return;b(this,Dr,new AbortController);const e=this.combinedSignal(c(this,Dr));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Dy=function(){var e;(e=c(this,Dr))==null||e.abort(),b(this,Dr,null)},hb=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},mn=function(e){Object.entries(e).some(([n,r])=>c(this,oh)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,oh),e)}),c(this,$t)===Me.HIGHLIGHT&&e.hasSelectedEditor===!1&&x(this,ie,Lr).call(this,[[ke.HIGHLIGHT_FREE,!0]]))},Lr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},db=async function(){if(!c(this,Hr)){b(this,Hr,!0);const e=[];for(const t of c(this,Kt).values())e.push(t.enable());await Promise.all(e);for(const t of c(this,Mt).values())t.enable()}},fb=function(){if(this.unselectAll(),c(this,Hr)){b(this,Hr,!1);for(const e of c(this,Kt).values())e.disable();for(const e of c(this,Mt).values())e.disable()}},Oy=function(e){const t=c(this,Kt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},pb=function(){let e=null;for(e of c(this,Xe));return e},xc=function(){if(c(this,Mt).size===0)return!0;if(c(this,Mt).size===1)for(const e of c(this,Mt).values())return e.isEmpty();return!1},jy=function(e){for(const t of c(this,Xe))t.unselect();c(this,Xe).clear();for(const t of e)t.isEmpty()||(c(this,Xe).add(t),t.select());x(this,ie,mn).call(this,{hasSelectedEditor:this.hasSelection})},Ce(_l,"TRANSLATE_SMALL",1),Ce(_l,"TRANSLATE_BIG",10);let Oa=_l;var Vt,ei,Ts,Ol,ti,Un,jl,ni,Pn,Ni,Go,si,Ur,js,Cc,Xf;const yn=class yn{constructor(e){T(this,js);T(this,Vt,null);T(this,ei,!1);T(this,Ts,null);T(this,Ol,null);T(this,ti,null);T(this,Un,null);T(this,jl,!1);T(this,ni,null);T(this,Pn,null);T(this,Ni,null);T(this,Go,null);T(this,si,!1);b(this,Pn,e),b(this,si,e._uiManager.useNewAltTextFlow),c(yn,Ur)||b(yn,Ur,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){yn._l10n??(yn._l10n=e)}async render(){const e=b(this,Ts,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,Ol,document.createElement("span"));e.append(t),c(this,si)?(e.classList.add("new"),e.setAttribute("data-l10n-id",c(yn,Ur).missing),t.setAttribute("data-l10n-id",c(yn,Ur)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=c(this,Pn)._uiManager._signal;e.addEventListener("contextmenu",ps,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),c(this,Pn)._uiManager.editAltText(c(this,Pn)),c(this,si)&&c(this,Pn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,js,Cc)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(b(this,jl,!0),r(o))},{signal:n}),await x(this,js,Xf).call(this),e}finish(){c(this,Ts)&&(c(this,Ts).focus({focusVisible:c(this,jl)}),b(this,jl,!1))}isEmpty(){return c(this,si)?c(this,Vt)===null:!c(this,Vt)&&!c(this,ei)}hasData(){return c(this,si)?c(this,Vt)!==null||!!c(this,Ni):this.isEmpty()}get guessedText(){return c(this,Ni)}async setGuessedText(e){c(this,Vt)===null&&(b(this,Ni,e),b(this,Go,await yn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),x(this,js,Xf).call(this))}toggleAltTextBadge(e=!1){var t;if(!c(this,si)||c(this,Vt)){(t=c(this,ni))==null||t.remove(),b(this,ni,null);return}if(!c(this,ni)){const n=b(this,ni,document.createElement("div"));n.className="noAltTextBadge",c(this,Pn).div.append(n)}c(this,ni).classList.toggle("hidden",!e)}serialize(e){let t=c(this,Vt);return!e&&c(this,Ni)===t&&(t=c(this,Go)),{altText:t,decorative:c(this,ei),guessedText:c(this,Ni),textWithDisclaimer:c(this,Go)}}get data(){return{altText:c(this,Vt),decorative:c(this,ei)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(b(this,Ni,n),b(this,Go,r)),!(c(this,Vt)===e&&c(this,ei)===t)&&(o||(b(this,Vt,e),b(this,ei,t)),x(this,js,Xf).call(this))}toggle(e=!1){c(this,Ts)&&(!e&&c(this,Un)&&(clearTimeout(c(this,Un)),b(this,Un,null)),c(this,Ts).disabled=!e)}shown(){c(this,Pn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,js,Cc)}})}destroy(){var e,t;(e=c(this,Ts))==null||e.remove(),b(this,Ts,null),b(this,Ol,null),b(this,ti,null),(t=c(this,ni))==null||t.remove(),b(this,ni,null)}};Vt=new WeakMap,ei=new WeakMap,Ts=new WeakMap,Ol=new WeakMap,ti=new WeakMap,Un=new WeakMap,jl=new WeakMap,ni=new WeakMap,Pn=new WeakMap,Ni=new WeakMap,Go=new WeakMap,si=new WeakMap,Ur=new WeakMap,js=new WeakSet,Cc=function(){return c(this,Vt)&&"added"||c(this,Vt)===null&&this.guessedText&&"review"||"missing"},Xf=async function(){var r,o,l;const e=c(this,Ts);if(!e)return;if(c(this,si)){if(e.classList.toggle("done",!!c(this,Vt)),e.setAttribute("data-l10n-id",c(yn,Ur)[c(this,js,Cc)]),(r=c(this,Ol))==null||r.setAttribute("data-l10n-id",c(yn,Ur)[`${c(this,js,Cc)}-label`]),!c(this,Vt)){(o=c(this,ti))==null||o.remove();return}}else{if(!c(this,Vt)&&!c(this,ei)){e.classList.remove("done"),(l=c(this,ti))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=c(this,ti);if(!t){b(this,ti,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${c(this,Pn).id}`;const h=100,d=c(this,Pn)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(c(this,Un)),b(this,Un,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,Un,setTimeout(()=>{b(this,Un,null),c(this,ti).classList.add("show"),c(this,Pn)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:d}),e.addEventListener("mouseleave",()=>{var p;c(this,Un)&&(clearTimeout(c(this,Un)),b(this,Un,null)),(p=c(this,ti))==null||p.classList.remove("show")},{signal:d})}c(this,ei)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=c(this,Vt)),t.parentNode||e.append(t);const n=c(this,Pn).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},T(yn,Ur,null),Ce(yn,"_l10n",null);let Sp=yn;var qo,Rs,dt,Hl,Xo,Yt,Ko,$r,lh,Yo,Vr,uh,Qo,Di,ii,Bl,zl,as,ch,Lp,Fe,Hy,hh,By,zy,gb,mb,Uy,$y,Vy,yb,Wy,vb,wb,Ab,Gy,kc;const Ge=class Ge{constructor(e){T(this,Fe);T(this,qo,null);T(this,Rs,null);T(this,dt,null);T(this,Hl,!1);T(this,Xo,!1);T(this,Yt,null);T(this,Ko,null);T(this,$r,null);T(this,lh,"");T(this,Yo,!1);T(this,Vr,null);T(this,uh,!1);T(this,Qo,!1);T(this,Di,!1);T(this,ii,null);T(this,Bl,0);T(this,zl,0);T(this,as,null);Ce(this,"_editToolbar",null);Ce(this,"_initialOptions",Object.create(null));Ce(this,"_initialData",null);Ce(this,"_isVisible",!0);Ce(this,"_uiManager",null);Ce(this,"_focusEventsAllowed",!0);T(this,ch,!1);T(this,Lp,Ge._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[h,d]=this.parentDimensions;this.x=e.x/h,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ge.prototype._resizeWithKeyboard,t=Oa.TRANSLATE_SMALL,n=Oa.TRANSLATE_BIG;return ze(this,"_resizerKeyboardManager",new pd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ge.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new tP({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ge._l10n??(Ge._l10n=e),Ge._l10nResizer||(Ge._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ge._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ge._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){rt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,ch)}set _isDraggable(e){var t;b(this,ch,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Lp)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):x(this,Fe,kc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Yo)?b(this,Yo,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/o,this.y=(t+r)/l,this.fixAndSetPosition()}translate(e,t){x(this,Fe,Hy).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,Vr)||b(this,Vr,[this.x,this.y]),x(this,Fe,Hy).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,Vr)||b(this,Vr,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[h,d]=this.getBaseTranslation();o+=h,l+=d,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,Vr)&&(c(this,Vr)[0]!==this.x||c(this,Vr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ge,r=n/e,o=n/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:r,y:o,width:l,height:h}=this;if(l*=t,h*=n,r*=t,o*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-l,r)),o=Math.max(0,Math.min(n-h,o));break;case 90:r=Math.max(0,Math.min(t-h,r)),o=Math.min(n,Math.max(l,o));break;case 180:r=Math.min(t,Math.max(l,r)),o=Math.min(n,Math.max(h,o));break;case 270:r=Math.min(t,Math.max(h,r)),o=Math.max(0,Math.min(n-l,o));break}this.x=r/=t,this.y=o/=n;const[d,p]=this.getBaseTranslation();r+=d,o+=p;const{style:g}=this.div;g.left=`${(100*r).toFixed(2)}%`,g.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return x(n=Ge,hh,By).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return x(n=Ge,hh,By).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,c(this,Xo)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),o=!c(this,Xo)&&t.endsWith("%");if(r&&o)return;const[l,h]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!c(this,Xo)&&!o&&(e.height=`${(100*parseFloat(t)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,dt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||c(this,Qo)?this._editToolbar:(this._editToolbar=new Ry(this),this.div.append(this._editToolbar.render()),c(this,dt)&&await this._editToolbar.addAltText(c(this,dt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=c(this,dt))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,dt)||(Sp.initialize(Ge._l10n),b(this,dt,new Sp(this)),c(this,qo)&&(c(this,dt).data=c(this,qo),b(this,qo,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,dt))==null?void 0:e.data}set altTextData(e){c(this,dt)&&(c(this,dt).data=e)}get guessedAltText(){var e;return(e=c(this,dt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=c(this,dt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=c(this,dt))==null?void 0:t.serialize(e)}hasAltText(){return!!c(this,dt)&&!c(this,dt).isEmpty()}hasAltTextData(){var e;return((e=c(this,dt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Hl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),x(this,Fe,Wy).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),Ep(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=wn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,Yo,!0),this._isDraggable){x(this,Fe,yb).call(this,e);return}x(this,Fe,Vy).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){c(this,ii)&&clearTimeout(c(this,ii)),b(this,ii,setTimeout(()=>{var e;b(this,ii,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[h,d]=this.pageTranslation,p=e/r,g=t/r,y=this.x*o,v=this.y*l,A=this.width*o,E=this.height*l;switch(n){case 0:return[y+p+h,l-v-g-E+d,y+p+A+h,l-v-g+d];case 90:return[y+g+h,l-v+p+d,y+g+E+h,l-v+p+A+d];case 180:return[y-p-A+h,l-v+g+d,y-p+h,l-v+g+E+d];case 270:return[y-g-E+h,l-v-p-A+d,y-g+h,l-v-p+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,o,l]=e,h=o-n,d=l-r;switch(this.rotation){case 0:return[n,t-l,h,d];case 90:return[n,t-r,d,h];case 180:return[o,t-r,h,d];case 270:return[o,t-l,d,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,Qo,!0)}disableEditMode(){b(this,Qo,!1)}isInEditMode(){return c(this,Qo)}shouldGetKeyboardEvents(){return c(this,Di)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){x(this,Fe,Wy).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){rt("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,b(r,qo,e.accessibilityData);const[o,l]=r.pageDimensions,[h,d,p,g]=r.getRectInCurrentCoords(e.rect,l);return r.x=h/o,r.y=d/l,r.width=p/o,r.height=g/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=c(this,$r))==null||e.abort(),b(this,$r,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,ii)&&(clearTimeout(c(this,ii)),b(this,ii,null)),x(this,Fe,kc).call(this),this.removeEditToolbar(),c(this,as)){for(const t of c(this,as).values())clearTimeout(t);b(this,as,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(x(this,Fe,gb).call(this),c(this,Yt).classList.remove("hidden"),Ep(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,Ko,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,Yt).children;if(!c(this,Rs)){b(this,Rs,Array.from(t));const l=x(this,Fe,vb).bind(this),h=x(this,Fe,wb).bind(this),d=this._uiManager._signal;for(const p of c(this,Rs)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",l,{signal:d}),p.addEventListener("blur",h,{signal:d}),p.addEventListener("focus",x(this,Fe,Ab).bind(this,g),{signal:d}),p.setAttribute("data-l10n-id",Ge._l10nResizer[g])}}const n=c(this,Rs)[0];let r=0;for(const l of t){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(c(this,Rs).length/4);if(o!==r){if(o<r)for(let h=0;h<r-o;h++)c(this,Yt).append(c(this,Yt).firstChild);else if(o>r)for(let h=0;h<o-r;h++)c(this,Yt).firstChild.before(c(this,Yt).lastChild);let l=0;for(const h of t){const p=c(this,Rs)[l++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Ge._l10nResizer[p])}}x(this,Fe,Gy).call(this,0),b(this,Di,!0),c(this,Yt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,Di)&&x(this,Fe,$y).call(this,c(this,lh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){x(this,Fe,kc).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=c(this,dt))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,r,o;(e=c(this,Yt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=c(this,dt))==null||o.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,uh)}set isEditing(e){b(this,uh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,Xo,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,as)||b(this,as,new Map);const{action:n}=e;let r=c(this,as).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,as).delete(n),c(this,as).size===0&&b(this,as,null)},Ge._telemetryTimeout),c(this,as).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Hl,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Hl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};qo=new WeakMap,Rs=new WeakMap,dt=new WeakMap,Hl=new WeakMap,Xo=new WeakMap,Yt=new WeakMap,Ko=new WeakMap,$r=new WeakMap,lh=new WeakMap,Yo=new WeakMap,Vr=new WeakMap,uh=new WeakMap,Qo=new WeakMap,Di=new WeakMap,ii=new WeakMap,Bl=new WeakMap,zl=new WeakMap,as=new WeakMap,ch=new WeakMap,Lp=new WeakMap,Fe=new WeakSet,Hy=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this.fixAndSetPosition()},hh=new WeakSet,By=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},zy=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},gb=function(){if(c(this,Yt))return;b(this,Yt,document.createElement("div")),c(this,Yt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");c(this,Yt).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",x(this,Fe,mb).bind(this,n),{signal:t}),r.addEventListener("contextmenu",ps,{signal:t}),r.tabIndex=-1}this.div.prepend(c(this,Yt))},mb=function(e,t){var E;t.preventDefault();const{isMac:n}=wn.platform;if(t.button!==0||t.ctrlKey&&n)return;(E=c(this,dt))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",x(this,Fe,$y).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("contextmenu",ps,{signal:l});const h=this.x,d=this.y,p=this.width,g=this.height,y=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const A=()=>{var S;o.abort(),this.parent.togglePointerEvents(!0),(S=c(this,dt))==null||S.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=y,this.div.style.cursor=v,x(this,Fe,Uy).call(this,h,d,p,g)};window.addEventListener("pointerup",A,{signal:l}),window.addEventListener("blur",A,{signal:l})},Uy=function(e,t,n,r){const o=this.x,l=this.y,h=this.width,d=this.height;o===e&&l===t&&h===n&&d===r||this.addCommands({cmd:()=>{this.width=h,this.height=d,this.x=o,this.y=l;const[p,g]=this.parentDimensions;this.setDims(p*h,g*d),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[p,g]=this.parentDimensions;this.setDims(p*n,g*r),this.fixAndSetPosition()},mustExec:!0})},$y=function(e,t){const[n,r]=this.parentDimensions,o=this.x,l=this.y,h=this.width,d=this.height,p=Ge.MIN_SIZE/n,g=Ge.MIN_SIZE/r,y=Z=>Math.round(Z*1e4)/1e4,v=x(this,Fe,zy).call(this,this.rotation),A=(Z,G)=>[v[0]*Z+v[2]*G,v[1]*Z+v[3]*G],E=x(this,Fe,zy).call(this,360-this.rotation),S=(Z,G)=>[E[0]*Z+E[2]*G,E[1]*Z+E[3]*G];let k,C,R=!1,L=!1;switch(e){case"topLeft":R=!0,k=(Z,G)=>[0,0],C=(Z,G)=>[Z,G];break;case"topMiddle":k=(Z,G)=>[Z/2,0],C=(Z,G)=>[Z/2,G];break;case"topRight":R=!0,k=(Z,G)=>[Z,0],C=(Z,G)=>[0,G];break;case"middleRight":L=!0,k=(Z,G)=>[Z,G/2],C=(Z,G)=>[0,G/2];break;case"bottomRight":R=!0,k=(Z,G)=>[Z,G],C=(Z,G)=>[0,0];break;case"bottomMiddle":k=(Z,G)=>[Z/2,G],C=(Z,G)=>[Z/2,0];break;case"bottomLeft":R=!0,k=(Z,G)=>[0,G],C=(Z,G)=>[Z,0];break;case"middleLeft":L=!0,k=(Z,G)=>[0,G/2],C=(Z,G)=>[Z,G/2];break}const I=k(h,d),j=C(h,d);let O=A(...j);const z=y(o+O[0]),W=y(l+O[1]);let X=1,te=1,[se,_e]=this.screenToPageTranslation(t.movementX,t.movementY);if([se,_e]=S(se/n,_e/r),R){const Z=Math.hypot(h,d);X=te=Math.max(Math.min(Math.hypot(j[0]-I[0]-se,j[1]-I[1]-_e)/Z,1/h,1/d),p/h,g/d)}else L?X=Math.max(p,Math.min(1,Math.abs(j[0]-I[0]-se)))/h:te=Math.max(g,Math.min(1,Math.abs(j[1]-I[1]-_e)))/d;const pe=y(h*X),de=y(d*te);O=A(...C(pe,de));const Ae=z-O[0],me=W-O[1];this.width=pe,this.height=de,this.x=Ae,this.y=me,this.setDims(n*pe,r*de),this.fixAndSetPosition()},Vy=function(e){const{isMac:t}=wn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},yb=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),b(this,Bl,e.clientX),b(this,zl,e.clientY);const l=h=>{const{clientX:d,clientY:p}=h,[g,y]=this.screenToPageTranslation(d-c(this,Bl),p-c(this,zl));b(this,Bl,d),b(this,zl,p),this._uiManager.dragSelectedEditors(g,y)};window.addEventListener("pointermove",l,{passive:!0,capture:!0,signal:r})}const o=()=>{n.abort(),t&&this.div.classList.remove("moving"),b(this,Yo,!1),this._uiManager.endDragSession()||x(this,Fe,Vy).call(this,e)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},Wy=function(){if(c(this,$r)||!this.div)return;b(this,$r,new AbortController);const e=this._uiManager.combinedSignal(c(this,$r));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},vb=function(e){Ge._resizerKeyboardManager.exec(this,e)},wb=function(e){var t;c(this,Di)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,Yt)&&x(this,Fe,kc).call(this)},Ab=function(e){b(this,lh,c(this,Di)?e:"")},Gy=function(e){if(c(this,Rs))for(const t of c(this,Rs))t.tabIndex=e},kc=function(){if(b(this,Di,!1),x(this,Fe,Gy).call(this,-1),c(this,Ko)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=c(this,Ko);x(this,Fe,Uy).call(this,e,t,n,r),b(this,Ko,null)}},T(Ge,hh),Ce(Ge,"_l10n",null),Ce(Ge,"_l10nResizer",null),Ce(Ge,"_borderLineWidth",-1),Ce(Ge,"_colorManager",new My),Ce(Ge,"_zIndex",1),Ce(Ge,"_telemetryTimeout",1e3);let Ye=Ge;class tP extends Ye{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const NE=3285377520,rs=4294901760,Ks=65535;class Eb{constructor(e){this.h1=e?e&4294967295:NE,this.h2=e?e&4294967295:NE}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let S=0,k=e.length;S<k;S++){const C=e.charCodeAt(S);C<=255?t[n++]=C:(t[n++]=C>>>8,t[n++]=C&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(t.buffer,0,r);let h=0,d=0,p=this.h1,g=this.h2;const y=3432918353,v=461845907,A=y&Ks,E=v&Ks;for(let S=0;S<r;S++)S&1?(h=l[S],h=h*y&rs|h*A&Ks,h=h<<15|h>>>17,h=h*v&rs|h*E&Ks,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(d=l[S],d=d*y&rs|d*A&Ks,d=d<<15|d>>>17,d=d*v&rs|d*E&Ks,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,o){case 3:h^=t[r*4+2]<<16;case 2:h^=t[r*4+1]<<8;case 1:h^=t[r*4],h=h*y&rs|h*A&Ks,h=h<<15|h>>>17,h=h*v&rs|h*E&Ks,r&1?p^=h:g^=h}this.h1=p,this.h2=g}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&rs|e*36045&Ks,t=t*4283543511&rs|((t<<16|e>>>16)*2950163797&rs)>>>16,e^=t>>>1,e=e*444984403&rs|e*60499&Ks,t=t*3301882366&rs|((t<<16|e>>>16)*3120437893&rs)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const qy=Object.freeze({map:null,hash:"",transfer:void 0});var Jo,Zo,Wt,Mp,Sb;class ow{constructor(){T(this,Mp);T(this,Jo,!1);T(this,Zo,null);T(this,Wt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=c(this,Wt).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return c(this,Wt).get(e)}remove(e){if(c(this,Wt).delete(e),c(this,Wt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,Wt).values())if(t instanceof Ye)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=c(this,Wt).get(e);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(r=!0,n[o]=l);else r=!0,c(this,Wt).set(e,t);r&&x(this,Mp,Sb).call(this),t instanceof Ye&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,Wt).has(e)}getAll(){return c(this,Wt).size>0?ew(c(this,Wt)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return c(this,Wt).size}resetModified(){c(this,Jo)&&(b(this,Jo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new bb(this)}get serializable(){if(c(this,Wt).size===0)return qy;const e=new Map,t=new Eb,n=[],r=Object.create(null);let o=!1;for(const[l,h]of c(this,Wt)){const d=h instanceof Ye?h.serialize(!1,r):h;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),o||(o=!!d.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:qy}get editorStats(){let e=null;const t=new Map;for(const n of c(this,Wt).values()){if(!(n instanceof Ye))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[h,d]of Object.entries(r)){if(h==="type")continue;let p=l.get(h);p||(p=new Map,l.set(h,p));const g=p.get(d)??0;p.set(d,g+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){b(this,Zo,null)}get modifiedIds(){if(c(this,Zo))return c(this,Zo);const e=[];for(const t of c(this,Wt).values())!(t instanceof Ye)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return b(this,Zo,{ids:new Set(e),hash:e.join(",")})}}Jo=new WeakMap,Zo=new WeakMap,Wt=new WeakMap,Mp=new WeakSet,Sb=function(){c(this,Jo)||(b(this,Jo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var dh;class bb extends ow{constructor(t){super();T(this,dh);const{map:n,hash:r,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);b(this,dh,{map:l,hash:r,transfer:o})}get print(){rt("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,dh)}get modifiedIds(){return ze(this,"modifiedIds",{ids:new Set,hash:""})}}dh=new WeakMap;var Ul;class nP{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){T(this,Ul,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Ul).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Ul).has(e.loadedName))){if(Nt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:o}=e,l=new FontFace(n,r,o);this.addNativeFontFace(l);try{await l.load(),c(this,Ul).add(n),t==null||t(e)}catch{Ne(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}rt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Ne(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(dn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),ze(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Nt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(I,j){return I.charCodeAt(j)<<24|I.charCodeAt(j+1)<<16|I.charCodeAt(j+2)<<8|I.charCodeAt(j+3)&255}function r(I,j,O,z){const W=I.substring(0,j),X=I.substring(j+O);return W+z+X}let o,l;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let p=0;function g(I,j){if(++p>30){Ne("Load test font never loaded."),j();return}if(d.font="30px "+I,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){j();return}setTimeout(g.bind(null,I,j))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,y.length,y);const E=16,S=1482184792;let k=n(v,E);for(o=0,l=y.length-3;o<l;o+=4)k=k-S+n(y,o)|0;o<y.length&&(k=k-S+n(y+"XXX",o)|0),v=r(v,E,4,BR(k));const C=`url(data:font/opentype;base64,${btoa(v)});`,R=`@font-face {font-family:"${y}";src:${C}}`;this.insertRule(R);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const I of[e.loadedName,y]){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=I,L.append(j)}this._document.body.append(L),g(y,()=>{L.remove(),t.complete()})}}Ul=new WeakMap;class sP{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${GR(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(o){Ne(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(o,l){};const r=[];for(let o=0,l=n.length;o<l;)switch(n[o++]){case ki.BEZIER_CURVE_TO:{const[h,d,p,g,y,v]=n.slice(o,o+6);r.push(A=>A.bezierCurveTo(h,d,p,g,y,v)),o+=6}break;case ki.MOVE_TO:{const[h,d]=n.slice(o,o+2);r.push(p=>p.moveTo(h,d)),o+=2}break;case ki.LINE_TO:{const[h,d]=n.slice(o,o+2);r.push(p=>p.lineTo(h,d)),o+=2}break;case ki.QUADRATIC_CURVE_TO:{const[h,d,p,g]=n.slice(o,o+4);r.push(y=>y.quadraticCurveTo(h,d,p,g)),o+=4}break;case ki.RESTORE:r.push(h=>h.restore());break;case ki.SAVE:r.push(h=>h.save());break;case ki.SCALE:Nt(r.length===2,"Scale command is only valid at the third position.");break;case ki.TRANSFORM:{const[h,d,p,g,y,v]=n.slice(o,o+6);r.push(A=>A.transform(h,d,p,g,y,v)),o+=6}break;case ki.TRANSLATE:{const[h,d]=n.slice(o,o+2);r.push(p=>p.translate(h,d)),o+=2}break}return this.compiledGlyphs[t]=function(l,h){r[0](l),r[1](l),l.scale(h,-h);for(let d=2,p=r.length;d<p;d++)r[d](l)}}}var fh;class _b{constructor({enableHWA:e=!1}){T(this,fh,!1);b(this,fh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!c(this,fh)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){rt("Abstract method `_createCanvas` called.")}}fh=new WeakMap;class iP extends _b{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class xb{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){rt("Abstract method `_fetch` called.")}}class Cb extends xb{async _fetch(e){const t=await ng(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):tg(t)}}class kb{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,o){return"none"}destroy(e=!1){}}var ea,ta,ri,Oi,an,Ip,na,oe,rn,ml,yl,Kf,vl,Tb,Xy,wl,Tc,Rc,Ky,Pc;class rP extends kb{constructor({docId:t,ownerDocument:n=globalThis.document}){super();T(this,oe);T(this,ea);T(this,ta);T(this,ri);T(this,Oi);T(this,an);T(this,Ip);T(this,na,0);b(this,Oi,t),b(this,an,n)}addFilter(t){if(!t)return"none";let n=c(this,oe,rn).get(t);if(n)return n;const[r,o,l]=x(this,oe,Kf).call(this,t),h=t.length===1?r:`${r}${o}${l}`;if(n=c(this,oe,rn).get(h),n)return c(this,oe,rn).set(t,n),n;const d=`g_${c(this,Oi)}_transfer_map_${gn(this,na)._++}`,p=x(this,oe,vl).call(this,d);c(this,oe,rn).set(t,p),c(this,oe,rn).set(h,p);const g=x(this,oe,wl).call(this,d);return x(this,oe,Rc).call(this,r,o,l,g),p}addHCMFilter(t,n){var E;const r=`${t}-${n}`,o="base";let l=c(this,oe,ml).get(o);if((l==null?void 0:l.key)===r||(l?((E=l.filter)==null||E.remove(),l.key=r,l.url="none",l.filter=null):(l={key:r,url:"none",filter:null},c(this,oe,ml).set(o,l)),!t||!n))return l.url;const h=x(this,oe,Pc).call(this,t);t=ge.makeHexColor(...h);const d=x(this,oe,Pc).call(this,n);if(n=ge.makeHexColor(...d),c(this,oe,yl).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const p=new Array(256);for(let S=0;S<=255;S++){const k=S/255;p[S]=k<=.03928?k/12.92:((k+.055)/1.055)**2.4}const g=p.join(","),y=`g_${c(this,Oi)}_hcm_filter`,v=l.filter=x(this,oe,wl).call(this,y);x(this,oe,Rc).call(this,g,g,g,v),x(this,oe,Xy).call(this,v);const A=(S,k)=>{const C=h[S]/255,R=d[S]/255,L=new Array(k+1);for(let I=0;I<=k;I++)L[I]=C+I/k*(R-C);return L.join(",")};return x(this,oe,Rc).call(this,A(0,5),A(1,5),A(2,5),v),l.url=x(this,oe,vl).call(this,y),l.url}addAlphaFilter(t){let n=c(this,oe,rn).get(t);if(n)return n;const[r]=x(this,oe,Kf).call(this,[t]),o=`alpha_${r}`;if(n=c(this,oe,rn).get(o),n)return c(this,oe,rn).set(t,n),n;const l=`g_${c(this,Oi)}_alpha_map_${gn(this,na)._++}`,h=x(this,oe,vl).call(this,l);c(this,oe,rn).set(t,h),c(this,oe,rn).set(o,h);const d=x(this,oe,wl).call(this,l);return x(this,oe,Ky).call(this,r,d),h}addLuminosityFilter(t){let n=c(this,oe,rn).get(t||"luminosity");if(n)return n;let r,o;if(t?([r]=x(this,oe,Kf).call(this,[t]),o=`luminosity_${r}`):o="luminosity",n=c(this,oe,rn).get(o),n)return c(this,oe,rn).set(t,n),n;const l=`g_${c(this,Oi)}_luminosity_map_${gn(this,na)._++}`,h=x(this,oe,vl).call(this,l);c(this,oe,rn).set(t,h),c(this,oe,rn).set(o,h);const d=x(this,oe,wl).call(this,l);return x(this,oe,Tb).call(this,d),t&&x(this,oe,Ky).call(this,r,d),h}addHighlightHCMFilter(t,n,r,o,l){var R;const h=`${n}-${r}-${o}-${l}`;let d=c(this,oe,ml).get(t);if((d==null?void 0:d.key)===h||(d?((R=d.filter)==null||R.remove(),d.key=h,d.url="none",d.filter=null):(d={key:h,url:"none",filter:null},c(this,oe,ml).set(t,d)),!n||!r))return d.url;const[p,g]=[n,r].map(x(this,oe,Pc).bind(this));let y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[A,E]=[o,l].map(x(this,oe,Pc).bind(this));v<y&&([y,v,A,E]=[v,y,E,A]),c(this,oe,yl).style.color="";const S=(L,I,j)=>{const O=new Array(256),z=(v-y)/j,W=L/255,X=(I-L)/(255*j);let te=0;for(let se=0;se<=j;se++){const _e=Math.round(y+se*z),pe=W+se*X;for(let de=te;de<=_e;de++)O[de]=pe;te=_e+1}for(let se=te;se<256;se++)O[se]=O[te-1];return O.join(",")},k=`g_${c(this,Oi)}_hcm_${t}_filter`,C=d.filter=x(this,oe,wl).call(this,k);return x(this,oe,Xy).call(this,C),x(this,oe,Rc).call(this,S(A[0],E[0],5),S(A[1],E[1],5),S(A[2],E[2],5),C),d.url=x(this,oe,vl).call(this,k),d.url}destroy(t=!1){t&&c(this,oe,ml).size!==0||(c(this,ri)&&(c(this,ri).parentNode.parentNode.remove(),b(this,ri,null)),c(this,ta)&&(c(this,ta).clear(),b(this,ta,null)),b(this,na,0))}}ea=new WeakMap,ta=new WeakMap,ri=new WeakMap,Oi=new WeakMap,an=new WeakMap,Ip=new WeakMap,na=new WeakMap,oe=new WeakSet,rn=function(){return c(this,ta)||b(this,ta,new Map)},ml=function(){return c(this,Ip)||b(this,Ip,new Map)},yl=function(){if(!c(this,ri)){const t=c(this,an).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=c(this,an).createElementNS(Ri,"svg");r.setAttribute("width",0),r.setAttribute("height",0),b(this,ri,c(this,an).createElementNS(Ri,"defs")),t.append(r),r.append(c(this,ri)),c(this,an).body.append(t)}return c(this,ri)},Kf=function(t){if(t.length===1){const p=t[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=p[v]/255;const y=g.join(",");return[y,y,y]}const[n,r,o]=t,l=new Array(256),h=new Array(256),d=new Array(256);for(let p=0;p<256;p++)l[p]=n[p]/255,h[p]=r[p]/255,d[p]=o[p]/255;return[l.join(","),h.join(","),d.join(",")]},vl=function(t){if(c(this,ea)===void 0){b(this,ea,"");const n=c(this,an).URL;n!==c(this,an).baseURI&&(sg(n)?Ne('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,ea,n.split("#",1)[0]))}return`url(${c(this,ea)}#${t})`},Tb=function(t){const n=c(this,an).createElementNS(Ri,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Xy=function(t){const n=c(this,an).createElementNS(Ri,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},wl=function(t){const n=c(this,an).createElementNS(Ri,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),c(this,oe,yl).append(n),n},Tc=function(t,n,r){const o=c(this,an).createElementNS(Ri,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},Rc=function(t,n,r,o){const l=c(this,an).createElementNS(Ri,"feComponentTransfer");o.append(l),x(this,oe,Tc).call(this,l,"feFuncR",t),x(this,oe,Tc).call(this,l,"feFuncG",n),x(this,oe,Tc).call(this,l,"feFuncB",r)},Ky=function(t,n){const r=c(this,an).createElementNS(Ri,"feComponentTransfer");n.append(r),x(this,oe,Tc).call(this,r,"feFuncA",t)},Pc=function(t){return c(this,oe,yl).style.color=t,rw(getComputedStyle(c(this,oe,yl)).getPropertyValue("color"))};class Rb{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){rt("Abstract method `_fetch` called.")}}class Pb extends Rb{async _fetch(e){const t=await ng(e,"arraybuffer");return new Uint8Array(t)}}if(dn){var Yy=Promise.withResolvers(),zc=null;(async()=>{const e=await Lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),t=await Lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),n=await Lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),r=await Lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url);let o,l;return new Map(Object.entries({fs:e,http:t,https:n,url:r,canvas:o,path2d:l}))})().then(e=>{zc=e,Yy.resolve()},e=>{Ne(`loadPackages: ${e}`),zc=new Map,Yy.resolve()})}class uo{static get promise(){return Yy.promise}static get(e){return zc==null?void 0:zc.get(e)}}async function Lb(a){const t=await uo.get("fs").promises.readFile(a);return new Uint8Array(t)}class oP extends kb{}class aP extends _b{_createCanvas(e,t){return uo.get("canvas").createCanvas(e,t)}}class lP extends xb{async _fetch(e){return Lb(e)}}class uP extends Rb{async _fetch(e){return Lb(e)}}const vn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Qy(a,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),a.clip(r)}class aw{getPattern(){rt("Abstract method `getPattern` called.")}}class cP extends aw{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let o;if(r===vn.STROKE||r===vn.FILL){const l=t.current.getClippedPathBoundingBox(r,pt(e))||[0,0,0,0],h=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,p=t.cachedCanvases.getCanvas("pattern",h,d),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-l[0],-l[1]),n=ge.transform(n,[1,0,0,1,l[0],l[1]]),g.transform(...t.baseTransform),this.matrix&&g.transform(...this.matrix),Qy(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=e.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(n);o.setTransform(y)}else Qy(e,this._bbox),o=this._createGradient(e);return o}}function dy(a,e,t,n,r,o,l,h){const d=e.coords,p=e.colors,g=a.data,y=a.width*4;let v;d[t+1]>d[n+1]&&(v=t,t=n,n=v,v=o,o=l,l=v),d[n+1]>d[r+1]&&(v=n,n=r,r=v,v=l,l=h,h=v),d[t+1]>d[n+1]&&(v=t,t=n,n=v,v=o,o=l,l=v);const A=(d[t]+e.offsetX)*e.scaleX,E=(d[t+1]+e.offsetY)*e.scaleY,S=(d[n]+e.offsetX)*e.scaleX,k=(d[n+1]+e.offsetY)*e.scaleY,C=(d[r]+e.offsetX)*e.scaleX,R=(d[r+1]+e.offsetY)*e.scaleY;if(E>=R)return;const L=p[o],I=p[o+1],j=p[o+2],O=p[l],z=p[l+1],W=p[l+2],X=p[h],te=p[h+1],se=p[h+2],_e=Math.round(E),pe=Math.round(R);let de,Ae,me,Z,G,ae,ee,D;for(let q=_e;q<=pe;q++){if(q<k){const ye=q<E?0:(E-q)/(E-k);de=A-(A-S)*ye,Ae=L-(L-O)*ye,me=I-(I-z)*ye,Z=j-(j-W)*ye}else{let ye;q>R?ye=1:k===R?ye=0:ye=(k-q)/(k-R),de=S-(S-C)*ye,Ae=O-(O-X)*ye,me=z-(z-te)*ye,Z=W-(W-se)*ye}let ue;q<E?ue=0:q>R?ue=1:ue=(E-q)/(E-R),G=A-(A-C)*ue,ae=L-(L-X)*ue,ee=I-(I-te)*ue,D=j-(j-se)*ue;const Ee=Math.round(Math.min(de,G)),Te=Math.round(Math.max(de,G));let ve=y*q+Ee*4;for(let ye=Ee;ye<=Te;ye++)ue=(de-ye)/(de-G),ue<0?ue=0:ue>1&&(ue=1),g[ve++]=Ae-(Ae-ae)*ue|0,g[ve++]=me-(me-ee)*ue|0,g[ve++]=Z-(Z-D)*ue|0,g[ve++]=255}}function hP(a,e,t){const n=e.coords,r=e.colors;let o,l;switch(e.type){case"lattice":const h=e.verticesPerRow,d=Math.floor(n.length/h)-1,p=h-1;for(o=0;o<d;o++){let g=o*h;for(let y=0;y<p;y++,g++)dy(a,t,n[g],n[g+1],n[g+h],r[g],r[g+1],r[g+h]),dy(a,t,n[g+h+1],n[g+1],n[g+h],r[g+h+1],r[g+1],r[g+h])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)dy(a,t,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class dP extends aw{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-d,y=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),A=p/y,E=g/v,S={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/A,scaleY:1/E},k=y+2*2,C=v+2*2,R=n.getCanvas("mesh",k,C),L=R.context,I=L.createImageData(y,v);if(t){const O=I.data;for(let z=0,W=O.length;z<W;z+=4)O[z]=t[0],O[z+1]=t[1],O[z+2]=t[2],O[z+3]=255}for(const O of this._figures)hP(I,O,S);return L.putImageData(I,2,2),{canvas:R.canvas,offsetX:h-2*A,offsetY:d-2*E,scaleX:A,scaleY:E}}getPattern(e,t,n,r){Qy(e,this._bbox);let o;if(r===vn.SHADING)o=ge.singularValueDecompose2dScale(pt(e));else if(o=ge.singularValueDecompose2dScale(t.baseTransform),this.matrix){const h=ge.singularValueDecompose2dScale(this.matrix);o=[o[0]*h[0],o[1]*h[1]]}const l=this._createMeshCanvas(o,r===vn.SHADING?null:this._background,t.cachedCanvases);return r!==vn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class fP extends aw{getPattern(){return"hotpink"}}function pP(a){switch(a[0]){case"RadialAxial":return new cP(a);case"Mesh":return new dP(a);case"Dummy":return new fP}throw new Error(`Unknown IR type: ${a[0]}`)}const DE={COLORED:1,UNCOLORED:2},Fp=class Fp{constructor(e,t,n,r,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:o,color:l,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),Zp("TilingType: "+o);const g=t[0],y=t[1],v=t[2],A=t[3],E=v-g,S=A-y,k=ge.singularValueDecompose2dScale(this.matrix),C=ge.singularValueDecompose2dScale(this.baseTransform),R=k[0]*C[0],L=k[1]*C[1];let I=E,j=S,O=!1,z=!1;const W=Math.ceil(d*R),X=Math.ceil(p*L),te=Math.ceil(E*R),se=Math.ceil(S*L);W>=te?I=d:O=!0,X>=se?j=p:z=!0;const _e=this.getSizeAndScale(I,this.ctx.canvas.width,R),pe=this.getSizeAndScale(j,this.ctx.canvas.height,L),de=e.cachedCanvases.getCanvas("pattern",_e.size,pe.size),Ae=de.context,me=h.createCanvasGraphics(Ae);if(me.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(me,r,l),Ae.translate(-_e.scale*g,-pe.scale*y),me.transform(_e.scale,0,0,pe.scale,0,0),Ae.save(),this.clipBbox(me,g,y,v,A),me.baseTransform=pt(me.ctx),me.executeOperatorList(n),me.endDrawing(),Ae.restore(),O||z){const Z=de.canvas;O&&(I=d),z&&(j=p);const G=this.getSizeAndScale(I,this.ctx.canvas.width,R),ae=this.getSizeAndScale(j,this.ctx.canvas.height,L),ee=G.size,D=ae.size,q=e.cachedCanvases.getCanvas("pattern-workaround",ee,D),ue=q.context,Ee=O?Math.floor(E/d):0,Te=z?Math.floor(S/p):0;for(let ve=0;ve<=Ee;ve++)for(let ye=0;ye<=Te;ye++)ue.drawImage(Z,ee*ve,D*ye,ee,D,0,0,ee,D);return{canvas:q.canvas,scaleX:G.scale,scaleY:ae.scale,offsetX:g,offsetY:y}}return{canvas:de.canvas,scaleX:_e.scale,scaleY:pe.scale,offsetX:g,offsetY:y}}getSizeAndScale(e,t,n){const r=Math.max(Fp.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=r?o=r:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,r,o){const l=r-t,h=o-n;e.ctx.rect(t,n,l,h),e.current.updateRectMinMax(pt(e.ctx),[t,n,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,o=e.current;switch(t){case DE.COLORED:const l=this.ctx;r.fillStyle=l.fillStyle,r.strokeStyle=l.strokeStyle,o.fillColor=l.fillStyle,o.strokeColor=l.strokeStyle;break;case DE.UNCOLORED:const h=ge.makeHexColor(n[0],n[1],n[2]);r.fillStyle=h,r.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new HR(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,r){let o=n;r!==vn.SHADING&&(o=ge.transform(o,t.baseTransform),this.matrix&&(o=ge.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let h=new DOMMatrix(o);h=h.translate(l.offsetX,l.offsetY),h=h.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(h),d}};Ce(Fp,"MAX_PATTERN_SIZE",3e3);let Jy=Fp;function gP({src:a,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const h=wn.isLittleEndian?4278190080:255,[d,p]=l?[o,h]:[h,o],g=n>>3,y=n&7,v=a.length;t=new Uint32Array(t.buffer);let A=0;for(let E=0;E<r;E++){for(const k=e+g;e<k;e++){const C=e<v?a[e]:255;t[A++]=C&128?p:d,t[A++]=C&64?p:d,t[A++]=C&32?p:d,t[A++]=C&16?p:d,t[A++]=C&8?p:d,t[A++]=C&4?p:d,t[A++]=C&2?p:d,t[A++]=C&1?p:d}if(y===0)continue;const S=e<v?a[e++]:255;for(let k=0;k<y;k++)t[A++]=S&1<<7-k?p:d}return{srcPos:e,destPos:A}}const OE=16,jE=100,mP=15,HE=10,BE=1e3,In=16;function yP(a,e){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){e.save(),this.__originalSave()},a.restore=function(){e.restore(),this.__originalRestore()},a.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},a.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},a.transform=function(n,r,o,l,h,d){e.transform(n,r,o,l,h,d),this.__originalTransform(n,r,o,l,h,d)},a.setTransform=function(n,r,o,l,h,d){e.setTransform(n,r,o,l,h,d),this.__originalSetTransform(n,r,o,l,h,d)},a.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},a.rotate=function(n){e.rotate(n),this.__originalRotate(n)},a.clip=function(n){e.clip(n),this.__originalClip(n)},a.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},a.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},a.bezierCurveTo=function(t,n,r,o,l,h){e.bezierCurveTo(t,n,r,o,l,h),this.__originalBezierCurveTo(t,n,r,o,l,h)},a.rect=function(t,n,r,o){e.rect(t,n,r,o),this.__originalRect(t,n,r,o)},a.closePath=function(){e.closePath(),this.__originalClosePath()},a.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class vP{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Mf(a,e,t,n,r,o,l,h,d,p){const[g,y,v,A,E,S]=pt(a);if(y===0&&v===0){const R=l*g+E,L=Math.round(R),I=h*A+S,j=Math.round(I),O=(l+d)*g+E,z=Math.abs(Math.round(O)-L)||1,W=(h+p)*A+S,X=Math.abs(Math.round(W)-j)||1;return a.setTransform(Math.sign(g),0,0,Math.sign(A),L,j),a.drawImage(e,t,n,r,o,0,0,z,X),a.setTransform(g,y,v,A,E,S),[z,X]}if(g===0&&A===0){const R=h*v+E,L=Math.round(R),I=l*y+S,j=Math.round(I),O=(h+p)*v+E,z=Math.abs(Math.round(O)-L)||1,W=(l+d)*y+S,X=Math.abs(Math.round(W)-j)||1;return a.setTransform(0,Math.sign(y),Math.sign(v),0,L,j),a.drawImage(e,t,n,r,o,0,0,X,z),a.setTransform(g,y,v,A,E,S),[X,z]}a.drawImage(e,t,n,r,o,l,h,d,p);const k=Math.hypot(g,y),C=Math.hypot(v,A);return[k*d,C*p]}function wP(a){const{width:e,height:t}=a;if(e>BE||t>BE)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let l=new Uint8Array(o*(t+1)),h,d,p;const g=e+7&-8;let y=new Uint8Array(g*t),v=0;for(const C of a.data){let R=128;for(;R>0;)y[v++]=C&R?0:255,R>>=1}let A=0;for(v=0,y[v]!==0&&(l[0]=1,++A),d=1;d<e;d++)y[v]!==y[v+1]&&(l[d]=y[v]?2:1,++A),v++;for(y[v]!==0&&(l[d]=2,++A),h=1;h<t;h++){v=h*g,p=h*o,y[v-g]!==y[v]&&(l[p]=y[v]?1:8,++A);let C=(y[v]?4:0)+(y[v-g]?8:0);for(d=1;d<e;d++)C=(C>>2)+(y[v+1]?4:0)+(y[v-g+1]?8:0),r[C]&&(l[p+d]=r[C],++A),v++;if(y[v-g]!==y[v]&&(l[p+d]=y[v]?2:4,++A),A>n)return null}for(v=g*(t-1),p=h*o,y[v]!==0&&(l[p]=8,++A),d=1;d<e;d++)y[v]!==y[v+1]&&(l[p+d]=y[v]?4:8,++A),v++;if(y[v]!==0&&(l[p+d]=4,++A),A>n)return null;const E=new Int32Array([0,o,-1,0,-o,0,0,0,1]),S=new Path2D;for(h=0;A&&h<=t;h++){let C=h*o;const R=C+e;for(;C<R&&!l[C];)C++;if(C===R)continue;S.moveTo(C%o,h);const L=C;let I=l[C];do{const j=E[I];do C+=j;while(!l[C]);const O=l[C];O!==5&&O!==10?(I=O,l[C]=0):(I=O&51*I>>4,l[C]&=I>>2|I<<2),S.lineTo(C%o,C/o|0),l[C]||--A}while(L!==C);--h}return y=null,l=null,function(C){C.save(),C.scale(1/e,-1/t),C.translate(0,-t),C.fill(S),C.beginPath(),C.restore()}}class zE{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=XS,this.textMatrixScale=1,this.fontMatrix=_y,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=sn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=ge.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=ge.applyTransform(t,e),r=ge.applyTransform(t.slice(2),e),o=ge.applyTransform([t[0],t[3]],e),l=ge.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],o[0],l[0]),this.minY=Math.min(this.minY,n[1],r[1],o[1],l[1]),this.maxX=Math.max(this.maxX,n[0],r[0],o[0],l[0]),this.maxY=Math.max(this.maxY,n[1],r[1],o[1],l[1])}updateScalingPathMinMax(e,t){ge.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,o,l,h,d,p,g){const y=ge.bezierBoundingBox(t,n,r,o,l,h,d,p,g);g||this.updateRectMinMax(e,y)}getPathBoundingBox(e=vn.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===vn.STROKE){t||rt("Stroke bounding box must include transform.");const r=ge.singularValueDecompose2dScale(t),o=r[0]*this.lineWidth/2,l=r[1]*this.lineWidth/2;n[0]-=o,n[1]-=l,n[2]+=o,n[3]+=l}return n}updateClipFromPath(){const e=ge.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=vn.FILL,t=null){return ge.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function UE(a,e){if(typeof ImageData<"u"&&e instanceof ImageData){a.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%In,o=(t-r)/In,l=r===0?o:o+1,h=a.createImageData(n,In);let d=0,p;const g=e.data,y=h.data;let v,A,E,S;if(e.kind===Uf.GRAYSCALE_1BPP){const k=g.byteLength,C=new Uint32Array(y.buffer,0,y.byteLength>>2),R=C.length,L=n+7>>3,I=4294967295,j=wn.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(E=v<o?In:r,p=0,A=0;A<E;A++){const O=k-d;let z=0;const W=O>L?n:O*8-7,X=W&-8;let te=0,se=0;for(;z<X;z+=8)se=g[d++],C[p++]=se&128?I:j,C[p++]=se&64?I:j,C[p++]=se&32?I:j,C[p++]=se&16?I:j,C[p++]=se&8?I:j,C[p++]=se&4?I:j,C[p++]=se&2?I:j,C[p++]=se&1?I:j;for(;z<W;z++)te===0&&(se=g[d++],te=128),C[p++]=se&te?I:j,te>>=1}for(;p<R;)C[p++]=0;a.putImageData(h,0,v*In)}}else if(e.kind===Uf.RGBA_32BPP){for(A=0,S=n*In*4,v=0;v<o;v++)y.set(g.subarray(d,d+S)),d+=S,a.putImageData(h,0,A),A+=In;v<l&&(S=n*r*4,y.set(g.subarray(d,d+S)),a.putImageData(h,0,A))}else if(e.kind===Uf.RGB_24BPP)for(E=In,S=n*E,v=0;v<l;v++){for(v>=o&&(E=r,S=n*E),p=0,A=S;A--;)y[p++]=g[d++],y[p++]=g[d++],y[p++]=g[d++],y[p++]=255;a.putImageData(h,0,v*In)}else throw new Error(`bad image kind: ${e.kind}`)}function $E(a,e){if(e.bitmap){a.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%In,o=(t-r)/In,l=r===0?o:o+1,h=a.createImageData(n,In);let d=0;const p=e.data,g=h.data;for(let y=0;y<l;y++){const v=y<o?In:r;({srcPos:d}=gP({src:p,srcPos:d,dest:g,width:n,height:v,nonBlackColor:0})),a.putImageData(h,0,y*In)}}function Sc(a,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)a[n]!==void 0&&(e[n]=a[n]);a.setLineDash!==void 0&&(e.setLineDash(a.getLineDash()),e.lineDashOffset=a.lineDashOffset)}function If(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!dn){const{filter:e}=a;e!=="none"&&e!==""&&(a.filter="none")}}function VE(a,e){if(e)return!0;const t=ge.singularValueDecompose2dScale(a);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*lo.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const AP=["butt","round","square"],EP=["miter","round","bevel"],SP={},WE={};var ho,Zy,ev;const pw=class pw{constructor(e,t,n,r,o,{optionalContentConfig:l,markedContentStack:h=null},d,p){T(this,ho);this.ctx=e,this.current=new zE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=l,this.cachedCanvases=new vP(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=h,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...pt(this.compositeCtx))}this.ctx.save(),If(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=pt(this.ctx)}executeOperatorList(e,t,n,r){const o=e.argsArray,l=e.fnArray;let h=t||0;const d=o.length;if(d===h)return h;const p=d-h>HE&&typeof n=="function",g=p?Date.now()+mP:0;let y=0;const v=this.commonObjs,A=this.objs;let E;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,n),h;if(E=l[h],E!==_s.dependency)this[E].apply(this,o[h]);else for(const S of o[h]){const k=S.startsWith("g_")?v:A;if(!k.has(S))return k.get(S,n),h}if(h++,h===d)return h;if(p&&++y>HE){if(Date.now()>g)return n(),h;y=0}}}endDrawing(){x(this,ho,Zy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),x(this,ho,ev).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),h=n,d=r,p="prescale1",g,y;for(;o>2&&h>1||l>2&&d>1;){let v=h,A=d;o>2&&h>1&&(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/v),l>2&&d>1&&(A=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/A),g=this.cachedCanvases.getCanvas(p,v,A),y=g.context,y.clearRect(0,0,v,A),y.drawImage(e,0,0,h,d,0,0,v,A),e=g.canvas,h=v,d=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:h,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,o=this.current.fillColor,l=this.current.patternFill,h=pt(t);let d,p,g,y;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;p=JSON.stringify(l?h:[h.slice(0,4),o]),d=this._cachedBitmapsMap.get(W),d||(d=new Map,this._cachedBitmapsMap.set(W,d));const X=d.get(p);if(X&&!l){const te=Math.round(Math.min(h[0],h[2])+h[4]),se=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:X,offsetX:te,offsetY:se}}g=X}g||(y=this.cachedCanvases.getCanvas("maskCanvas",n,r),$E(y.context,e));let v=ge.transform(h,[1/n,0,0,-1/r,0,0]);v=ge.transform(v,[1,0,0,1,0,-r]);const[A,E,S,k]=ge.getAxialAlignedBoundingBox([0,0,n,r],v),C=Math.round(S-A)||1,R=Math.round(k-E)||1,L=this.cachedCanvases.getCanvas("fillCanvas",C,R),I=L.context,j=A,O=E;I.translate(-j,-O),I.transform(...v),g||(g=this._scaleImage(y.canvas,Ti(I)),g=g.img,d&&l&&d.set(p,g)),I.imageSmoothingEnabled=VE(pt(I),e.interpolate),Mf(I,g,0,0,g.width,g.height,0,0,n,r),I.globalCompositeOperation="source-in";const z=ge.transform(Ti(I),[1,0,0,1,-j,-O]);return I.fillStyle=l?o.getPattern(t,this,z,vn.FILL):o,I.fillRect(0,0,n,r),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,L.canvas)),{canvas:L.canvas,offsetX:Math.round(j),offsetY:Math.round(O)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=AP[e]}setLineJoin(e){this.ctx.lineJoin=EP[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...pt(this.suspendedCtx)),Sc(this.suspendedCtx,o),yP(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Sc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const o=r[0],l=r[1],h=r[2]-o,d=r[3]-l;h===0||d===0||(this.genericComposeSMask(t.context,n,h,d,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,o,l,h,d,p,g,y){let v=e.canvas,A=d-g,E=p-y;if(l){const k=ge.makeHexColor(...l);if(A<0||E<0||A+n>v.width||E+r>v.height){const C=this.cachedCanvases.getCanvas("maskExtension",n,r),R=C.context;R.drawImage(v,-A,-E),R.globalCompositeOperation="destination-atop",R.fillStyle=k,R.fillRect(0,0,n,r),R.globalCompositeOperation="source-over",v=C.canvas,A=E=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(A,E,n,r),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=k,e.fillRect(A,E,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?t.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(h));const S=new Path2D;S.rect(d,p,n,r),t.clip(S),t.globalCompositeOperation="destination-in",t.drawImage(v,A,E,n,r,d,p,n,r),t.restore()}save(){this.inSMaskMode?(Sc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Sc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,o,l){this.ctx.transform(e,t,n,r,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,o=this.current;let l=o.x,h=o.y,d,p;const g=pt(r),y=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,v=y?n.slice(0):null;for(let A=0,E=0,S=e.length;A<S;A++)switch(e[A]|0){case _s.rectangle:l=t[E++],h=t[E++];const k=t[E++],C=t[E++],R=l+k,L=h+C;r.moveTo(l,h),k===0||C===0?r.lineTo(R,L):(r.lineTo(R,h),r.lineTo(R,L),r.lineTo(l,L)),y||o.updateRectMinMax(g,[l,h,R,L]),r.closePath();break;case _s.moveTo:l=t[E++],h=t[E++],r.moveTo(l,h),y||o.updatePathMinMax(g,l,h);break;case _s.lineTo:l=t[E++],h=t[E++],r.lineTo(l,h),y||o.updatePathMinMax(g,l,h);break;case _s.curveTo:d=l,p=h,l=t[E+4],h=t[E+5],r.bezierCurveTo(t[E],t[E+1],t[E+2],t[E+3],l,h),o.updateCurvePathMinMax(g,d,p,t[E],t[E+1],t[E+2],t[E+3],l,h,v),E+=6;break;case _s.curveTo2:d=l,p=h,r.bezierCurveTo(l,h,t[E],t[E+1],t[E+2],t[E+3]),o.updateCurvePathMinMax(g,d,p,l,h,t[E],t[E+1],t[E+2],t[E+3],v),l=t[E+2],h=t[E+3],E+=4;break;case _s.curveTo3:d=l,p=h,l=t[E+2],h=t[E+3],r.bezierCurveTo(t[E],t[E+1],l,h,l,h),o.updateCurvePathMinMax(g,d,p,t[E],t[E+1],l,h,l,h,v),E+=4;break;case _s.closePath:r.closePath();break}y&&o.updateScalingPathMinMax(g,v),o.setCurrentPoint(l,h)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,Ti(t),vn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(t.save(),t.fillStyle=n.getPattern(t,this,Ti(t),vn.FILL),o=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=SP}eoClip(){this.pendingClip=WE}beginText(){this.current.textMatrix=XS,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var g;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||_y,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ne("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((g=n.systemFontInfo)==null?void 0:g.css)||`"${o}", ${n.fallbackName}`;let h="normal";n.black?h="900":n.bold&&(h="bold");const d=n.italic?"italic":"normal";let p=t;t<OE?p=OE:t>jE&&(p=jE),this.current.fontSizeScale=t/p,this.ctx.font=`${d} ${h} ${p}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,o,l){this.current.textMatrix=[e,t,n,r,o,l],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r){const o=this.ctx,l=this.current,h=l.font,d=l.textRenderingMode,p=l.fontSize/l.fontSizeScale,g=d&sn.FILL_STROKE_MASK,y=!!(d&sn.ADD_TO_PATH_FLAG),v=l.patternFill&&!h.missingFile;let A;(h.disableFontFace||y||v)&&(A=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||v?(o.save(),o.translate(t,n),o.beginPath(),A(o,p),r&&o.setTransform(...r),(g===sn.FILL||g===sn.FILL_STROKE)&&o.fill(),(g===sn.STROKE||g===sn.FILL_STROKE)&&o.stroke(),o.restore()):((g===sn.FILL||g===sn.FILL_STROKE)&&o.fillText(e,t,n),(g===sn.STROKE||g===sn.FILL_STROKE)&&o.strokeText(e,t,n)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:pt(o),x:t,y:n,fontSize:p,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return ze(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,l=t.fontSizeScale,h=t.charSpacing,d=t.wordSpacing,p=t.fontDirection,g=t.textHScale*p,y=e.length,v=n.vertical,A=v?1:-1,E=n.defaultVMetrics,S=r*t.fontMatrix[0],k=t.textRenderingMode===sn.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),p>0?o.scale(g,-1):o.scale(g,1);let C;if(t.patternFill){o.save();const O=t.fillColor.getPattern(o,this,Ti(o),vn.FILL);C=pt(o),o.restore(),o.fillStyle=O}let R=t.lineWidth;const L=t.textMatrixScale;if(L===0||R===0){const O=t.textRenderingMode&sn.FILL_STROKE_MASK;(O===sn.STROKE||O===sn.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=L;if(l!==1&&(o.scale(l,l),R/=l),o.lineWidth=R,n.isInvalidPDFjsFont){const O=[];let z=0;for(const W of e)O.push(W.unicode),z+=W.width;o.fillText(O.join(""),0,0),t.x+=z*S*g,o.restore(),this.compose();return}let I=0,j;for(j=0;j<y;++j){const O=e[j];if(typeof O=="number"){I+=A*O*r/1e3;continue}let z=!1;const W=(O.isSpace?d:0)+h,X=O.fontChar,te=O.accent;let se,_e,pe=O.width;if(v){const Ae=O.vmetric||E,me=-(O.vmetric?Ae[1]:pe*.5)*S,Z=Ae[2]*S;pe=Ae?-Ae[0]:pe,se=me/l,_e=(I+Z)/l}else se=I/l,_e=0;if(n.remeasure&&pe>0){const Ae=o.measureText(X).width*1e3/r*l;if(pe<Ae&&this.isFontSubpixelAAEnabled){const me=pe/Ae;z=!0,o.save(),o.scale(me,1),se/=me}else pe!==Ae&&(se+=(pe-Ae)/2e3*r/l)}if(this.contentVisible&&(O.isInFont||n.missingFile)){if(k&&!te)o.fillText(X,se,_e);else if(this.paintChar(X,se,_e,C),te){const Ae=se+r*te.offset.x/l,me=_e-r*te.offset.y/l;this.paintChar(te.fontChar,Ae,me,C)}}const de=v?pe*S-W*p:pe*S+W*p;I+=de,z&&o.restore()}v?t.y-=I:t.x+=I*g,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,o=n.fontSize,l=n.fontDirection,h=r.vertical?1:-1,d=n.charSpacing,p=n.wordSpacing,g=n.textHScale*l,y=n.fontMatrix||_y,v=e.length,A=n.textRenderingMode===sn.INVISIBLE;let E,S,k,C;if(!(A||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(g,l),E=0;E<v;++E){if(S=e[E],typeof S=="number"){C=h*S*o/1e3,this.ctx.translate(C,0),n.x+=C*g;continue}const R=(S.isSpace?p:0)+d,L=r.charProcOperatorList[S.operatorListId];if(!L){Ne(`Type3 character "${S.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=S,this.save(),t.scale(o,o),t.transform(...y),this.executeOperatorList(L),this.restore()),k=ge.applyTransform([S.width,0],y)[0]*o+R,t.translate(k,0),n.x+=k*g}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,o,l){this.ctx.rect(n,r,o-n,l-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],r=this.baseTransform||pt(this.ctx),o={createCanvasGraphics:l=>new pw(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Jy(e,n,this.ctx,o,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=ge.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=ge.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=pP(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Ti(t),vn.SHADING);const r=Ti(t);{const{width:o,height:l}=t.canvas,[h,d,p,g]=ge.getAxialAlignedBoundingBox([0,0,o,l],r);this.ctx.fillRect(h,d,p-h,g-d)}this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){rt("Should not call beginInlineImage")}beginImageData(){rt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=pt(this.ctx),t)){const n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.current.updateRectMinMax(pt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Zp("TODO: Support non-isolated groups."),e.knockout&&Ne("Knockout groups not supported.");const n=pt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=ge.getAxialAlignedBoundingBox(e.bbox,pt(t));const o=[0,0,t.canvas.width,t.canvas.height];r=ge.intersect(r,o)||[0,0,0,0];const l=Math.floor(r[0]),h=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-l,1),p=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,d,p),v=y.context;v.translate(-l,-h),v.transform(...n),e.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:l,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,h),t.save()),Sc(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=pt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=ge.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,r,o){if(x(this,ho,Zy).call(this),If(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],h=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=h;const[d,p]=ge.singularValueDecompose2dScale(pt(this.ctx)),{viewportScale:g}=this,y=Math.ceil(l*this.outputScaleX*g),v=Math.ceil(h*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(y,v);const{canvas:A,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(e,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(d,0,0,-p,0,h*p),If(this.ctx)}else If(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],l,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new zE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),x(this,ho,ev).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=wP(e)),r.compiled)){r.compiled(n);return}const o=this._createMaskCanvas(e),l=o.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,o.offsetX,o.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const h=this.ctx;h.save();const d=pt(h);h.transform(t,n,r,o,0,0);const p=this._createMaskCanvas(e);h.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(let g=0,y=l.length;g<y;g+=2){const v=ge.transform(d,[t,n,r,o,l[g],l[g+1]]),[A,E]=ge.applyTransform([0,0],v);h.drawImage(p.canvas,A,E)}h.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:l,width:h,height:d,transform:p}=o,g=this.cachedCanvases.getCanvas("maskCanvas",h,d),y=g.context;y.save();const v=this.getObject(l,o);$E(y,v),y.globalCompositeOperation="source-in",y.fillStyle=r?n.getPattern(y,this,Ti(t),vn.FILL):n,y.fillRect(0,0,h,d),y.restore(),t.save(),t.transform(...p),t.scale(1,-1),Mf(t,g.canvas,0,0,h,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ne("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Ne("Dependent image isn't ready yet");return}const l=o.width,h=o.height,d=[];for(let p=0,g=r.length;p<g;p+=2)d.push({transform:[t,0,0,n,r[p],r[p+1]],x:0,y:0,w:l,h});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!dn){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/t,-1/n);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const d=this.cachedCanvases.getCanvas("inlineImage",t,n).context;UE(d,e),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,Ti(r));r.imageSmoothingEnabled=VE(pt(r),e.interpolate),Mf(r,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,l=e.height,d=this.cachedCanvases.getCanvas("inlineImage",o,l).context;UE(d,e),r=this.applyTransferMapsToCanvas(d)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),Mf(n,r,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===WE?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=pt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:o}=this.ctx.getTransform();let l,h;if(n===0&&r===0){const d=Math.abs(t),p=Math.abs(o);if(d===p)if(e===0)l=h=1/d;else{const g=d*e;l=h=g<1?1/g:1}else if(e===0)l=1/d,h=1/p;else{const g=d*e,y=p*e;l=g<1?1/g:1,h=y<1?1/y:1}}else{const d=Math.abs(t*o-n*r),p=Math.hypot(t,n),g=Math.hypot(r,o);if(e===0)l=g/d,h=p/d;else{const y=e*d;l=g>y?g/y:1,h=p>y?p/y:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,o]=this.getScaleForStroking();if(t.lineWidth=n||1,r===1&&o===1){t.stroke();return}const l=t.getLineDash();if(e&&t.save(),t.scale(r,o),l.length>0){const h=Math.max(r,o);t.setLineDash(l.map(d=>d/h)),t.lineDashOffset/=h}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ho=new WeakSet,Zy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ev=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let xl=pw;for(const a in _s)xl.prototype[a]!==void 0&&(xl.prototype[_s[a]]=xl.prototype[a]);var ph,gh;class nr{static get workerPort(){return c(this,ph)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,ph,e)}static get workerSrc(){return c(this,gh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,gh,e)}}ph=new WeakMap,gh=new WeakMap,T(nr,ph,null),T(nr,gh,"");const Ff={UNKNOWN:0,DATA:1,ERROR:2},xt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Bn(a){switch(a instanceof Error||typeof a=="object"&&a!==null||rt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Va(a.message);case"MissingPDFException":return new $a(a.message);case"PasswordException":return new xy(a.message,a.code);case"UnexpectedResponseException":return new eg(a.message,a.status);case"UnknownErrorException":return new Cy(a.message,a.details);default:return new Cy(a.message,a.toString())}}var $l,fs,Mb,Ib,Fb,Yf;class Lc{constructor(e,t,n){T(this,fs);T(this,$l,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",x(this,fs,Mb).bind(this),{signal:c(this,$l).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,r){const o=this.streamId++,l=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:h,action:e,streamId:o,data:t,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,d.postMessage({sourceName:l,targetName:h,stream:xt.PULL,streamId:o,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Nt(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:h,stream:xt.CANCEL,streamId:o,reason:Bn(p)}),g.promise}},n)}destroy(){var e;(e=c(this,$l))==null||e.abort(),b(this,$l,null)}}$l=new WeakMap,fs=new WeakSet,Mb=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){x(this,fs,Fb).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Ff.DATA)r.resolve(e.data);else if(e.callback===Ff.ERROR)r.reject(Bn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,o=this.comObj;new Promise(function(l){l(t(e.data))}).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:Ff.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:Ff.ERROR,callbackId:e.callbackId,reason:Bn(l)})});return}if(e.streamId){x(this,fs,Ib).call(this,e);return}t(e.data)},Ib=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this,h=this.actionHandler[e.action],d={enqueue(p,g=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:xt.ENQUEUE,streamId:t,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:xt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(p){Nt(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:xt.ERROR,streamId:t,reason:Bn(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,new Promise(function(p){p(h(e.data,d))}).then(function(){o.postMessage({sourceName:n,targetName:r,stream:xt.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:xt.START_COMPLETE,streamId:t,reason:Bn(p)})})},Fb=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this.streamControllers[t],h=this.streamSinks[t];switch(e.stream){case xt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Bn(e.reason));break;case xt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Bn(e.reason));break;case xt.PULL:if(!h){o.postMessage({sourceName:n,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,success:!0});break}h.desiredSize<=0&&e.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=e.desiredSize,new Promise(function(d){var p;d((p=h.onPull)==null?void 0:p.call(h))}).then(function(){o.postMessage({sourceName:n,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:n,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,reason:Bn(d)})});break;case xt.ENQUEUE:if(Nt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case xt.CLOSE:if(Nt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),x(this,fs,Yf).call(this,l,t);break;case xt.ERROR:Nt(l,"error should have stream controller"),l.controller.error(Bn(e.reason)),x(this,fs,Yf).call(this,l,t);break;case xt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Bn(e.reason)),x(this,fs,Yf).call(this,l,t);break;case xt.CANCEL:if(!h)break;new Promise(function(d){var p;d((p=h.onCancel)==null?void 0:p.call(h,Bn(e.reason)))}).then(function(){o.postMessage({sourceName:n,targetName:r,stream:xt.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:n,targetName:r,stream:xt.CANCEL_COMPLETE,streamId:t,reason:Bn(d)})}),h.sinkCapability.reject(Bn(e.reason)),h.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Yf=async function(e,t){var n,r,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var sa,mh;class bP{constructor({parsedData:e,rawData:t}){T(this,sa);T(this,mh);b(this,sa,e),b(this,mh,t)}getRaw(){return c(this,mh)}get(e){return c(this,sa).get(e)??null}getAll(){return ew(c(this,sa))}has(e){return c(this,sa).has(e)}}sa=new WeakMap,mh=new WeakMap;const Al=Symbol("INTERNAL");var yh,vh,wh,Vl;class _P{constructor(e,{name:t,intent:n,usage:r,rbGroups:o}){T(this,yh,!1);T(this,vh,!1);T(this,wh,!1);T(this,Vl,!0);b(this,yh,!!(e&Kn.DISPLAY)),b(this,vh,!!(e&Kn.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(c(this,wh))return c(this,Vl);if(!c(this,Vl))return!1;const{print:e,view:t}=this.usage;return c(this,yh)?(t==null?void 0:t.viewState)!=="OFF":c(this,vh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Al&&rt("Internal method `_setVisible` called."),b(this,wh,n),b(this,Vl,t)}}yh=new WeakMap,vh=new WeakMap,wh=new WeakMap,Vl=new WeakMap;var Wr,Ke,Wl,Gl,Ah,tv;class xP{constructor(e,t=Kn.DISPLAY){T(this,Ah);T(this,Wr,null);T(this,Ke,new Map);T(this,Wl,null);T(this,Gl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Gl,e.order);for(const n of e.groups)c(this,Ke).set(n.id,new _P(t,n));if(e.baseState==="OFF")for(const n of c(this,Ke).values())n._setVisible(Al,!1);for(const n of e.on)c(this,Ke).get(n)._setVisible(Al,!0);for(const n of e.off)c(this,Ke).get(n)._setVisible(Al,!1);b(this,Wl,this.getHash())}}isVisible(e){if(c(this,Ke).size===0)return!0;if(!e)return Zp("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Ke).has(e.id)?c(this,Ke).get(e.id).visible:(Ne(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return x(this,Ah,tv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Ke).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(c(this,Ke).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Ke).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(!c(this,Ke).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Ke).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(!c(this,Ke).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Ke).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(c(this,Ke).get(t).visible)return!1}return!0}return Ne(`Unknown optional content policy ${e.policy}.`),!0}return Ne(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const r=c(this,Ke).get(e);if(!r){Ne(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const l of r.rbGroups)for(const h of l)h!==e&&((o=c(this,Ke).get(h))==null||o._setVisible(Al,!1,!0));r._setVisible(Al,!!t,!0),b(this,Wr,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=c(this,Ke).get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!o.visible,t);break}}b(this,Wr,null)}get hasInitialVisibility(){return c(this,Wl)===null||this.getHash()===c(this,Wl)}getOrder(){return c(this,Ke).size?c(this,Gl)?c(this,Gl).slice():[...c(this,Ke).keys()]:null}getGroups(){return c(this,Ke).size>0?ew(c(this,Ke)):null}getGroup(e){return c(this,Ke).get(e)||null}getHash(){if(c(this,Wr)!==null)return c(this,Wr);const e=new Eb;for(const[t,n]of c(this,Ke))e.update(`${t}:${n.visible}`);return b(this,Wr,e.hexdigest())}}Wr=new WeakMap,Ke=new WeakMap,Wl=new WeakMap,Gl=new WeakMap,Ah=new WeakSet,tv=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const o=e[r];let l;if(Array.isArray(o))l=x(this,Ah,tv).call(this,o);else if(c(this,Ke).has(o))l=c(this,Ke).get(o).visible;else return Ne(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class CP{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Nt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:h}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=h,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),e.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Nt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Nt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new kP(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new TP(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class kP{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=sw(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class TP{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function RP(a){let e=!0,t=n("filename\\*","i").exec(a);if(t){t=t[1];let g=h(t);return g=unescape(g),g=d(g),g=p(g),o(g)}if(t=l(a),t){const g=p(t);return o(g)}if(t=n("filename","i").exec(a),t){t=t[1];let g=h(t);return g=p(g),o(g)}function n(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(g,{fatal:!0}),A=tg(y);y=v.decode(A),e=!1}catch{}}return y}function o(g){return e&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),e&&(g=r("iso-8859-1",g))),g}function l(g){const y=[];let v;const A=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=A.exec(g))!==null;){let[,S,k,C]=v;if(S=parseInt(S,10),S in y){if(S===0)break;continue}y[S]=[k,C]}const E=[];for(let S=0;S<y.length&&S in y;++S){let[k,C]=y[S];C=h(C),k&&(C=unescape(C),S===0&&(C=d(C))),E.push(C)}return E.join("")}function h(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let v=0;v<y.length;++v){const A=y[v].indexOf('"');A!==-1&&(y[v]=y[v].slice(0,A),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function d(g){const y=g.indexOf("'");if(y===-1)return g;const v=g.slice(0,y),E=g.slice(y+1).replace(/^[^']*'/,"");return r(v,E)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,A,E){if(A==="q"||A==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,k){return String.fromCharCode(parseInt(k,16))}),r(v,E);try{E=atob(E)}catch{}return r(v,E)})}return""}function lw(a,e){const t=new Headers;if(!a||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function uw({responseHeaders:a,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||n||!e||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function cw(a){const e=a.get("Content-Disposition");if(e){let t=RP(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(sw(t))return t}return null}function ig(a,e){return a===404||a===0&&e.startsWith("file:")?new $a('Missing PDF "'+e+'".'):new eg(`Unexpected server response (${a}) while retrieving PDF "${e}".`,a)}function Nb(a){return a===200||a===206}function Db(a,e,t){return{method:"GET",headers:a,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Ob(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Ne(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class GE{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=lw(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Nt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PP(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new LP(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class PP{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,Db(n,this._withCredentials,this._abortController)).then(o=>{if(!Nb(o.status))throw ig(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:h,suggestedLength:d}=uw({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=cw(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Va("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ob(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class LP{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=r.url;fetch(l,Db(o,this._withCredentials,this._abortController)).then(h=>{if(!Nb(h.status))throw ig(h.status,l);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:Ob(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const fy=200,py=206;function MP(a){const e=a.response;return typeof e!="string"?e:tg(e).buffer}class IP{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=lw(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const o in n)r[o]=n[o];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=py):r.expectedStatus=fy,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){var d,p,g;const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(d=n.onError)==null||d.call(n,r.status);return}const o=r.status||fy;if(!(o===fy&&n.expectedStatus===py)&&o!==n.expectedStatus){(p=n.onError)==null||p.call(n,r.status);return}const h=MP(r);if(o===py){const y=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);n.onDone({begin:parseInt(v[1],10),chunk:h})}else h?n.onDone({begin:0,chunk:h}):(g=n.onError)==null||g.call(n,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class FP{constructor(e){this._source=e,this._manager=new IP(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Nt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new NP(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new DP(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class NP{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(l=>{const[h,...d]=l.split(": ");return[h,d.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=uw({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=cw(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ig(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class DP{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=ig(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const OP=/^[a-z][a-z0-9\-+.]+:/i;function jP(a){if(OP.test(a))return new URL(a);const e=uo.get("url");return new URL(e.pathToFileURL(a))}function jb(a,e,t){return a.protocol==="http:"?uo.get("http").request(a,{headers:e},t):uo.get("https").request(a,{headers:e},t)}class HP{constructor(e){this.source=e,this.url=jP(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=lw(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Nt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new UP(this):new BP(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new $P(this,e,t):new zP(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Hb{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Va("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Bb{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class BP extends Hb{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=r=>{if(r.statusCode===404){const d=new $a(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:l,suggestedLength:h}=uw({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=h||this._contentLength,this._filename=cw(o)};this._request=jb(this._url,t,n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class zP extends Bb{constructor(e,t,n){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${t}-${n-1}`;const o=l=>{if(l.statusCode===404){const h=new $a(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(l)};this._request=jb(this._url,r,o),this._request.on("error",l=>{this._storedError=l}),this._request.end()}}class UP extends Hb{constructor(e){super(e);const t=uo.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new $a(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class $P extends Bb{constructor(e,t,n){super(e);const r=uo.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}}const VP=1e5,Tn=30,WP=.8;var aS,Gr,Ln,Eh,Sh,ia,ji,bh,_h,ra,ql,Xl,qr,Kl,xh,Yl,oa,Ch,kh,vt,aa,la,Th,Xr,Ql,ar,zb,Ub,sv,Jn,Qf,iv,$b,Vb;let nv=(vt=class{constructor({textContentSource:e,container:t,viewport:n}){T(this,ar);T(this,Gr,Promise.withResolvers());T(this,Ln,null);T(this,Eh,!1);T(this,Sh,!!((aS=globalThis.FontInspector)!=null&&aS.enabled));T(this,ia,null);T(this,ji,null);T(this,bh,0);T(this,_h,0);T(this,ra,null);T(this,ql,null);T(this,Xl,0);T(this,qr,0);T(this,Kl,Object.create(null));T(this,xh,[]);T(this,Yl,null);T(this,oa,[]);T(this,Ch,new WeakMap);T(this,kh,null);var d;if(e instanceof ReadableStream)b(this,Yl,e);else if(typeof e=="object")b(this,Yl,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,Ln,b(this,ql,t)),b(this,qr,n.scale*(globalThis.devicePixelRatio||1)),b(this,Xl,n.rotation),b(this,ji,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:l,pageY:h}=n.rawDims;b(this,kh,[1,0,0,-1,-l,h+o]),b(this,_h,r),b(this,bh,o),x(d=vt,Jn,$b).call(d),Da(t,n),c(this,Gr).promise.finally(()=>{c(vt,Ql).delete(this),b(this,ji,null),b(this,Kl,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=wn.platform;return ze(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{c(this,ra).read().then(({value:t,done:n})=>{if(n){c(this,Gr).resolve();return}c(this,ia)??b(this,ia,t.lang),Object.assign(c(this,Kl),t.styles),x(this,ar,zb).call(this,t.items),e()},c(this,Gr).reject)};return b(this,ra,c(this,Yl).getReader()),c(vt,Ql).add(this),e(),c(this,Gr).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==c(this,Xl)&&(t==null||t(),b(this,Xl,r),Da(c(this,ql),{rotation:r})),n!==c(this,qr)){t==null||t(),b(this,qr,n);const l={div:null,properties:null,ctx:x(o=vt,Jn,Qf).call(o,c(this,ia))};for(const h of c(this,oa))l.properties=c(this,Ch).get(h),l.div=h,x(this,ar,sv).call(this,l)}}cancel(){var t;const e=new Va("TextLayer task cancelled.");(t=c(this,ra))==null||t.cancel(e).catch(()=>{}),b(this,ra,null),c(this,Gr).reject(e)}get textDivs(){return c(this,oa)}get textContentItemsStr(){return c(this,xh)}static cleanup(){if(!(c(this,Ql).size>0)){c(this,aa).clear();for(const{canvas:e}of c(this,la).values())e.remove();c(this,la).clear()}}},Gr=new WeakMap,Ln=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,ia=new WeakMap,ji=new WeakMap,bh=new WeakMap,_h=new WeakMap,ra=new WeakMap,ql=new WeakMap,Xl=new WeakMap,qr=new WeakMap,Kl=new WeakMap,xh=new WeakMap,Yl=new WeakMap,oa=new WeakMap,Ch=new WeakMap,kh=new WeakMap,aa=new WeakMap,la=new WeakMap,Th=new WeakMap,Xr=new WeakMap,Ql=new WeakMap,ar=new WeakSet,zb=function(e){var r,o;if(c(this,Eh))return;(o=c(this,ji)).ctx??(o.ctx=x(r=vt,Jn,Qf).call(r,c(this,ia)));const t=c(this,oa),n=c(this,xh);for(const l of e){if(t.length>VP){Ne("Ignoring additional textDivs for performance reasons."),b(this,Eh,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const h=c(this,Ln);b(this,Ln,document.createElement("span")),c(this,Ln).classList.add("markedContent"),l.id!==null&&c(this,Ln).setAttribute("id",`${l.id}`),h.append(c(this,Ln))}else l.type==="endMarkedContent"&&b(this,Ln,c(this,Ln).parentNode);continue}n.push(l.str),x(this,ar,Ub).call(this,l)}},Ub=function(e){var S;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,oa).push(t);const r=ge.transform(c(this,kh),e.transform);let o=Math.atan2(r[1],r[0]);const l=c(this,Kl)[e.fontName];l.vertical&&(o+=Math.PI/2);let h=c(this,Sh)&&l.fontSubstitution||l.fontFamily;h=vt.fontFamilyMap.get(h)||h;const d=Math.hypot(r[2],r[3]),p=d*x(S=vt,Jn,Vb).call(S,h,c(this,ia));let g,y;o===0?(g=r[4],y=r[5]-p):(g=r[4]+p*Math.sin(o),y=r[5]-p*Math.cos(o));const v="calc(var(--scale-factor)*",A=t.style;c(this,Ln)===c(this,ql)?(A.left=`${(100*g/c(this,_h)).toFixed(2)}%`,A.top=`${(100*y/c(this,bh)).toFixed(2)}%`):(A.left=`${v}${g.toFixed(2)}px)`,A.top=`${v}${y.toFixed(2)}px)`),A.fontSize=`${v}${(c(vt,Xr)*d).toFixed(2)}px)`,A.fontFamily=h,n.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Sh)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let E=!1;if(e.str.length>1)E=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const k=Math.abs(e.transform[0]),C=Math.abs(e.transform[3]);k!==C&&Math.max(k,C)/Math.min(k,C)>1.5&&(E=!0)}if(E&&(n.canvasWidth=l.vertical?e.height:e.width),c(this,Ch).set(t,n),c(this,ji).div=t,c(this,ji).properties=n,x(this,ar,sv).call(this,c(this,ji)),n.hasText&&c(this,Ln).append(t),n.hasEOL){const k=document.createElement("br");k.setAttribute("role","presentation"),c(this,Ln).append(k)}},sv=function(e){var h;const{div:t,properties:n,ctx:r}=e,{style:o}=t;let l="";if(c(vt,Xr)>1&&(l=`scale(${1/c(vt,Xr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=o,{canvasWidth:p,fontSize:g}=n;x(h=vt,Jn,iv).call(h,r,g*c(this,qr),d);const{width:y}=r.measureText(t.textContent);y>0&&(l=`scaleX(${p*c(this,qr)/y}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},Jn=new WeakSet,Qf=function(e=null){let t=c(this,la).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,la).set(e,t),c(this,Th).set(t,{size:0,family:""})}return t},iv=function(e,t,n){const r=c(this,Th).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},$b=function(){if(c(this,Xr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,Xr,e.getBoundingClientRect().height),e.remove()},Vb=function(e,t){const n=c(this,aa).get(e);if(n)return n;const r=x(this,Jn,Qf).call(this,t);r.canvas.width=r.canvas.height=Tn,x(this,Jn,iv).call(this,r,Tn,e);const o=r.measureText("");let l=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);if(l){const g=l/(l+h);return c(this,aa).set(e,g),r.canvas.width=r.canvas.height=0,g}r.strokeStyle="red",r.clearRect(0,0,Tn,Tn),r.strokeText("g",0,0);let d=r.getImageData(0,0,Tn,Tn).data;h=0;for(let g=d.length-1-3;g>=0;g-=4)if(d[g]>0){h=Math.ceil(g/4/Tn);break}r.clearRect(0,0,Tn,Tn),r.strokeText("A",0,Tn),d=r.getImageData(0,0,Tn,Tn).data,l=0;for(let g=0,y=d.length;g<y;g+=4)if(d[g]>0){l=Tn-Math.floor(g/4/Tn);break}r.canvas.width=r.canvas.height=0;const p=l?l/(l+h):WP;return c(this,aa).set(e,p),p},T(vt,Jn),T(vt,aa,new Map),T(vt,la,new Map),T(vt,Th,new WeakMap),T(vt,Xr,null),T(vt,Ql,new Set),vt);class Gc{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(o){var d;if(!o)return;let l=null;const h=o.name;if(h==="#text")l=o.value;else if(Gc.shouldBuildText(h))(d=o==null?void 0:o.attributes)!=null&&d.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const p of o.children)r(p)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const GP=65536,qP=100,XP=5e3,KP=dn?aP:iP,YP=dn?lP:Cb,QP=dn?oP:rP,JP=dn?uP:Pb;function ZP(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const e=new rv,{docId:t}=e,n=a.url?eL(a.url):null,r=a.data?tL(a.data):null,o=a.httpHeaders||null,l=a.withCredentials===!0,h=a.password??null,d=a.range instanceof Wb?a.range:null,p=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:GP;let g=a.worker instanceof Cl?a.worker:null;const y=a.verbosity,v=typeof a.docBaseUrl=="string"&&!sg(a.docBaseUrl)?a.docBaseUrl:null,A=typeof a.cMapUrl=="string"?a.cMapUrl:null,E=a.cMapPacked!==!1,S=a.CMapReaderFactory||YP,k=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,C=a.StandardFontDataFactory||JP,R=a.stopAtErrors!==!0,L=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,I=a.isEvalSupported!==!1,j=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!dn,O=typeof a.isChrome=="boolean"?a.isChrome:!wn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),z=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,W=typeof a.disableFontFace=="boolean"?a.disableFontFace:dn,X=a.fontExtraProperties===!0,te=a.enableXfa===!0,se=a.ownerDocument||globalThis.document,_e=a.disableRange===!0,pe=a.disableStream===!0,de=a.disableAutoFetch===!0,Ae=a.pdfBug===!0,me=a.CanvasFactory||KP,Z=a.FilterFactory||QP,G=a.enableHWA===!0,ae=d?d.length:a.length??NaN,ee=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!dn&&!W,D=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:S===Cb&&C===Pb&&A&&k&&_c(A,document.baseURI)&&_c(k,document.baseURI);a.canvasFactory&&FE("`canvasFactory`-instance option, please use `CanvasFactory` instead."),a.filterFactory&&FE("`filterFactory`-instance option, please use `FilterFactory` instead.");const q=null;NR(y);const ue={canvasFactory:new me({ownerDocument:se,enableHWA:G}),filterFactory:new Z({docId:t,ownerDocument:se}),cMapReaderFactory:D?null:new S({baseUrl:A,isCompressed:E}),standardFontDataFactory:D?null:new C({baseUrl:k})};if(!g){const ve={verbosity:y,port:nr.workerPort};g=ve.port?Cl.fromPort(ve):new Cl(ve),e._worker=g}const Ee={docId:t,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:de,rangeChunkSize:p,length:ae,docBaseUrl:v,enableXfa:te,evaluatorOptions:{maxImageSize:L,disableFontFace:W,ignoreErrors:R,isEvalSupported:I,isOffscreenCanvasSupported:j,isChrome:O,canvasMaxAreaInBytes:z,fontExtraProperties:X,useSystemFonts:ee,cMapUrl:D?A:null,standardFontDataUrl:D?k:null}},Te={disableFontFace:W,fontExtraProperties:X,ownerDocument:se,pdfBug:Ae,styleElement:q,loadingParams:{disableAutoFetch:de,enableXfa:te}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ve=g.messageHandler.sendWithPromise("GetDocRequest",Ee,r?[r.buffer]:null);let ye;if(d)ye=new CP(d,{disableRange:_e,disableStream:pe});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Ie;dn?Ie=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&_c(n)?GE:HP:Ie=_c(n)?GE:FP,ye=new Ie({url:n,length:ae,httpHeaders:o,withCredentials:l,rangeChunkSize:p,disableRange:_e,disableStream:pe})}return ve.then(Ie=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const He=new Lc(t,Ie,g.port),De=new rL(He,e,ye,Te,ue);e._transport=De,He.send("Ready",null)})}).catch(e._capability.reject),e}function eL(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(dn&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function tL(a){if(dn&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return tg(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function qE(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var Np;const Dp=class Dp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${gn(Dp,Np)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Np=new WeakMap,T(Dp,Np,0);let rv=Dp,Wb=class{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){rt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class nL{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Kr,Hi,hs,El,Jf;class sL{constructor(e,t,n,r=!1){T(this,hs);T(this,Kr,null);T(this,Hi,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new IE:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new Gb,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new fd({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=Ir.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:y=!1}){var I,j;(I=this._stats)==null||I.time("Overall");const v=this._transport.getRenderingIntent(n,r,g,y),{renderingIntent:A,cacheKey:E}=v;b(this,Hi,!1),x(this,hs,Jf).call(this),h||(h=this._transport.getOptionalContentConfig(A));let S=this._intentStates.get(E);S||(S=Object.create(null),this._intentStates.set(E,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const k=!!(A&Kn.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(j=this._stats)==null||j.time("Page Request"),this._pumpOperatorList(v));const C=O=>{var z;S.renderTasks.delete(R),(this._maybeCleanupAfterRender||k)&&b(this,Hi,!0),x(this,hs,El).call(this,!k),O?(R.capability.reject(O),this._abortOperatorList({intentState:S,reason:O instanceof Error?O:new Error(O)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(z=globalThis.Stats)!=null&&z.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new av({callback:C,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:p});(S.renderTasks||(S.renderTasks=new Set)).add(R);const L=R.task;return Promise.all([S.displayReadyCapability.promise,h]).then(([O,z])=>{var W;if(this.destroyed){C();return}if((W=this._stats)==null||W.time("Rendering"),!(z.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:O,optionalContentConfig:z}),R.operatorListChanged()}).catch(C),L}getOperatorList({intent:e="display",annotationMode:t=Ir.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var p;function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,n,r,!0);let h=this._intentStates.get(l.cacheKey);h||(h=Object.create(null),this._intentStates.set(l.cacheKey,h));let d;return h.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(d),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(l)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Gc.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function o(){l.read().then(function({value:d,done:p}){if(p){n(h);return}h.lang??(h.lang=d.lang),Object.assign(h.styles,d.styles),h.items.push(...d.items),o()},r)}const l=t.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),b(this,Hi,!1),x(this,hs,Jf).call(this),Promise.all(e)}cleanup(e=!1){b(this,Hi,!0);const t=x(this,hs,El).call(this,!1);return e&&t&&this._stats&&(this._stats=new IE),t}_startRenderPage(e,t){var r,o;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&x(this,hs,El).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:r},l).getReader(),p=this._intentStates.get(t);p.streamReader=d;const g=()=>{d.read().then(({value:y,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),g())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();x(this,hs,El).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof nw){let r=qP;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Va(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Kr=new WeakMap,Hi=new WeakMap,hs=new WeakSet,El=function(e=!1){if(x(this,hs,Jf).call(this),!c(this,Hi)||this.destroyed)return!1;if(e)return b(this,Kr,setTimeout(()=>{b(this,Kr,null),x(this,hs,El).call(this,!1)},XP)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,Hi,!1),!0},Jf=function(){c(this,Kr)&&(clearTimeout(c(this,Kr)),b(this,Kr,null))};var Bi,Op;class iL{constructor(){T(this,Bi,new Map);T(this,Op,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};c(this,Op).then(()=>{for(const[r]of c(this,Bi))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Ne("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}c(this,Bi).set(t,r)}removeEventListener(e,t){const n=c(this,Bi).get(t);n==null||n(),c(this,Bi).delete(t)}terminate(){for(const[,e]of c(this,Bi))e==null||e();c(this,Bi).clear()}}Bi=new WeakMap,Op=new WeakMap;var jp,ua,ca,Jl,Zf,Zl,ep;const lt=class lt{constructor({name:e=null,port:t=null,verbosity:n=DR()}={}){T(this,Jl);var r;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=c(lt,ca))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(lt,ca)||b(lt,ca,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return dn?Promise.all([uo.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Lc("main","worker",e),this._messageHandler.on("ready",function(){}),x(this,Jl,Zf).call(this)}_initialize(){if(c(lt,ua)||c(lt,Zl,ep)){this._setupFakeWorker();return}let{workerSrc:e}=lt;try{lt._isSameOrigin(window.location.href,e)||(e=lt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Lc("main","worker",t),r=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),n.on("test",h=>{if(o.abort(),this.destroyed||!h){r();return}this._messageHandler=n,this._port=t,this._webWorker=t,x(this,Jl,Zf).call(this)}),n.on("ready",h=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const h=new Uint8Array;n.send("test",h,[h.buffer])};l();return}catch{Zp("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){c(lt,ua)||(Ne("Setting up fake worker."),b(lt,ua,!0)),lt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new iL;this._port=t;const n=`fake${gn(lt,jp)._++}`,r=new Lc(n+"_worker",n,t);e.setup(r,t),this._messageHandler=new Lc(n,n+"_worker",t),x(this,Jl,Zf).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(lt,ca))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=c(this,ca))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new lt(e)}static get workerSrc(){if(nr.workerSrc)return nr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ze(this,"_setupFakeWorkerGlobal",(async()=>c(this,Zl,ep)?c(this,Zl,ep):(await import(this.workerSrc)).WorkerMessageHandler)())}};jp=new WeakMap,ua=new WeakMap,ca=new WeakMap,Jl=new WeakSet,Zf=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Zl=new WeakSet,ep=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},T(lt,Zl),T(lt,jp,0),T(lt,ua,!1),T(lt,ca),dn&&(b(lt,ua,!0),nr.workerSrc||(nr.workerSrc="./pdf.worker.mjs")),lt._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},lt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Cl=lt;var zi,oi,eu,tu,ai,ha,Mc;class rL{constructor(e,t,n,r,o){T(this,ha);T(this,zi,new Map);T(this,oi,new Map);T(this,eu,new Map);T(this,tu,new Map);T(this,ai,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Gb,this.fontLoader=new nP({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ze(this,"annotationStorage",new ow)}getRenderingIntent(e,t=Ir.ENABLE,n=null,r=!1,o=!1){let l=Kn.DISPLAY,h=qy;switch(e){case"any":l=Kn.ANY;break;case"display":break;case"print":l=Kn.PRINT;break;default:Ne(`getRenderingIntent - invalid intent: ${e}`)}const d=l&Kn.PRINT&&n instanceof bb?n:this.annotationStorage;switch(t){case Ir.DISABLE:l+=Kn.ANNOTATIONS_DISABLE;break;case Ir.ENABLE:break;case Ir.ENABLE_FORMS:l+=Kn.ANNOTATIONS_FORMS;break;case Ir.ENABLE_STORAGE:l+=Kn.ANNOTATIONS_STORAGE,h=d.serializable;break;default:Ne(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=Kn.IS_EDITING),o&&(l+=Kn.OPLIST);const{ids:p,hash:g}=d.modifiedIds,y=[l,h.hash,g];return{renderingIntent:l,cacheKey:y.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=c(this,ai))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,oi).values())e.push(r._destroy());c(this,oi).clear(),c(this,eu).clear(),c(this,tu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,zi).clear(),this.filterFactory.destroy(),nv.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Va("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Nt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}Nt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((h=t.onProgress)==null||h.call(t,this._lastProgress)),this._fullReader.onProgress=d=>{var p;(p=t.onProgress)==null||p.call(t,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,r)=>{Nt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:h}){if(h){r.close();return}Nt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new nL(n,this))}),e.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new xy(n.message,n.code);break;case"InvalidPDFException":r=new KS(n.message);break;case"MissingPDFException":r=new $a(n.message);break;case"UnexpectedResponseException":r=new eg(n.message,n.status);break;case"UnknownErrorException":r=new Cy(n.message,n.details);break;default:rt("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",n=>{if(b(this,ai,Promise.withResolvers()),t.onPassword){const r=o=>{o instanceof Error?c(this,ai).reject(o):c(this,ai).resolve({password:o})};try{t.onPassword(r,n.code)}catch(o){c(this,ai).reject(o)}}else c(this,ai).reject(new xy(n.message,n.code));return c(this,ai).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;c(this,oi).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:d,pdfBug:p}=this._params;if("error"in o){const A=o.error;Ne(`Error during font loading: ${A}`),this.commonObjs.resolve(n,A);break}const g=p&&((l=globalThis.FontInspector)!=null&&l.enabled)?(A,E)=>globalThis.FontInspector.fontAdded(A,E):null,y=new sP(o,{disableFontFace:h,inspectFont:g});this.fontLoader.bind(y).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d&&y.data&&(y.data=null),this.commonObjs.resolve(n,y)});break;case"CopyLocalImage":const{imageRef:v}=o;Nt(v,"The imageRef must be defined.");for(const A of c(this,oi).values())for(const[,E]of A.objs)if((E==null?void 0:E.ref)===v)return E.dataLen?(this.commonObjs.resolve(n,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,o,l])=>{var d;if(this.destroyed)return;const h=c(this,oi).get(r);if(!h.objs.has(n)){if(h._intentStates.size===0){(d=l==null?void 0:l.bitmap)==null||d.close();return}switch(o){case"Image":h.objs.resolve(n,l),(l==null?void 0:l.dataLen)>LR&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ne("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=c(this,eu).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&c(this,tu).set(o.refStr,e);const l=new sL(t,o,this,this._params.pdfBug);return c(this,oi).set(t,l),l});return c(this,eu).set(t,r),r}getPageIndex(e){return qE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return x(this,ha,Mc).call(this,"GetFieldObjects")}hasJSActions(){return x(this,ha,Mc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return x(this,ha,Mc).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return x(this,ha,Mc).call(this,"GetOptionalContentConfig").then(t=>new xP(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,zi).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,l;return{info:r[0],metadata:r[1]?new bP(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return c(this,zi).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,oi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,zi).clear(),this.filterFactory.destroy(!0),nv.cleanup()}}cachedPageNumber(e){if(!qE(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,tu).get(t)??null}}zi=new WeakMap,oi=new WeakMap,eu=new WeakMap,tu=new WeakMap,ai=new WeakMap,ha=new WeakSet,Mc=function(e,t=null){const n=c(this,zi).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return c(this,zi).set(e,r),r};const Nf=Symbol("INITIAL_DATA");var Ps,Rh,ov;class Gb{constructor(){T(this,Rh);T(this,Ps,Object.create(null))}get(e,t=null){if(t){const r=x(this,Rh,ov).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=c(this,Ps)[e];if(!n||n.data===Nf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=c(this,Ps)[e];return!!t&&t.data!==Nf}resolve(e,t=null){const n=x(this,Rh,ov).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in c(this,Ps)){const{data:n}=c(this,Ps)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}b(this,Ps,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Ps)){const{data:t}=c(this,Ps)[e];t!==Nf&&(yield[e,t])}}}Ps=new WeakMap,Rh=new WeakSet,ov=function(e){var t;return(t=c(this,Ps))[e]||(t[e]={...Promise.withResolvers(),data:Nf})};var Yr;class oL{constructor(e){T(this,Yr,null);b(this,Yr,e),this.onContinue=null}get promise(){return c(this,Yr).capability.promise}cancel(e=0){c(this,Yr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,Yr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,Yr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Yr=new WeakMap;var Qr,da;const Do=class Do{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:h,canvasFactory:d,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:v=null}){T(this,Qr,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=p,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new oL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var h,d;if(this.cancelled)return;if(this._canvas){if(c(Do,da).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(Do,da).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:o,background:l}=this.params;this.gfx=new xl(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),c(this,Qr)&&(window.cancelAnimationFrame(c(this,Qr)),b(this,Qr,null)),c(Do,da).delete(this._canvas),this.callback(e||new nw(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,Qr,window.requestAnimationFrame(()=>{b(this,Qr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(Do,da).delete(this._canvas),this.callback())))}};Qr=new WeakMap,da=new WeakMap,T(Do,da,new WeakSet);let av=Do;const aL="4.8.69",lL="3634dab10";function XE(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function bc(a){return Math.max(0,Math.min(255,255*a))}class KE{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=bc(e),[e,e,e]}static G_HTML([e]){const t=XE(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(bc)}static RGB_HTML(e){return`#${e.map(XE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[bc(1-Math.min(1,e+r)),bc(1-Math.min(1,n+r)),bc(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,o=1-t,l=1-n,h=Math.min(r,o,l);return["CMYK",r,o,l,h]}}class uL{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){rt("Abstract method `_createSVG` called.")}}class hw extends uL{_createSVG(e){return document.createElementNS(Ri,e)}}class qb{static setupStorage(e,t,n,r,o){const l=r.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",h=>{r.setValue(t,{value:h.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",h=>{r.setValue(t,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",h=>{r.setValue(t,{value:h.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const h of n.children)h.attributes.value===l.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}e.addEventListener("input",h=>{const d=h.target.options,p=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:o}){const{attributes:l}=t,h=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,p]of Object.entries(l))if(p!=null)switch(d){case"class":p.length&&e.setAttribute(d,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!h||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,p)}h&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var y,v;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,o=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const h=o!=="richText",d=e.div;if(d.append(l),e.viewport){const A=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=A}h&&d.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);l.append(A),h&&Gc.shouldBuildText(r.name)&&p.push(A)}return{textDivs:p}}const g=[[r,-1,l]];for(;g.length>0;){const[A,E,S]=g.at(-1);if(E+1===A.children.length){g.pop();continue}const k=A.children[++g.at(-1)[1]];if(k===null)continue;const{name:C}=k;if(C==="#text"){const L=document.createTextNode(k.value);p.push(L),S.append(L);continue}const R=(y=k==null?void 0:k.attributes)!=null&&y.xmlns?document.createElementNS(k.attributes.xmlns,C):document.createElement(C);if(S.append(R),k.attributes&&this.setAttributes({html:R,element:k,storage:t,intent:o,linkService:n}),((v=k.children)==null?void 0:v.length)>0)g.push([k,-1,R]);else if(k.value){const L=document.createTextNode(k.value);h&&Gc.shouldBuildText(C)&&p.push(L),R.append(L)}}for(const A of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const gd=1e3,cL=9,ja=new WeakSet;function ir(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class hL{static create(e){switch(e.data.annotationType){case Lt.LINK:return new Xb(e);case Lt.TEXT:return new dL(e);case Lt.WIDGET:switch(e.data.fieldType){case"Tx":return new fL(e);case"Btn":return e.data.radioButton?new Qb(e):e.data.checkBox?new gL(e):new mL(e);case"Ch":return new yL(e);case"Sig":return new pL(e)}return new Wa(e);case Lt.POPUP:return new uv(e);case Lt.FREETEXT:return new n_(e);case Lt.LINE:return new wL(e);case Lt.SQUARE:return new AL(e);case Lt.CIRCLE:return new EL(e);case Lt.POLYLINE:return new s_(e);case Lt.CARET:return new bL(e);case Lt.INK:return new dw(e);case Lt.POLYGON:return new SL(e);case Lt.HIGHLIGHT:return new i_(e);case Lt.UNDERLINE:return new _L(e);case Lt.SQUIGGLY:return new xL(e);case Lt.STRIKEOUT:return new CL(e);case Lt.STAMP:return new r_(e);case Lt.FILEATTACHMENT:return new kL(e);default:return new bt(e)}}}var fa,nu,su,Ph,lv;const gw=class gw{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){T(this,Ph);T(this,fa,null);T(this,nu,!1);T(this,su,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return gw._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;c(this,fa)||b(this,fa,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&x(this,Ph,lv).call(this,t),(n=c(this,su))==null||n.popup.updateEdited(e)}resetEdited(){var e;c(this,fa)&&(x(this,Ph,lv).call(this,c(this,fa).rect),(e=c(this,su))==null||e.popup.resetEdited(),b(this,fa,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Wa||(o.tabIndex=gd);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof uv){const{rotation:S}=t;return!t.hasOwnCanvas&&S!==0&&this.setRotation(S,o),o}const{width:h,height:d}=ir(t.rect);if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const S=t.borderStyle.horizontalCornerRadius,k=t.borderStyle.verticalCornerRadius;if(S>0||k>0){const R=`calc(${S}px * var(--scale-factor)) / calc(${k}px * var(--scale-factor))`;l.borderRadius=R}else if(this instanceof Qb){const R=`calc(${h}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;l.borderRadius=R}switch(t.borderStyle.style){case Ec.SOLID:l.borderStyle="solid";break;case Ec.DASHED:l.borderStyle="dashed";break;case Ec.BEVELED:Ne("Unimplemented border style: beveled");break;case Ec.INSET:Ne("Unimplemented border style: inset");break;case Ec.UNDERLINE:l.borderBottomStyle="solid";break}const C=t.borderColor||null;C?(b(this,nu,!0),l.borderColor=ge.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):l.borderWidth=0}const p=ge.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:g,pageHeight:y,pageX:v,pageY:A}=r.rawDims;l.left=`${100*(p[0]-v)/g}%`,l.top=`${100*(p[1]-A)/y}%`;const{rotation:E}=t;return t.hasOwnCanvas||E===0?(l.width=`${100*h/g}%`,l.height=`${100*d/y}%`):this.setRotation(E,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:l}=ir(this.data.rect);let h,d;e%180===0?(h=100*o/n,d=100*l/r):(h=100*l/n,d=100*o/r),t.style.width=`${h}%`,t.style.height=`${d}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const o=r.detail[t],l=o[0],h=o.slice(1);r.target.style[n]=KE[`${l}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[n]:KE[`${l}_rgb`](h)})};return ze(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||n[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,o]of Object.entries(t)){const l=n[r];if(l){const h={detail:{[r]:o},target:e};l(h),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,o]=this.data.rect.map(S=>Math.fround(S));if(e.length===8){const[S,k,C,R]=e.subarray(2,6);if(r===S&&o===k&&t===C&&n===R)return}const{style:l}=this.container;let h;if(c(this,nu)){const{borderColor:S,borderWidth:k}=l;l.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${k}">`],this.container.classList.add("hasBorder")}const d=r-t,p=o-n,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const v=g.createElement("defs");y.append(v);const A=g.createElement("clipPath"),E=`clippath_${this.data.id}`;A.setAttribute("id",E),A.setAttribute("clipPathUnits","objectBoundingBox"),v.append(A);for(let S=2,k=e.length;S<k;S+=8){const C=e[S],R=e[S+1],L=e[S+2],I=e[S+3],j=g.createElement("rect"),O=(L-t)/d,z=(o-R)/p,W=(C-L)/d,X=(R-I)/p;j.setAttribute("x",O),j.setAttribute("y",z),j.setAttribute("width",W),j.setAttribute("height",X),A.append(j),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${z}" width="${W}" height="${X}"/>`)}c(this,nu)&&(h.push("</g></svg>')"),l.backgroundImage=h.join("")),this.container.append(y),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:e}=this,t=b(this,su,new uv({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){rt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:l,exportValues:h}of r){if(o===-1||l===t)continue;const d=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${l}"]`);if(p&&!ja.has(p)){Ne(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:p})}return n}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==t&&ja.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};fa=new WeakMap,nu=new WeakMap,su=new WeakMap,Ph=new WeakSet,lv=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:h,pageY:d}}}}=this;n==null||n.splice(0,4,...e);const{width:p,height:g}=ir(e);t.left=`${100*(e[0]-h)/o}%`,t.top=`${100*(l-e[3]+d)/l}%`,r===0?(t.width=`${100*p/o}%`,t.height=`${100*g/l}%`):this.setRotation(r)};let bt=gw;var Yn,Lo,Kb,Yb;class Xb extends bt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});T(this,Yn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(x(this,Yn,Kb).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(x(this,Yn,Yb).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&x(this,Yn,Lo).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),x(this,Yn,Lo).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=r.get(o);l&&(t[l]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),x(this,Yn,Lo).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),x(this,Yn,Lo).call(this),!this._fieldObjects){Ne('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var y;r==null||r();const{fields:o,refs:l,include:h}=n,d=[];if(o.length!==0||l.length!==0){const v=new Set(l);for(const A of o){const E=this._fieldObjects[A]||[];for(const{id:S}of E)v.add(S)}for(const A of Object.values(this._fieldObjects))for(const E of A)v.has(E.id)===h&&d.push(E)}else for(const v of Object.values(this._fieldObjects))d.push(...v);const p=this.annotationStorage,g=[];for(const v of d){const{id:A}=v;switch(g.push(A),v.type){case"text":{const S=v.defaultValue||"";p.setValue(A,{value:S});break}case"checkbox":case"radiobutton":{const S=v.defaultValue===v.exportValues;p.setValue(A,{value:S});break}case"combobox":case"listbox":{const S=v.defaultValue||"";p.setValue(A,{value:S});break}default:continue}const E=document.querySelector(`[data-element-id="${A}"]`);if(E){if(!ja.has(E)){Ne(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}Yn=new WeakSet,Lo=function(){this.container.setAttribute("data-internal-link","")},Kb=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,r),!1},x(this,Yn,Lo).call(this)},Yb=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),x(this,Yn,Lo).call(this)};class dL extends bt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Wa extends bt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return wn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,o){n.includes("mouse")?e.addEventListener(n,l=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var h;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}}))})}_setEventListeners(e,t,n,r){var o,l,h;for(const[d,p]of n)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,d,p,r),p==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ge.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||cL,o=e.style;let l;const h=2,d=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(p/(uy*r))||1,y=p/g;l=Math.min(r,d(y/uy))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);l=Math.min(r,d(p/uy))}o.fontSize=`calc(${l}px * var(--scale-factor))`,o.color=ge.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class fL extends Wa{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[r]:n})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let h=l.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&h.length>d&&(h=h.slice(0,d));let p=l.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:h,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??h,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",p??h),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ja.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=gd,this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",v=>{e.setValue(t,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),g.formattedValue=null}),n.addEventListener("resetform",v=>{const A=this.data.defaultFieldValue??"";n.value=g.userValue=A,g.formattedValue=null});let y=v=>{const{formattedValue:A}=g;A!=null&&(v.target.value=A),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",A=>{var S;if(g.focused)return;const{target:E}=A;g.userValue&&(E.value=g.userValue),g.lastCommittedValue=E.value,g.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(g.focused=!0)}),n.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const E={value(S){g.userValue=S.detail.value??"",e.setValue(t,{value:g.userValue.toString()}),S.target.value=g.userValue},formattedValue(S){const{formattedValue:k}=S.detail;g.formattedValue=k,k!=null&&S.target!==document.activeElement&&(S.target.value=k),e.setValue(t,{formattedValue:k})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var L;const{charLimit:k}=S.detail,{target:C}=S;if(k===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",k);let R=g.userValue;!R||R.length<=k||(R=R.slice(0,k),C.value=g.userValue=R,e.setValue(t,{value:R}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(E,A)}),n.addEventListener("keydown",A=>{var k;g.commitKey=1;let E=-1;if(A.key==="Escape"?E=0:A.key==="Enter"&&!this.data.multiLine?E=2:A.key==="Tab"&&(g.commitKey=3),E===-1)return;const{value:S}=A.target;g.lastCommittedValue!==S&&(g.lastCommittedValue=S,g.userValue=S,(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:E,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const v=y;y=null,n.addEventListener("blur",A=>{var S,k;if(!g.focused||!A.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(g.focused=!1);const{value:E}=A.target;g.userValue=E,g.lastCommittedValue!==E&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:g.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),v(A)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",A=>{var j;g.lastCommittedValue=null;const{data:E,target:S}=A,{value:k,selectionStart:C,selectionEnd:R}=S;let L=C,I=R;switch(A.inputType){case"deleteWordBackward":{const O=k.substring(0,C).match(/\w*[^\w]*$/);O&&(L-=O[0].length);break}case"deleteWordForward":{const O=k.substring(C).match(/^[^\w]*\w*/);O&&(I+=O[0].length);break}case"deleteContentBackward":C===R&&(L-=1);break;case"deleteContentForward":C===R&&(I+=1);break}A.preventDefault(),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,change:E||"",willCommit:!1,selStart:L,selEnd:I}})}),this._setEventListeners(n,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class pL extends Wa{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class gL extends Wa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ja.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=gd,o.addEventListener("change",l=>{const{name:h,checked:d}=l.target;for(const p of this._getElementsByName(h,n)){const g=d&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const h=t.defaultFieldValue||"Off";l.target.checked=h===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const h={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Qb extends Wa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(ja.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=gd,o.addEventListener("change",l=>{const{name:h,checked:d}=l.target;for(const p of this._getElementsByName(h,n))e.setValue(p.id,{value:!1});e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const h=t.defaultFieldValue;l.target.checked=h!=null&&h===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",h=>{const d={value:p=>{const g=l===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const v=g&&y.id===n;y.domElement&&(y.domElement.checked=v),e.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class mL extends Xb{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class yL extends Wa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");ja.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=gd;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,n.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),o=!1),r.append(y)}let l=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),l=()=>{g.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const h=g=>{const y=g?"value":"textContent",{options:v,multiple:A}=r;return A?Array.prototype.filter.call(v,E=>E.selected).map(E=>E[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let d=h(!1);const p=g=>{const y=g.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const y={value(v){l==null||l();const A=v.detail.value,E=new Set(Array.isArray(A)?A:[A]);for(const S of r.options)S.selected=E.has(S.value);e.setValue(t,{value:h(!0)}),d=h(!1)},multipleSelection(v){r.multiple=!0},remove(v){const A=r.options,E=v.detail.remove;A[E].selected=!1,r.remove(E),A.length>0&&Array.prototype.findIndex.call(A,k=>k.selected)===-1&&(A[0].selected=!0),e.setValue(t,{value:h(!0),items:p(v)}),d=h(!1)},clear(v){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),d=h(!1)},insert(v){const{index:A,displayValue:E,exportValue:S}=v.detail.insert,k=r.children[A],C=document.createElement("option");C.textContent=E,C.value=S,k?k.before(C):r.append(C),e.setValue(t,{value:h(!0),items:p(v)}),d=h(!1)},items(v){const{items:A}=v.detail;for(;r.length!==0;)r.remove(0);for(const E of A){const{displayValue:S,exportValue:k}=E,C=document.createElement("option");C.textContent=S,C.value=k,r.append(C)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:h(!0),items:p(v)}),d=h(!1)},indices(v){const A=new Set(v.detail.indices);for(const E of v.target.options)E.selected=A.has(E.index);e.setValue(t,{value:h(!0)}),d=h(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,g)}),r.addEventListener("input",g=>{var A;const y=h(!0),v=h(!1);e.setValue(t,{value:y}),g.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){e.setValue(t,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class uv extends bt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:bt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new vL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${tw}${n}`).join(",")),this.container}}var iu,Hp,Bp,ru,pa,yt,Ui,ou,Lh,Mh,au,$i,Ls,Vi,Ih,Wi,Fh,ga,ma,Je,tp,cv,Jb,Zb,e_,t_,np,sp,hv;class vL{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:h,parent:d,rect:p,parentRect:g,open:y}){T(this,Je);T(this,iu,x(this,Je,e_).bind(this));T(this,Hp,x(this,Je,hv).bind(this));T(this,Bp,x(this,Je,sp).bind(this));T(this,ru,x(this,Je,np).bind(this));T(this,pa,null);T(this,yt,null);T(this,Ui,null);T(this,ou,null);T(this,Lh,null);T(this,Mh,null);T(this,au,null);T(this,$i,!1);T(this,Ls,null);T(this,Vi,null);T(this,Ih,null);T(this,Wi,null);T(this,Fh,null);T(this,ga,null);T(this,ma,!1);var v;b(this,yt,e),b(this,Fh,r),b(this,Ui,l),b(this,Wi,h),b(this,Mh,d),b(this,pa,t),b(this,Ih,p),b(this,au,g),b(this,Lh,n),b(this,ou,iw.toDateObject(o)),this.trigger=n.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",c(this,ru)),A.addEventListener("mouseenter",c(this,Bp)),A.addEventListener("mouseleave",c(this,Hp)),A.classList.add("popupTriggerArea");for(const A of n)(v=A.container)==null||v.addEventListener("keydown",c(this,iu));c(this,yt).hidden=!0,y&&x(this,Je,np).call(this)}render(){if(c(this,Ls))return;const e=b(this,Ls,document.createElement("div"));if(e.className="popup",c(this,pa)){const o=e.style.outlineColor=ge.makeHexColor(...c(this,pa));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=ge.makeHexColor(...c(this,pa).map(h=>Math.floor(.7*(255-h)+h)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=c(this,Fh),e.append(t),c(this,ou)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,ou).valueOf()})),t.append(o)}const r=c(this,Je,tp);if(r)qb.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(c(this,Ui));e.append(o)}c(this,yt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,l=r.length;o<l;++o){const h=r[o];n.append(document.createTextNode(h)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;c(this,ga)||b(this,ga,{contentsObj:c(this,Ui),richText:c(this,Wi)}),e&&b(this,Vi,null),t&&(b(this,Wi,x(this,Je,Zb).call(this,t)),b(this,Ui,null)),(n=c(this,Ls))==null||n.remove(),b(this,Ls,null)}resetEdited(){var e;c(this,ga)&&({contentsObj:gn(this,Ui)._,richText:gn(this,Wi)._}=c(this,ga),b(this,ga,null),(e=c(this,Ls))==null||e.remove(),b(this,Ls,null),b(this,Vi,null))}forceHide(){b(this,ma,this.isVisible),c(this,ma)&&(c(this,yt).hidden=!0)}maybeShow(){c(this,ma)&&(c(this,Ls)||x(this,Je,sp).call(this),b(this,ma,!1),c(this,yt).hidden=!1)}get isVisible(){return c(this,yt).hidden===!1}}iu=new WeakMap,Hp=new WeakMap,Bp=new WeakMap,ru=new WeakMap,pa=new WeakMap,yt=new WeakMap,Ui=new WeakMap,ou=new WeakMap,Lh=new WeakMap,Mh=new WeakMap,au=new WeakMap,$i=new WeakMap,Ls=new WeakMap,Vi=new WeakMap,Ih=new WeakMap,Wi=new WeakMap,Fh=new WeakMap,ga=new WeakMap,ma=new WeakMap,Je=new WeakSet,tp=function(){const e=c(this,Wi),t=c(this,Ui);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Wi).html||null},cv=function(){var e,t,n;return((n=(t=(e=c(this,Je,tp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},Jb=function(){var e,t,n;return((n=(t=(e=c(this,Je,tp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},Zb=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:c(this,Je,Jb),fontSize:c(this,Je,cv)?`calc(${c(this,Je,cv)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return n},e_=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,$i))&&x(this,Je,np).call(this)},t_=function(){if(c(this,Vi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:o}}}=c(this,Mh);let l=!!c(this,au),h=l?c(this,au):c(this,Ih);for(const E of c(this,Lh))if(!h||ge.intersect(E.data.rect,h)!==null){h=E.data.rect,l=!0;break}const d=ge.normalizeRect([h[0],e[3]-h[1]+e[1],h[2],e[3]-h[3]+e[1]]),g=l?h[2]-h[0]+5:0,y=d[0]+g,v=d[1];b(this,Vi,[100*(y-r)/t,100*(v-o)/n]);const{style:A}=c(this,yt);A.left=`${c(this,Vi)[0]}%`,A.top=`${c(this,Vi)[1]}%`},np=function(){b(this,$i,!c(this,$i)),c(this,$i)?(x(this,Je,sp).call(this),c(this,yt).addEventListener("click",c(this,ru)),c(this,yt).addEventListener("keydown",c(this,iu))):(x(this,Je,hv).call(this),c(this,yt).removeEventListener("click",c(this,ru)),c(this,yt).removeEventListener("keydown",c(this,iu)))},sp=function(){c(this,Ls)||this.render(),this.isVisible?c(this,$i)&&c(this,yt).classList.add("focused"):(x(this,Je,t_).call(this),c(this,yt).hidden=!1,c(this,yt).style.zIndex=parseInt(c(this,yt).style.zIndex)+1e3)},hv=function(){c(this,yt).classList.remove("focused"),!(c(this,$i)||!this.isVisible)&&(c(this,yt).hidden=!0,c(this,yt).style.zIndex=parseInt(c(this,yt).style.zIndex)-1e3)};class n_ extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Nh;class wL extends bt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Nh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:r}=ir(t.rect),o=this.svgFactory.create(n,r,!0),l=b(this,Nh,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Nh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nh=new WeakMap;var Dh;class AL extends bt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Dh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:r}=ir(t.rect),o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,h=b(this,Dh,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",l/2),h.setAttribute("y",l/2),h.setAttribute("width",n-l),h.setAttribute("height",r-l),h.setAttribute("stroke-width",l||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Dh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dh=new WeakMap;var Oh;class EL extends bt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Oh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:r}=ir(t.rect),o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,h=b(this,Oh,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",n/2),h.setAttribute("cy",r/2),h.setAttribute("rx",n/2-l/2),h.setAttribute("ry",r/2-l/2),h.setAttribute("stroke-width",l||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Oh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Oh=new WeakMap;var jh;class s_ extends bt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,jh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:o}}=this;if(!n)return this.container;const{width:l,height:h}=ir(t),d=this.svgFactory.create(l,h,!0);let p=[];for(let y=0,v=n.length;y<v;y+=2){const A=n[y]-t[0],E=t[3]-n[y+1];p.push(`${A},${E}`)}p=p.join(" ");const g=b(this,jh,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),d.append(g),this.container.append(d),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,jh)}addHighlightArea(){this.container.classList.add("highlightArea")}}jh=new WeakMap;class SL extends s_{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class bL extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Hh;class dw extends bt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Hh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Me.HIGHLIGHT:Me.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:r,popupRef:o}}=this,{width:l,height:h}=ir(t),d=this.svgFactory.create(l,h,!0);for(const p of n){let g=[];for(let v=0,A=p.length;v<A;v+=2){const E=p[v]-t[0],S=t[3]-p[v+1];g.push(`${E},${S}`)}g=g.join(" ");const y=this.svgFactory.createElement(this.svgElementName);c(this,Hh).push(y),y.setAttribute("points",g),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),d.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return c(this,Hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hh=new WeakMap;class i_ extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Me.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class _L extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class xL extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class CL extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class r_ extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Me.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Bh,zh,dv;class kL extends bt{constructor(t){var r;super(t,{isRenderable:!0});T(this,zh);T(this,Bh,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",x(this,zh,dv).bind(this)),b(this,Bh,r);const{isMac:o}=wn.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&x(this,zh,dv).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return c(this,Bh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bh=new WeakMap,zh=new WeakSet,dv=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Uh,ya,va,$h,Ba,o_,fv,lS;let TL=(lS=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:h}){T(this,Ba);T(this,Uh,null);T(this,ya,null);T(this,va,new Map);T(this,$h,null);this.div=e,b(this,Uh,t),b(this,ya,n),b(this,$h,h||null),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return c(this,va).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;Da(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new hw,annotationStorage:e.annotationStorage||new ow,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const h of t){if(h.noHTML)continue;const d=h.annotationType===Lt.POPUP;if(d){const y=r.get(h.id);if(!y)continue;o.elements=y}else{const{width:y,height:v}=ir(h.rect);if(y<=0||v<=0)continue}o.data=h;const p=hL.create(o);if(!p.isRenderable)continue;if(!d&&h.popupRef){const y=r.get(h.popupRef);y?y.push(p):r.set(h.popupRef,[p])}const g=p.render();h.hidden&&(g.style.visibility="hidden"),await x(this,Ba,o_).call(this,g,h.id),p._isEditable&&(c(this,va).set(p.data.id,p),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(p))}x(this,Ba,fv).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Da(t,{rotation:e.rotation}),x(this,Ba,fv).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,va).values())}getEditableAnnotation(e){return c(this,va).get(e)}},Uh=new WeakMap,ya=new WeakMap,va=new WeakMap,$h=new WeakMap,Ba=new WeakSet,o_=async function(e,t){var l,h;const n=e.firstChild||e,r=n.id=`${tw}${t}`,o=await((l=c(this,$h))==null?void 0:l.getAriaAttributes(r));if(o)for(const[d,p]of o)n.setAttribute(d,p);this.div.append(e),(h=c(this,Uh))==null||h.moveElementInDOM(this.div,e,n,!1)},fv=function(){if(!c(this,ya))return;const e=this.div;for(const[t,n]of c(this,ya)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):r.append(n)}c(this,ya).clear()},lS);const Df=/\r\n?|\n/g;var Ms,$n,Vh,wa,Vn,kt,a_,l_,u_,ip,or,rp,op,c_,gv,h_;const tt=class tt extends Ye{constructor(t){super({...t,name:"freeTextEditor"});T(this,kt);T(this,Ms);T(this,$n,"");T(this,Vh,`${this.id}-editor`);T(this,wa,null);T(this,Vn);b(this,Ms,t.color||tt._defaultColor||Ye._defaultLineColor),b(this,Vn,t.fontSize||tt._defaultFontSize)}static get _keyboardManager(){const t=tt.prototype,n=l=>l.isEmpty(),r=Oa.TRANSLATE_SMALL,o=Oa.TRANSLATE_BIG;return ze(this,"_keyboardManager",new pd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){Ye.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case ke.FREETEXT_SIZE:tt._defaultFontSize=n;break;case ke.FREETEXT_COLOR:tt._defaultColor=n;break}}updateParams(t,n){switch(t){case ke.FREETEXT_SIZE:x(this,kt,a_).call(this,n);break;case ke.FREETEXT_COLOR:x(this,kt,l_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ke.FREETEXT_SIZE,tt._defaultFontSize],[ke.FREETEXT_COLOR,tt._defaultColor||Ye._defaultLineColor]]}get propertiesToUpdate(){return[[ke.FREETEXT_SIZE,c(this,Vn)],[ke.FREETEXT_COLOR,c(this,Ms)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-tt._internalPadding*t,-(tt._internalPadding+c(this,Vn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Me.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,wa,new AbortController);const t=this._uiManager.combinedSignal(c(this,wa));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Vh)),this._isDraggable=!0,(t=c(this,wa))==null||t.abort(),b(this,wa,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,$n),n=b(this,$n,x(this,kt,u_).call(this).trimEnd());if(t===n)return;const r=o=>{if(b(this,$n,o),!o){this.remove();return}x(this,kt,op).call(this),this._uiManager.rebuild(this),x(this,kt,ip).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),x(this,kt,ip).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){tt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Vh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,Vn)}px * var(--scale-factor))`,r.color=c(this,Ms),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Ep(this,this.div,["dblclick","keydown"]),this.width){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[d,p]=this.getInitialTranslation();[d,p]=this.pageTranslationToScreen(d,p);const[g,y]=this.pageDimensions,[v,A]=this.pageTranslation;let E,S;switch(this.rotation){case 0:E=t+(h[0]-v)/g,S=n+this.height-(h[1]-A)/y;break;case 90:E=t+(h[0]-v)/g,S=n-(h[1]-A)/y,[d,p]=[p,-d];break;case 180:E=t-this.width+(h[0]-v)/g,S=n-(h[1]-A)/y,[d,p]=[-d,-p];break;case 270:E=t+(h[0]-v-this.height*y)/g,S=n+(h[1]-A-this.width*g)/y,[d,p]=[-p,d];break}this.setAt(E*o,S*l,d,p)}else this.setAt(t*o,n*l,this.width*o,this.height*l);x(this,kt,op).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var E,S,k;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=x(E=tt,or,gv).call(E,n.getData("text")||"").replaceAll(Df,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const h=l.getRangeAt(0);if(!o.includes(`
`)){h.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:d,startOffset:p}=h,g=[],y=[];if(d.nodeType===Node.TEXT_NODE){const C=d.parentElement;if(y.push(d.nodeValue.slice(p).replaceAll(Df,"")),C!==this.editorDiv){let R=g;for(const L of this.editorDiv.childNodes){if(L===C){R=y;continue}R.push(x(S=tt,or,rp).call(S,L))}}g.push(d.nodeValue.slice(0,p).replaceAll(Df,""))}else if(d===this.editorDiv){let C=g,R=0;for(const L of this.editorDiv.childNodes)R++===p&&(C=y),C.push(x(k=tt,or,rp).call(k,L))}b(this,$n,`${g.join(`
`)}${o}${y.join(`
`)}`),x(this,kt,op).call(this);const v=new Range;let A=g.reduce((C,R)=>C+R.length,0);for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const R=C.nodeValue.length;if(A<=R){v.setStart(C,A),v.setEnd(C,A);break}A-=R}l.removeAllRanges(),l.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,r){var h;let o=null;if(t instanceof n_){const{data:{defaultAppearanceData:{fontSize:d,fontColor:p},rect:g,rotation:y,id:v,popupRef:A},textContent:E,textPosition:S,parent:{page:{pageNumber:k}}}=t;if(!E||E.length===0)return null;o=t={annotationType:Me.FREETEXT,color:Array.from(p),fontSize:d,value:E.join(`
`),position:S,pageIndex:k-1,rect:g.slice(0),rotation:y,id:v,deleted:!1,popupRef:A}}const l=await super.deserialize(t,n,r);return b(l,Vn,t.fontSize),b(l,Ms,ge.makeHexColor(...t.color)),b(l,$n,x(h=tt,or,gv).call(h,t.value)),l.annotationElementId=t.id||null,l._initialData=o,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=tt._internalPadding*this.parentScale,r=this.getRect(n,n),o=Ye._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Ms)),l={annotationType:Me.FREETEXT,color:o,fontSize:c(this,Vn),value:x(this,kt,c_).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!x(this,kt,h_).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${c(this,Vn)}px * var(--scale-factor))`,r.color=c(this,Ms),n.replaceChildren();for(const l of c(this,$n).split(`
`)){const h=document.createElement("div");h.append(l?document.createTextNode(l):document.createElement("br")),n.append(h)}const o=tt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:c(this,$n)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ms=new WeakMap,$n=new WeakMap,Vh=new WeakMap,wa=new WeakMap,Vn=new WeakMap,kt=new WeakSet,a_=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-c(this,Vn))*this.parentScale),b(this,Vn,o),x(this,kt,ip).call(this)},r=c(this,Vn);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},l_=function(t){const n=o=>{b(this,Ms,this.editorDiv.style.color=o)},r=c(this,Ms);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},u_=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(x(r=tt,or,rp).call(r,o)),n=o);return t.join(`
`)},ip=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,h=l.style.display,d=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),r=l.getBoundingClientRect(),l.remove(),l.style.display=h,l.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},or=new WeakSet,rp=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Df,"")},op=function(){if(this.editorDiv.replaceChildren(),!!c(this,$n))for(const t of c(this,$n).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},c_=function(){return c(this,$n).replaceAll(" "," ")},gv=function(t){return t.replaceAll(" "," ")},h_=function(t){const{value:n,fontSize:r,color:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((h,d)=>h!==o[d])||t.pageIndex!==l},T(tt,or),Ce(tt,"_freeTextDefaultContent",""),Ce(tt,"_internalPadding",0),Ce(tt,"_defaultColor",null),Ce(tt,"_defaultFontSize",10),Ce(tt,"_type","freetext"),Ce(tt,"_editorType",Me.FREETEXT);let pv=tt;class d_{toSVGPath(){rt("Abstract method `toSVGPath` must be implemented.")}get box(){rt("Abstract getter `box` must be implemented.")}serialize(e,t){rt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){rt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){rt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Wn,Is,lu,uu,li,je,Aa,Ea,Wh,Gh,cu,hu,Jr,qh,zp,Up,Dt,Ic,f_,p_,g_,m_,y_,v_;const Li=class Li{constructor({x:e,y:t},n,r,o,l,h=0){T(this,Dt);T(this,Wn);T(this,Is,[]);T(this,lu);T(this,uu);T(this,li,[]);T(this,je,new Float64Array(18));T(this,Aa);T(this,Ea);T(this,Wh);T(this,Gh);T(this,cu);T(this,hu);T(this,Jr,[]);b(this,Wn,n),b(this,hu,o*r),b(this,uu,l),c(this,je).set([NaN,NaN,NaN,NaN,e,t],6),b(this,lu,h),b(this,Gh,c(Li,qh)*r),b(this,Wh,c(Li,Up)*r),b(this,cu,r),c(this,Jr).push(e,t)}isEmpty(){return isNaN(c(this,je)[8])}add({x:e,y:t}){var X;b(this,Aa,e),b(this,Ea,t);const[n,r,o,l]=c(this,Wn);let[h,d,p,g]=c(this,je).subarray(8,12);const y=e-p,v=t-g,A=Math.hypot(y,v);if(A<c(this,Wh))return!1;const E=A-c(this,Gh),S=E/A,k=S*y,C=S*v;let R=h,L=d;h=p,d=g,p+=k,g+=C,(X=c(this,Jr))==null||X.push(e,t);const I=-C/E,j=k/E,O=I*c(this,hu),z=j*c(this,hu);return c(this,je).set(c(this,je).subarray(2,8),0),c(this,je).set([p+O,g+z],4),c(this,je).set(c(this,je).subarray(14,18),12),c(this,je).set([p-O,g-z],16),isNaN(c(this,je)[6])?(c(this,li).length===0&&(c(this,je).set([h+O,d+z],2),c(this,li).push(NaN,NaN,NaN,NaN,(h+O-n)/o,(d+z-r)/l),c(this,je).set([h-O,d-z],14),c(this,Is).push(NaN,NaN,NaN,NaN,(h-O-n)/o,(d-z-r)/l)),c(this,je).set([R,L,h,d,p,g],6),!this.isEmpty()):(c(this,je).set([R,L,h,d,p,g],6),Math.abs(Math.atan2(L-d,R-h)-Math.atan2(C,k))<Math.PI/2?([h,d,p,g]=c(this,je).subarray(2,6),c(this,li).push(NaN,NaN,NaN,NaN,((h+p)/2-n)/o,((d+g)/2-r)/l),[h,d,R,L]=c(this,je).subarray(14,18),c(this,Is).push(NaN,NaN,NaN,NaN,((R+h)/2-n)/o,((L+d)/2-r)/l),!0):([R,L,h,d,p,g]=c(this,je).subarray(0,6),c(this,li).push(((R+5*h)/6-n)/o,((L+5*d)/6-r)/l,((5*h+p)/6-n)/o,((5*d+g)/6-r)/l,((h+p)/2-n)/o,((d+g)/2-r)/l),[p,g,h,d,R,L]=c(this,je).subarray(12,18),c(this,Is).push(((R+5*h)/6-n)/o,((L+5*d)/6-r)/l,((5*h+p)/6-n)/o,((5*d+g)/6-r)/l,((h+p)/2-n)/o,((d+g)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,li),t=c(this,Is);if(isNaN(c(this,je)[6])&&!this.isEmpty())return x(this,Dt,f_).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);x(this,Dt,g_).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return x(this,Dt,p_).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,o,l){return new w_(e,t,n,r,o,l)}getOutlines(){var y;const e=c(this,li),t=c(this,Is),n=c(this,je),[r,o,l,h]=c(this,Wn),d=new Float64Array((((y=c(this,Jr))==null?void 0:y.length)??0)+2);for(let v=0,A=d.length-2;v<A;v+=2)d[v]=(c(this,Jr)[v]-r)/l,d[v+1]=(c(this,Jr)[v+1]-o)/h;if(d[d.length-2]=(c(this,Aa)-r)/l,d[d.length-1]=(c(this,Ea)-o)/h,isNaN(n[6])&&!this.isEmpty())return x(this,Dt,m_).call(this,d);const p=new Float64Array(c(this,li).length+24+c(this,Is).length);let g=e.length;for(let v=0;v<g;v+=2){if(isNaN(e[v])){p[v]=p[v+1]=NaN;continue}p[v]=e[v],p[v+1]=e[v+1]}g=x(this,Dt,v_).call(this,p,g);for(let v=t.length-6;v>=6;v-=6)for(let A=0;A<6;A+=2){if(isNaN(t[v+A])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=t[v+A],p[g+1]=t[v+A+1],g+=2}return x(this,Dt,y_).call(this,p,g),this.newFreeDrawOutline(p,d,c(this,Wn),c(this,cu),c(this,lu),c(this,uu))}};Wn=new WeakMap,Is=new WeakMap,lu=new WeakMap,uu=new WeakMap,li=new WeakMap,je=new WeakMap,Aa=new WeakMap,Ea=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,cu=new WeakMap,hu=new WeakMap,Jr=new WeakMap,qh=new WeakMap,zp=new WeakMap,Up=new WeakMap,Dt=new WeakSet,Ic=function(){const e=c(this,je).subarray(4,6),t=c(this,je).subarray(16,18),[n,r,o,l]=c(this,Wn);return[(c(this,Aa)+(e[0]-t[0])/2-n)/o,(c(this,Ea)+(e[1]-t[1])/2-r)/l,(c(this,Aa)+(t[0]-e[0])/2-n)/o,(c(this,Ea)+(t[1]-e[1])/2-r)/l]},f_=function(){const[e,t,n,r]=c(this,Wn),[o,l,h,d]=x(this,Dt,Ic).call(this);return`M${(c(this,je)[2]-e)/n} ${(c(this,je)[3]-t)/r} L${(c(this,je)[4]-e)/n} ${(c(this,je)[5]-t)/r} L${o} ${l} L${h} ${d} L${(c(this,je)[16]-e)/n} ${(c(this,je)[17]-t)/r} L${(c(this,je)[14]-e)/n} ${(c(this,je)[15]-t)/r} Z`},p_=function(e){const t=c(this,Is);e.push(`L${t[4]} ${t[5]} Z`)},g_=function(e){const[t,n,r,o]=c(this,Wn),l=c(this,je).subarray(4,6),h=c(this,je).subarray(16,18),[d,p,g,y]=x(this,Dt,Ic).call(this);e.push(`L${(l[0]-t)/r} ${(l[1]-n)/o} L${d} ${p} L${g} ${y} L${(h[0]-t)/r} ${(h[1]-n)/o}`)},m_=function(e){const t=c(this,je),[n,r,o,l]=c(this,Wn),[h,d,p,g]=x(this,Dt,Ic).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-r)/l,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-r)/l],0),this.newFreeDrawOutline(y,e,c(this,Wn),c(this,cu),c(this,lu),c(this,uu))},y_=function(e,t){const n=c(this,Is);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},v_=function(e,t){const n=c(this,je).subarray(4,6),r=c(this,je).subarray(16,18),[o,l,h,d]=c(this,Wn),[p,g,y,v]=x(this,Dt,Ic).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/h,(n[1]-l)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(r[0]-o)/h,(r[1]-l)/d],t),t+=24},T(Li,qh,8),T(Li,zp,2),T(Li,Up,c(Li,qh)+c(Li,zp));let bp=Li;var du,Sa,Gi,Xh,Gn,Kh,St,Fn,Fc,Nc,A_;class w_ extends d_{constructor(t,n,r,o,l,h){super();T(this,Fn);T(this,du);T(this,Sa,null);T(this,Gi);T(this,Xh);T(this,Gn);T(this,Kh);T(this,St);b(this,St,t),b(this,Gn,n),b(this,du,r),b(this,Kh,o),b(this,Gi,l),b(this,Xh,h),x(this,Fn,A_).call(this,h);const{x:d,y:p,width:g,height:y}=c(this,Sa);for(let v=0,A=t.length;v<A;v+=2)t[v]=(t[v]-d)/g,t[v+1]=(t[v+1]-p)/y;for(let v=0,A=n.length;v<A;v+=2)n[v]=(n[v]-d)/g,n[v+1]=(n[v+1]-p)/y}toSVGPath(){const t=[`M${c(this,St)[4]} ${c(this,St)[5]}`];for(let n=6,r=c(this,St).length;n<r;n+=6){if(isNaN(c(this,St)[n])){t.push(`L${c(this,St)[n+4]} ${c(this,St)[n+5]}`);continue}t.push(`C${c(this,St)[n]} ${c(this,St)[n+1]} ${c(this,St)[n+2]} ${c(this,St)[n+3]} ${c(this,St)[n+4]} ${c(this,St)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,o],l){const h=r-t,d=o-n;let p,g;switch(l){case 0:p=x(this,Fn,Fc).call(this,c(this,St),t,o,h,-d),g=x(this,Fn,Fc).call(this,c(this,Gn),t,o,h,-d);break;case 90:p=x(this,Fn,Nc).call(this,c(this,St),t,n,h,d),g=x(this,Fn,Nc).call(this,c(this,Gn),t,n,h,d);break;case 180:p=x(this,Fn,Fc).call(this,c(this,St),r,n,-h,d),g=x(this,Fn,Fc).call(this,c(this,Gn),r,n,-h,d);break;case 270:p=x(this,Fn,Nc).call(this,c(this,St),r,o,-h,-d),g=x(this,Fn,Nc).call(this,c(this,Gn),r,o,-h,-d);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return c(this,Sa)}newOutliner(t,n,r,o,l,h=0){return new bp(t,n,r,o,l,h)}getNewOutline(t,n){const{x:r,y:o,width:l,height:h}=c(this,Sa),[d,p,g,y]=c(this,du),v=l*g,A=h*y,E=r*g+d,S=o*y+p,k=this.newOutliner({x:c(this,Gn)[0]*v+E,y:c(this,Gn)[1]*A+S},c(this,du),c(this,Kh),t,c(this,Xh),n??c(this,Gi));for(let C=2;C<c(this,Gn).length;C+=2)k.add({x:c(this,Gn)[C]*v+E,y:c(this,Gn)[C+1]*A+S});return k.getOutlines()}get mustRemoveSelfIntersections(){return!0}}du=new WeakMap,Sa=new WeakMap,Gi=new WeakMap,Xh=new WeakMap,Gn=new WeakMap,Kh=new WeakMap,St=new WeakMap,Fn=new WeakSet,Fc=function(t,n,r,o,l){const h=new Float64Array(t.length);for(let d=0,p=t.length;d<p;d+=2)h[d]=n+t[d]*o,h[d+1]=r+t[d+1]*l;return h},Nc=function(t,n,r,o,l){const h=new Float64Array(t.length);for(let d=0,p=t.length;d<p;d+=2)h[d]=n+t[d+1]*o,h[d+1]=r+t[d]*l;return h},A_=function(t){const n=c(this,St);let r=n[4],o=n[5],l=r,h=o,d=r,p=o,g=r,y=o;const v=t?Math.max:Math.min;for(let C=6,R=n.length;C<R;C+=6){if(isNaN(n[C]))l=Math.min(l,n[C+4]),h=Math.min(h,n[C+5]),d=Math.max(d,n[C+4]),p=Math.max(p,n[C+5]),y<n[C+5]?(g=n[C+4],y=n[C+5]):y===n[C+5]&&(g=v(g,n[C+4]));else{const L=ge.bezierBoundingBox(r,o,...n.slice(C,C+6));l=Math.min(l,L[0]),h=Math.min(h,L[1]),d=Math.max(d,L[2]),p=Math.max(p,L[3]),y<L[3]?(g=L[2],y=L[3]):y===L[3]&&(g=v(g,L[2]))}r=n[C+4],o=n[C+5]}const A=l-c(this,Gi),E=h-c(this,Gi),S=d-l+2*c(this,Gi),k=p-h+2*c(this,Gi);b(this,Sa,{x:A,y:E,width:S,height:k,lastPoint:[g,y]})};var Yh,Zr,Fs,En,E_,ap,S_,b_,mv;class YE{constructor(e,t=0,n=0,r=!0){T(this,En);T(this,Yh);T(this,Zr,[]);T(this,Fs,[]);let o=1/0,l=-1/0,h=1/0,d=-1/0;const p=10**-4;for(const{x:k,y:C,width:R,height:L}of e){const I=Math.floor((k-t)/p)*p,j=Math.ceil((k+R+t)/p)*p,O=Math.floor((C-t)/p)*p,z=Math.ceil((C+L+t)/p)*p,W=[I,O,z,!0],X=[j,O,z,!1];c(this,Zr).push(W,X),o=Math.min(o,I),l=Math.max(l,j),h=Math.min(h,O),d=Math.max(d,z)}const g=l-o+2*n,y=d-h+2*n,v=o-n,A=h-n,E=c(this,Zr).at(r?-1:-2),S=[E[0],E[2]];for(const k of c(this,Zr)){const[C,R,L]=k;k[0]=(C-v)/g,k[1]=(R-A)/y,k[2]=(L-A)/y}b(this,Yh,{x:v,y:A,width:g,height:y,lastPoint:S})}getOutlines(){c(this,Zr).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of c(this,Zr))t[3]?(e.push(...x(this,En,mv).call(this,t)),x(this,En,S_).call(this,t)):(x(this,En,b_).call(this,t),e.push(...x(this,En,mv).call(this,t)));return x(this,En,E_).call(this,e)}}Yh=new WeakMap,Zr=new WeakMap,Fs=new WeakMap,En=new WeakSet,E_=function(e){const t=[],n=new Set;for(const l of e){const[h,d,p]=l;t.push([h,d,l],[h,p,l])}t.sort((l,h)=>l[1]-h[1]||l[0]-h[0]);for(let l=0,h=t.length;l<h;l+=2){const d=t[l][2],p=t[l+1][2];d.push(p),p.push(d),n.add(d),n.add(p)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[h,d,p,g,y]=l;n.delete(l);let v=h,A=d;for(o=[h,p],r.push(o);;){let E;if(n.has(g))E=g;else if(n.has(y))E=y;else break;n.delete(E),[h,d,p,g,y]=E,v!==h&&(o.push(v,A,h,A===d?d:p),v=h),A=A===d?p:d}o.push(v,A)}return new RL(r,c(this,Yh))},ap=function(e){const t=c(this,Fs);let n=0,r=t.length-1;for(;n<=r;){const o=n+r>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:r=o-1}return r+1},S_=function([,e,t]){const n=x(this,En,ap).call(this,e);c(this,Fs).splice(n,0,[e,t])},b_=function([,e,t]){const n=x(this,En,ap).call(this,e);for(let r=n;r<c(this,Fs).length;r++){const[o,l]=c(this,Fs)[r];if(o!==e)break;if(o===e&&l===t){c(this,Fs).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=c(this,Fs)[r];if(o!==e)break;if(o===e&&l===t){c(this,Fs).splice(r,1);return}}},mv=function(e){const[t,n,r]=e,o=[[t,n,r]],l=x(this,En,ap).call(this,r);for(let h=0;h<l;h++){const[d,p]=c(this,Fs)[h];for(let g=0,y=o.length;g<y;g++){const[,v,A]=o[g];if(!(p<=v||A<=d)){if(v>=d){if(A>p)o[g][1]=p;else{if(y===1)return[];o.splice(g,1),g--,y--}continue}o[g][2]=d,A>p&&o.push([t,p,A])}}}return o};var Qh,fu;class RL extends d_{constructor(t,n){super();T(this,Qh);T(this,fu);b(this,fu,t),b(this,Qh,n)}toSVGPath(){const t=[];for(const n of c(this,fu)){let[r,o]=n;t.push(`M${r} ${o}`);for(let l=2;l<n.length;l+=2){const h=n[l],d=n[l+1];h===r?(t.push(`V${d}`),o=d):d===o&&(t.push(`H${h}`),r=h)}t.push("Z")}return t.join(" ")}serialize([t,n,r,o],l){const h=[],d=r-t,p=o-n;for(const g of c(this,fu)){const y=new Array(g.length);for(let v=0;v<g.length;v+=2)y[v]=t+g[v]*d,y[v+1]=o-g[v+1]*p;h.push(y)}return h}get box(){return c(this,Qh)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Qh=new WeakMap,fu=new WeakMap;class yv extends bp{newFreeDrawOutline(e,t,n,r,o,l){return new PL(e,t,n,r,o,l)}get classNamesForDrawing(){return["highlight","free"]}}class PL extends w_{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,r,o,l=0){return new yv(e,t,n,r,o,l)}}var Ns,ba,pu,It,Jh,gu,Zh,ed,eo,Ds,mu,td,Qe,vv,wv,Av,Mo,__,Mr;const Rn=class Rn{constructor({editor:e=null,uiManager:t=null}){T(this,Qe);T(this,Ns,null);T(this,ba,null);T(this,pu);T(this,It,null);T(this,Jh,!1);T(this,gu,!1);T(this,Zh,null);T(this,ed);T(this,eo,null);T(this,Ds,null);T(this,mu);var n;e?(b(this,gu,!1),b(this,mu,ke.HIGHLIGHT_COLOR),b(this,Zh,e)):(b(this,gu,!0),b(this,mu,ke.HIGHLIGHT_DEFAULT_COLOR)),b(this,Ds,(e==null?void 0:e._uiManager)||t),b(this,ed,c(this,Ds)._eventBus),b(this,pu,(e==null?void 0:e.color)||((n=c(this,Ds))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),c(Rn,td)||b(Rn,td,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ze(this,"_keyboardManager",new pd([[["Escape","mac+Escape"],Rn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Rn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Rn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Rn.prototype._moveToPrevious],[["Home","mac+Home"],Rn.prototype._moveToBeginning],[["End","mac+End"],Rn.prototype._moveToEnd]]))}renderButton(){const e=b(this,Ns,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,Ds)._signal;e.addEventListener("click",x(this,Qe,Mo).bind(this),{signal:t}),e.addEventListener("keydown",x(this,Qe,Av).bind(this),{signal:t});const n=b(this,ba,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=c(this,pu),e.append(n),e}renderMainDropdown(){const e=b(this,It,x(this,Qe,vv).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,Ns)){x(this,Qe,Mo).call(this,e);return}const t=e.target.getAttribute("data-color");t&&x(this,Qe,wv).call(this,t,e)}_moveToNext(e){var t,n;if(!c(this,Qe,Mr)){x(this,Qe,Mo).call(this,e);return}if(e.target===c(this,Ns)){(t=c(this,It).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=c(this,It))==null?void 0:t.firstChild)||e.target===c(this,Ns)){c(this,Qe,Mr)&&this._hideDropdownFromKeyboard();return}c(this,Qe,Mr)||x(this,Qe,Mo).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!c(this,Qe,Mr)){x(this,Qe,Mo).call(this,e);return}(t=c(this,It).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,Qe,Mr)){x(this,Qe,Mo).call(this,e);return}(t=c(this,It).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=c(this,It))==null||e.classList.add("hidden"),(t=c(this,eo))==null||t.abort(),b(this,eo,null)}_hideDropdownFromKeyboard(){var e;if(!c(this,gu)){if(!c(this,Qe,Mr)){(e=c(this,Zh))==null||e.unselect();return}this.hideDropdown(),c(this,Ns).focus({preventScroll:!0,focusVisible:c(this,Jh)})}}updateColor(e){if(c(this,ba)&&(c(this,ba).style.backgroundColor=e),!c(this,It))return;const t=c(this,Ds).highlightColors.values();for(const n of c(this,It).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,Ns))==null||e.remove(),b(this,Ns,null),b(this,ba,null),(t=c(this,It))==null||t.remove(),b(this,It,null)}};Ns=new WeakMap,ba=new WeakMap,pu=new WeakMap,It=new WeakMap,Jh=new WeakMap,gu=new WeakMap,Zh=new WeakMap,ed=new WeakMap,eo=new WeakMap,Ds=new WeakMap,mu=new WeakMap,td=new WeakMap,Qe=new WeakSet,vv=function(){const e=document.createElement("div"),t=c(this,Ds)._signal;e.addEventListener("contextmenu",ps,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of c(this,Ds).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",c(Rn,td)[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.setAttribute("aria-selected",r===c(this,pu)),o.addEventListener("click",x(this,Qe,wv).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",x(this,Qe,Av).bind(this),{signal:t}),e},wv=function(e,t){t.stopPropagation(),c(this,ed).dispatch("switchannotationeditorparams",{source:this,type:c(this,mu),value:e})},Av=function(e){Rn._keyboardManager.exec(this,e)},Mo=function(e){if(c(this,Qe,Mr)){this.hideDropdown();return}if(b(this,Jh,e.detail===0),c(this,eo)||(b(this,eo,new AbortController),window.addEventListener("pointerdown",x(this,Qe,__).bind(this),{signal:c(this,Ds).combinedSignal(c(this,eo))})),c(this,It)){c(this,It).classList.remove("hidden");return}const t=b(this,It,x(this,Qe,vv).call(this));c(this,Ns).append(t)},__=function(e){var t;(t=c(this,It))!=null&&t.contains(e.target)||this.hideDropdown()},Mr=function(){return c(this,It)&&!c(this,It).classList.contains("hidden")},T(Rn,td,null);let _p=Rn;var yu,nd,qi,_a,vu,ls,sd,id,xa,Os,ln,Mn,wu,Xi,Ft,Au,us,rd,Le,Ev,lp,x_,C_,k_,Sv,Io,ds,Sl,T_,up,Dc,R_,P_,L_,M_,I_;const We=class We extends Ye{constructor(t){super({...t,name:"highlightEditor"});T(this,Le);T(this,yu,null);T(this,nd,0);T(this,qi);T(this,_a,null);T(this,vu,null);T(this,ls,null);T(this,sd,null);T(this,id,0);T(this,xa,null);T(this,Os,null);T(this,ln,null);T(this,Mn,!1);T(this,wu,null);T(this,Xi);T(this,Ft,null);T(this,Au,"");T(this,us);T(this,rd,"");this.color=t.color||We._defaultColor,b(this,us,t.thickness||We._defaultThickness),b(this,Xi,t.opacity||We._defaultOpacity),b(this,qi,t.boxes||null),b(this,rd,t.methodOfCreation||""),b(this,Au,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,Mn,!0),x(this,Le,lp).call(this,t),x(this,Le,Io).call(this)):c(this,qi)&&(b(this,yu,t.anchorNode),b(this,nd,t.anchorOffset),b(this,sd,t.focusNode),b(this,id,t.focusOffset),x(this,Le,Ev).call(this),x(this,Le,Io).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=We.prototype;return ze(this,"_keyboardManager",new pd([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,Mn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,us),methodOfCreation:c(this,rd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;Ye.initialize(t,n),We._defaultColor||(We._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case ke.HIGHLIGHT_DEFAULT_COLOR:We._defaultColor=n;break;case ke.HIGHLIGHT_THICKNESS:We._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return c(this,wu)}updateParams(t,n){switch(t){case ke.HIGHLIGHT_COLOR:x(this,Le,x_).call(this,n);break;case ke.HIGHLIGHT_THICKNESS:x(this,Le,C_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ke.HIGHLIGHT_DEFAULT_COLOR,We._defaultColor],[ke.HIGHLIGHT_THICKNESS,We._defaultThickness]]}get propertiesToUpdate(){return[[ke.HIGHLIGHT_COLOR,this.color||We._defaultColor],[ke.HIGHLIGHT_THICKNESS,c(this,us)||We._defaultThickness],[ke.HIGHLIGHT_FREE,c(this,Mn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,vu,new _p({editor:this})),t.addColorPicker(c(this,vu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(x(this,Le,Dc).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,x(this,Le,Dc).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){x(this,Le,Sv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(x(this,Le,Io).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?x(this,Le,Sv).call(this):t&&(x(this,Le,Io).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,h;const{drawLayer:n}=this.parent;let r;c(this,Mn)?(t=(t-this.rotation+360)%360,r=x(o=We,ds,Sl).call(o,c(this,Os).box,t)):r=x(l=We,ds,Sl).call(l,this,t),n.rotate(c(this,ln),t),n.rotate(c(this,Ft),t),n.updateBox(c(this,ln),r),n.updateBox(c(this,Ft),x(h=We,ds,Sl).call(h,c(this,ls).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,Au)&&(t.setAttribute("aria-label",c(this,Au)),t.setAttribute("role","mark")),c(this,Mn)?t.classList.add("free"):this.div.addEventListener("keydown",x(this,Le,T_).bind(this),{signal:this._uiManager._signal});const n=b(this,xa,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=c(this,_a);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),Ep(this,c(this,xa),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(c(this,Ft),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(c(this,Ft),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:x(this,Le,up).call(this,!0);break;case 1:case 3:x(this,Le,up).call(this,!1);break}}select(){var t,n;super.select(),c(this,Ft)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Ft),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(c(this,Ft),"selected"))}unselect(){var t;super.unselect(),c(this,Ft)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Ft),"selected"),c(this,Mn)||x(this,Le,up).call(this,!1))}get _mustFixPosition(){return!c(this,Mn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,ln),t),this.parent.drawLayer.show(c(this,Ft),t))}static startHighlighting(t,n,{target:r,x:o,y:l}){const{x:h,y:d,width:p,height:g}=r.getBoundingClientRect(),y=new AbortController,v=t.combinedSignal(y),A=S=>{S.preventDefault(),S.stopPropagation()},E=S=>{y.abort(),x(this,ds,M_).call(this,t,S)};window.addEventListener("blur",E,{signal:v}),window.addEventListener("pointerup",E,{signal:v}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",ps,{signal:v}),r.addEventListener("pointermove",x(this,ds,L_).bind(this,t),{signal:v}),this._freeHighlight=new yv({x:o,y:l},[h,d,p,g],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,r){var S,k,C,R;let o=null;if(t instanceof i_){const{data:{quadPoints:L,rect:I,rotation:j,id:O,color:z,opacity:W,popupRef:X},parent:{page:{pageNumber:te}}}=t;o=t={annotationType:Me.HIGHLIGHT,color:Array.from(z),opacity:W,quadPoints:L,boxes:null,pageIndex:te-1,rect:I.slice(0),rotation:j,id:O,deleted:!1,popupRef:X}}else if(t instanceof dw){const{data:{inkLists:L,rect:I,rotation:j,id:O,color:z,borderStyle:{rawWidth:W},popupRef:X},parent:{page:{pageNumber:te}}}=t;o=t={annotationType:Me.HIGHLIGHT,color:Array.from(z),thickness:W,inkLists:L,boxes:null,pageIndex:te-1,rect:I.slice(0),rotation:j,id:O,deleted:!1,popupRef:X}}const{color:l,quadPoints:h,inkLists:d,opacity:p}=t,g=await super.deserialize(t,n,r);g.color=ge.makeHexColor(...l),b(g,Xi,p||1),d&&b(g,us,t.thickness),g.annotationElementId=t.id||null,g._initialData=o;const[y,v]=g.pageDimensions,[A,E]=g.pageTranslation;if(h){const L=b(g,qi,[]);for(let I=0;I<h.length;I+=8)L.push({x:(h[I]-A)/y,y:1-(h[I+1]-E)/v,width:(h[I+2]-h[I])/y,height:(h[I+1]-h[I+5])/v});x(S=g,Le,Ev).call(S),x(k=g,Le,Io).call(k),g.rotate(g.rotation)}else if(d){b(g,Mn,!0);const L=d[0],I={x:L[0]-A,y:v-(L[1]-E)},j=new yv(I,[0,0,y,v],1,c(g,us)/2,!0,.001);for(let W=0,X=L.length;W<X;W+=2)I.x=L[W]-A,I.y=v-(L[W+1]-E),j.add(I);const{id:O,clipPathId:z}=n.drawLayer.draw(j,g.color,g._defaultOpacity,!0);x(C=g,Le,lp).call(C,{highlightOutlines:j.getOutlines(),highlightId:O,clipPathId:z}),x(R=g,Le,Io).call(R)}return g}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=Ye._colorManager.convert(this.color),o={annotationType:Me.HIGHLIGHT,color:r,opacity:c(this,Xi),thickness:c(this,us),quadPoints:x(this,Le,R_).call(this),outlines:x(this,Le,P_).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:x(this,Le,Dc).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!x(this,Le,I_).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};yu=new WeakMap,nd=new WeakMap,qi=new WeakMap,_a=new WeakMap,vu=new WeakMap,ls=new WeakMap,sd=new WeakMap,id=new WeakMap,xa=new WeakMap,Os=new WeakMap,ln=new WeakMap,Mn=new WeakMap,wu=new WeakMap,Xi=new WeakMap,Ft=new WeakMap,Au=new WeakMap,us=new WeakMap,rd=new WeakMap,Le=new WeakSet,Ev=function(){const t=new YE(c(this,qi),.001);b(this,Os,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Os).box;const n=new YE(c(this,qi),.0025,.001,this._uiManager.direction==="ltr");b(this,ls,n.getOutlines());const{lastPoint:r}=c(this,ls).box;b(this,wu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},lp=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var y,v;if(b(this,Os,t),b(this,ls,t.getNewOutline(c(this,us)/2+1.5,.0025)),n>=0)b(this,ln,n),b(this,_a,r),this.parent.drawLayer.finalizeLine(n,t),b(this,Ft,this.parent.drawLayer.drawOutline(c(this,ls)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,ln),t),this.parent.drawLayer.updateBox(c(this,ln),x(y=We,ds,Sl).call(y,c(this,Os).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,Ft),c(this,ls)),this.parent.drawLayer.updateBox(c(this,Ft),x(v=We,ds,Sl).call(v,c(this,ls).box,A))}const{x:l,y:h,width:d,height:p}=t.box;switch(this.rotation){case 0:this.x=l,this.y=h,this.width=d,this.height=p;break;case 90:{const[A,E]=this.parentDimensions;this.x=h,this.y=1-l,this.width=d*E/A,this.height=p*A/E;break}case 180:this.x=1-l,this.y=1-h,this.width=d,this.height=p;break;case 270:{const[A,E]=this.parentDimensions;this.x=1-h,this.y=l,this.width=d*E/A,this.height=p*A/E;break}}const{lastPoint:g}=c(this,ls).box;b(this,wu,[(g[0]-l)/d,(g[1]-h)/p])},x_=function(t){const n=(l,h)=>{var d,p,g;this.color=l,(d=this.parent)==null||d.drawLayer.changeColor(c(this,ln),l),(p=c(this,vu))==null||p.updateColor(l),b(this,Xi,h),(g=this.parent)==null||g.drawLayer.changeOpacity(c(this,ln),h)},r=this.color,o=c(this,Xi);this.addCommands({cmd:n.bind(this,t,We._defaultOpacity),undo:n.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},C_=function(t){const n=c(this,us),r=o=>{b(this,us,o),x(this,Le,k_).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},k_=function(t){if(!c(this,Mn))return;x(this,Le,lp).call(this,{highlightOutlines:c(this,Os).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},Sv=function(){c(this,ln)===null||!this.parent||(this.parent.drawLayer.remove(c(this,ln)),b(this,ln,null),this.parent.drawLayer.remove(c(this,Ft)),b(this,Ft,null))},Io=function(t=this.parent){c(this,ln)===null&&({id:gn(this,ln)._,clipPathId:gn(this,_a)._}=t.drawLayer.draw(c(this,Os),this.color,c(this,Xi)),b(this,Ft,t.drawLayer.drawOutline(c(this,ls))),c(this,xa)&&(c(this,xa).style.clipPath=c(this,_a)))},ds=new WeakSet,Sl=function({x:t,y:n,width:r,height:o},l){switch(l){case 90:return{x:1-n-o,y:t,width:o,height:r};case 180:return{x:1-t-r,y:1-n-o,width:r,height:o};case 270:return{x:n,y:1-t-r,width:o,height:r}}return{x:t,y:n,width:r,height:o}},T_=function(t){We._keyboardManager.exec(this,t)},up=function(t){if(!c(this,yu))return;const n=window.getSelection();t?n.setPosition(c(this,yu),c(this,nd)):n.setPosition(c(this,sd),c(this,id))},Dc=function(){return c(this,Mn)?this.rotation:0},R_=function(){if(c(this,Mn))return null;const[t,n]=this.pageDimensions,[r,o]=this.pageTranslation,l=c(this,qi),h=new Float32Array(l.length*8);let d=0;for(const{x:p,y:g,width:y,height:v}of l){const A=p*t+r,E=(1-g-v)*n+o;h[d]=h[d+4]=A,h[d+1]=h[d+3]=E,h[d+2]=h[d+6]=A+y*t,h[d+5]=h[d+7]=E+v*n,d+=8}return h},P_=function(t){return c(this,Os).serialize(t,x(this,Le,Dc).call(this))},L_=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},M_=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},I_=function(t){const{color:n}=this._initialData;return t.color.some((r,o)=>r!==n[o])},T(We,ds),Ce(We,"_defaultColor",null),Ce(We,"_defaultOpacity",1),Ce(We,"_defaultThickness",12),Ce(We,"_type","highlight"),Ce(We,"_editorType",Me.HIGHLIGHT),Ce(We,"_freeHighlightId",-1),Ce(We,"_freeHighlight",null),Ce(We,"_freeHighlightClipId","");let xp=We;var Ca,ka,ui,Ki,cs,Ta,Ra,Pa,Yi,Eu,La,Ma,to,ne,F_,N_,D_,O_,_v,j_,xv,H_,B_,z_,U_,$_,Fo,Cv,kv,Tv,cp,hp,bl,Rv,dp,lr,V_,Pv,W_,G_,Lv,fp,Oc;const ht=class ht extends Ye{constructor(t){super({...t,name:"inkEditor"});T(this,ne);T(this,Ca,0);T(this,ka,0);T(this,ui,null);T(this,Ki,new Path2D);T(this,cs,!1);T(this,Ta,null);T(this,Ra,!1);T(this,Pa,!1);T(this,Yi,null);T(this,Eu,null);T(this,La,0);T(this,Ma,0);T(this,to,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){Ye.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case ke.INK_THICKNESS:ht._defaultThickness=n;break;case ke.INK_COLOR:ht._defaultColor=n;break;case ke.INK_OPACITY:ht._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case ke.INK_THICKNESS:x(this,ne,F_).call(this,n);break;case ke.INK_COLOR:x(this,ne,N_).call(this,n);break;case ke.INK_OPACITY:x(this,ne,D_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ke.INK_THICKNESS,ht._defaultThickness],[ke.INK_COLOR,ht._defaultColor||Ye._defaultLineColor],[ke.INK_OPACITY,Math.round(ht._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ke.INK_THICKNESS,this.thickness||ht._defaultThickness],[ke.INK_COLOR,this.color||ht._defaultColor||Ye._defaultLineColor],[ke.INK_OPACITY,Math.round(100*(this.opacity??ht._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(x(this,ne,cp).call(this),x(this,ne,hp).call(this)),this.isAttachedToDOM||(this.parent.add(this),x(this,ne,bl).call(this)),x(this,ne,Oc).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,ui)&&(clearTimeout(c(this,ui)),b(this,ui,null)),(t=c(this,Yi))==null||t.disconnect(),b(this,Yi,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,r=this.width*t,o=this.height*n;this.setDimensions(r,o)}enableEditMode(){c(this,cs)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,x(this,ne,Cv).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),x(this,ne,kv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,cs)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,cs,!0),this.div.classList.add("disabled"),x(this,ne,Oc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,cs)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),x(this,ne,j_).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),x(this,ne,xv).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),x(this,ne,Tv).call(this,t)}canvasPointerleave(t){x(this,ne,Tv).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,cs)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,l,h]=x(this,ne,O_).call(this);if(this.setAt(r,o,0,0),this.setDims(l,h),x(this,ne,cp).call(this),this.width){const[d,p]=this.parentDimensions;this.setAspectRatio(this.width*d,this.height*p),this.setAt(t*d,n*p,this.width*d,this.height*p),b(this,Pa,!0),x(this,ne,bl).call(this),this.setDims(this.width*d,this.height*p),x(this,ne,Fo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return x(this,ne,hp).call(this),this.div}setDimensions(t,n){const r=Math.round(t),o=Math.round(n);if(c(this,La)===r&&c(this,Ma)===o)return;b(this,La,r),b(this,Ma,o),this.canvas.style.visibility="hidden";const[l,h]=this.parentDimensions;this.width=t/l,this.height=n/h,this.fixAndSetPosition(),c(this,cs)&&x(this,ne,Rv).call(this,t,n),x(this,ne,bl).call(this),x(this,ne,Fo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,r){var k,C,R;if(t instanceof dw)return null;const o=await super.deserialize(t,n,r);o.thickness=t.thickness,o.color=ge.makeHexColor(...t.color),o.opacity=t.opacity;const[l,h]=o.pageDimensions,d=o.width*l,p=o.height*h,g=o.parentScale,y=t.thickness/2;b(o,cs,!0),b(o,La,Math.round(d)),b(o,Ma,Math.round(p));const{paths:v,rect:A,rotation:E}=t;for(let{bezier:L}of v){L=x(k=ht,lr,W_).call(k,L,A,E);const I=[];o.paths.push(I);let j=g*(L[0]-y),O=g*(L[1]-y);for(let W=2,X=L.length;W<X;W+=6){const te=g*(L[W]-y),se=g*(L[W+1]-y),_e=g*(L[W+2]-y),pe=g*(L[W+3]-y),de=g*(L[W+4]-y),Ae=g*(L[W+5]-y);I.push([[j,O],[te,se],[_e,pe],[de,Ae]]),j=de,O=Ae}const z=x(this,lr,V_).call(this,I);o.bezierPath2D.push(z)}const S=x(C=o,ne,Lv).call(C);return b(o,ka,Math.max(Ye.MIN_SIZE,S[2]-S[0])),b(o,Ca,Math.max(Ye.MIN_SIZE,S[3]-S[1])),x(R=o,ne,Rv).call(R,d,p),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=Ye._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Me.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:x(this,ne,G_).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ca=new WeakMap,ka=new WeakMap,ui=new WeakMap,Ki=new WeakMap,cs=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,Pa=new WeakMap,Yi=new WeakMap,Eu=new WeakMap,La=new WeakMap,Ma=new WeakMap,to=new WeakMap,ne=new WeakSet,F_=function(t){const n=o=>{this.thickness=o,x(this,ne,Oc).call(this)},r=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},N_=function(t){const n=o=>{this.color=o,x(this,ne,Fo).call(this)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},D_=function(t){const n=o=>{this.opacity=o,x(this,ne,Fo).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},O_=function(){const{parentRotation:t,parentDimensions:[n,r]}=this;switch(t){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}},_v=function(){const{ctx:t,color:n,opacity:r,thickness:o,parentScale:l,scaleFactor:h}=this;t.lineWidth=o*l/h,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${JR(r)}`},j_=function(t,n){this.canvas.addEventListener("contextmenu",ps,{signal:this._uiManager._signal}),x(this,ne,kv).call(this),b(this,Ta,new AbortController);const r=this._uiManager.combinedSignal(c(this,Ta));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,c(this,Pa)||(b(this,Pa,!0),x(this,ne,bl).call(this),this.thickness||(this.thickness=ht._defaultThickness),this.color||(this.color=ht._defaultColor||Ye._defaultLineColor),this.opacity??(this.opacity=ht._defaultOpacity)),this.currentPath.push([t,n]),b(this,Ra,!1),x(this,ne,_v).call(this),b(this,to,()=>{x(this,ne,z_).call(this),c(this,to)&&window.requestAnimationFrame(c(this,to))}),window.requestAnimationFrame(c(this,to))},xv=function(t,n){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&n===o)return;const l=this.currentPath;let h=c(this,Ki);if(l.push([t,n]),b(this,Ra,!0),l.length<=2){h.moveTo(...l[0]),h.lineTo(t,n);return}l.length===3&&(b(this,Ki,h=new Path2D),h.moveTo(...l[0])),x(this,ne,U_).call(this,h,...l.at(-3),...l.at(-2),t,n)},H_=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,Ki).lineTo(...t)},B_=function(t,n){b(this,to,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),x(this,ne,xv).call(this,t,n),x(this,ne,H_).call(this);let r;if(this.currentPath.length!==1)r=x(this,ne,$_).call(this);else{const p=[t,n];r=[[p,p.slice(),p.slice(),p]]}const o=c(this,Ki),l=this.currentPath;this.currentPath=[],b(this,Ki,new Path2D);const h=()=>{this.allRawPaths.push(l),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},d=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(x(this,ne,cp).call(this),x(this,ne,hp).call(this)),x(this,ne,Oc).call(this))};this.addCommands({cmd:h,undo:d,mustExec:!0})},z_=function(){if(!c(this,Ra))return;b(this,Ra,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(h=>h[0]),o=n.map(h=>h[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)l.stroke(h);l.stroke(c(this,Ki)),l.restore()},U_=function(t,n,r,o,l,h,d){const p=(n+o)/2,g=(r+l)/2,y=(o+h)/2,v=(l+d)/2;t.bezierCurveTo(p+2*(o-p)/3,g+2*(l-g)/3,y+2*(o-y)/3,v+2*(l-v)/3,y,v)},$_=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let r,[o,l]=t[0];for(r=1;r<t.length-2;r++){const[A,E]=t[r],[S,k]=t[r+1],C=(A+S)/2,R=(E+k)/2,L=[o+2*(A-o)/3,l+2*(E-l)/3],I=[C+2*(A-C)/3,R+2*(E-R)/3];n.push([[o,l],L,I,[C,R]]),[o,l]=[C,R]}const[h,d]=t[r],[p,g]=t[r+1],y=[o+2*(h-o)/3,l+2*(d-l)/3],v=[p+2*(h-p)/3,g+2*(d-g)/3];return n.push([[o,l],y,v,[p,g]]),n},Fo=function(){if(this.isEmpty()){x(this,ne,dp).call(this);return}x(this,ne,_v).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),x(this,ne,dp).call(this);for(const r of this.bezierPath2D)n.stroke(r)},Cv=function(){if(c(this,Eu))return;b(this,Eu,new AbortController);const t=this._uiManager.combinedSignal(c(this,Eu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},kv=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},Tv=function(t){var n;(n=c(this,Ta))==null||n.abort(),b(this,Ta,null),x(this,ne,Cv).call(this),c(this,ui)&&clearTimeout(c(this,ui)),b(this,ui,setTimeout(()=>{b(this,ui,null),this.canvas.removeEventListener("contextmenu",ps)},10)),x(this,ne,B_).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},cp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},hp=function(){b(this,Yi,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),c(this,Yi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Yi))==null||t.disconnect(),b(this,Yi,null)},{once:!0})},bl=function(){if(!c(this,Pa))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),x(this,ne,dp).call(this)},Rv=function(t,n){const r=x(this,ne,fp).call(this),o=(t-r)/c(this,ka),l=(n-r)/c(this,Ca);this.scaleFactor=Math.min(o,l)},dp=function(){const t=x(this,ne,fp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},lr=new WeakSet,V_=function(t){const n=new Path2D;for(let r=0,o=t.length;r<o;r++){const[l,h,d,p]=t[r];r===0&&n.moveTo(...l),n.bezierCurveTo(h[0],h[1],d[0],d[1],p[0],p[1])}return n},Pv=function(t,n,r){const[o,l,h,d]=n;switch(r){case 0:for(let p=0,g=t.length;p<g;p+=2)t[p]+=o,t[p+1]=d-t[p+1];break;case 90:for(let p=0,g=t.length;p<g;p+=2){const y=t[p];t[p]=t[p+1]+o,t[p+1]=y+l}break;case 180:for(let p=0,g=t.length;p<g;p+=2)t[p]=h-t[p],t[p+1]+=l;break;case 270:for(let p=0,g=t.length;p<g;p+=2){const y=t[p];t[p]=h-t[p+1],t[p+1]=d-y}break;default:throw new Error("Invalid rotation")}return t},W_=function(t,n,r){const[o,l,h,d]=n;switch(r){case 0:for(let p=0,g=t.length;p<g;p+=2)t[p]-=o,t[p+1]=d-t[p+1];break;case 90:for(let p=0,g=t.length;p<g;p+=2){const y=t[p];t[p]=t[p+1]-l,t[p+1]=y-o}break;case 180:for(let p=0,g=t.length;p<g;p+=2)t[p]=h-t[p],t[p+1]-=l;break;case 270:for(let p=0,g=t.length;p<g;p+=2){const y=t[p];t[p]=d-t[p+1],t[p+1]=h-y}break;default:throw new Error("Invalid rotation")}return t},G_=function(t,n,r,o){var g,y;const l=[],h=this.thickness/2,d=t*n+h,p=t*r+h;for(const v of this.paths){const A=[],E=[];for(let S=0,k=v.length;S<k;S++){const[C,R,L,I]=v[S];if(C[0]===I[0]&&C[1]===I[1]&&k===1){const pe=t*C[0]+d,de=t*C[1]+p;A.push(pe,de),E.push(pe,de);break}const j=t*C[0]+d,O=t*C[1]+p,z=t*R[0]+d,W=t*R[1]+p,X=t*L[0]+d,te=t*L[1]+p,se=t*I[0]+d,_e=t*I[1]+p;S===0&&(A.push(j,O),E.push(j,O)),A.push(z,W,X,te,se,_e),E.push(z,W),S===k-1&&E.push(se,_e)}l.push({bezier:x(g=ht,lr,Pv).call(g,A,o,this.rotation),points:x(y=ht,lr,Pv).call(y,E,o,this.rotation)})}return l},Lv=function(){let t=1/0,n=-1/0,r=1/0,o=-1/0;for(const l of this.paths)for(const[h,d,p,g]of l){const y=ge.bezierBoundingBox(...h,...d,...p,...g);t=Math.min(t,y[0]),r=Math.min(r,y[1]),n=Math.max(n,y[2]),o=Math.max(o,y[3])}return[t,r,n,o]},fp=function(){return c(this,cs)?Math.ceil(this.thickness*this.parentScale):0},Oc=function(t=!1){if(this.isEmpty())return;if(!c(this,cs)){x(this,ne,Fo).call(this);return}const n=x(this,ne,Lv).call(this),r=x(this,ne,fp).call(this);b(this,ka,Math.max(Ye.MIN_SIZE,n[2]-n[0])),b(this,Ca,Math.max(Ye.MIN_SIZE,n[3]-n[1]));const o=Math.ceil(r+c(this,ka)*this.scaleFactor),l=Math.ceil(r+c(this,Ca)*this.scaleFactor),[h,d]=this.parentDimensions;this.width=o/h,this.height=l/d,this.setAspectRatio(o,l);const p=this.translationX,g=this.translationY;this.translationX=-n[0],this.translationY=-n[1],x(this,ne,bl).call(this),x(this,ne,Fo).call(this),b(this,La,o),b(this,Ma,l),this.setDims(o,l);const y=t?r/this.scaleFactor/2:0;this.translate(p-this.translationX-y,g-this.translationY-y)},T(ht,lr),Ce(ht,"_defaultColor",null),Ce(ht,"_defaultOpacity",1),Ce(ht,"_defaultThickness",1),Ce(ht,"_type","ink"),Ce(ht,"_editorType",Me.INK);let bv=ht;var ft,Qt,no,Qi,so,Su,ci,Ji,hi,qn,bu,Be,jc,Hc,pp,Iv,q_,gp,Fv,mp,X_,K_;const Uc=class Uc extends Ye{constructor(t){super({...t,name:"stampEditor"});T(this,Be);T(this,ft,null);T(this,Qt,null);T(this,no,null);T(this,Qi,null);T(this,so,null);T(this,Su,"");T(this,ci,null);T(this,Ji,null);T(this,hi,null);T(this,qn,!1);T(this,bu,!1);b(this,Qi,t.bitmapUrl),b(this,so,t.bitmapFile)}static initialize(t,n){Ye.initialize(t,n)}static get supportedTypes(){return ze(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return ze(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Me.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:l,height:h}=t||this.copyCanvas(null,null,!0).imageData,d=await r.guess({name:"altText",request:{data:o,width:l,height:h,channels:o.length/(l*h)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const p=d.output;return await this.setGuessedAltText(p),n&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var t,n;c(this,Qt)&&(b(this,ft,null),this._uiManager.imageManager.deleteId(c(this,Qt)),(t=c(this,ci))==null||t.remove(),b(this,ci,null),(n=c(this,Ji))==null||n.disconnect(),b(this,Ji,null),c(this,hi)&&(clearTimeout(c(this,hi)),b(this,hi,null))),super.remove()}rebuild(){if(!this.parent){c(this,Qt)&&x(this,Be,pp).call(this);return}super.rebuild(),this.div!==null&&(c(this,Qt)&&c(this,ci)===null&&x(this,Be,pp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,no)||c(this,ft)||c(this,Qi)||c(this,so)||c(this,Qt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),c(this,ft)?x(this,Be,Iv).call(this):x(this,Be,pp).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(t*r,n*o,this.width*r,this.height*o)}return this.div}copyCanvas(t,n,r=!1){var A;t||(t=224);const{width:o,height:l}=c(this,ft),h=new Ty;let d=c(this,ft),p=o,g=l,y=null;if(n){if(o>n||l>n){const W=Math.min(n/o,n/l);p=Math.floor(o*W),g=Math.floor(l*W)}y=document.createElement("canvas");const E=y.width=Math.ceil(p*h.sx),S=y.height=Math.ceil(g*h.sy);c(this,qn)||(d=x(this,Be,gp).call(this,E,S));const k=y.getContext("2d");k.filter=this._uiManager.hcmFilter;let C="white",R="#cfcfd8";this._uiManager.hcmFilter!=="none"?R="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",R="#42414d");const L=15,I=L*h.sx,j=L*h.sy,O=new OffscreenCanvas(I*2,j*2),z=O.getContext("2d");z.fillStyle=C,z.fillRect(0,0,I*2,j*2),z.fillStyle=R,z.fillRect(0,0,I,j),z.fillRect(I,j,I,j),k.fillStyle=k.createPattern(O,"repeat"),k.fillRect(0,0,E,S),k.drawImage(d,0,0,d.width,d.height,0,0,E,S)}let v=null;if(r){let E,S;if(h.symmetric&&d.width<t&&d.height<t)E=d.width,S=d.height;else if(d=c(this,ft),o>t||l>t){const R=Math.min(t/o,t/l);E=Math.floor(o*R),S=Math.floor(l*R),c(this,qn)||(d=x(this,Be,gp).call(this,E,S))}const C=new OffscreenCanvas(E,S).getContext("2d",{willReadFrequently:!0});C.drawImage(d,0,0,d.width,d.height,0,0,E,S),v={width:E,height:S,data:C.getImageData(0,0,E,S).data}}return{canvas:y,width:p,height:g,imageData:v}}getImageForAltText(){return c(this,ci)}static async deserialize(t,n,r){var S;let o=null;if(t instanceof r_){const{data:{rect:k,rotation:C,id:R,structParent:L,popupRef:I},container:j,parent:{page:{pageNumber:O}}}=t,z=j.querySelector("canvas"),W=r.imageManager.getFromCanvas(j.id,z);z.remove();const X=((S=await n._structTree.getAriaAttributes(`${tw}${R}`))==null?void 0:S.get("aria-label"))||"";o=t={annotationType:Me.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:O-1,rect:k.slice(0),rotation:C,id:R,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:L,popupRef:I}}const l=await super.deserialize(t,n,r),{rect:h,bitmap:d,bitmapUrl:p,bitmapId:g,isSvg:y,accessibilityData:v}=t;g&&r.imageManager.isValidId(g)?(b(l,Qt,g),d&&b(l,ft,d)):b(l,Qi,p),b(l,qn,y);const[A,E]=l.pageDimensions;return l.width=(h[2]-h[0])/A,l.height=(h[3]-h[1])/E,l.annotationElementId=t.id||null,v&&(l.altTextData=v),l._initialData=o,b(l,bu,!!o),l}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Me.STAMP,bitmapId:c(this,Qt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,qn),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=x(this,Be,mp).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:l}=this.serializeAltText(!1);if(!o&&l&&(r.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const d=x(this,Be,K_).call(this,r);if(d.isSame)return null;d.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const h=c(this,qn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(c(this,Qt)))n.stamps.set(c(this,Qt),{area:h,serialized:r}),r.bitmap=x(this,Be,mp).call(this,!1);else if(c(this,qn)){const d=n.stamps.get(c(this,Qt));h>d.area&&(d.area=h,d.serialized.bitmap.close(),d.serialized.bitmap=x(this,Be,mp).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};ft=new WeakMap,Qt=new WeakMap,no=new WeakMap,Qi=new WeakMap,so=new WeakMap,Su=new WeakMap,ci=new WeakMap,Ji=new WeakMap,hi=new WeakMap,qn=new WeakMap,bu=new WeakMap,Be=new WeakSet,jc=function(t,n=!1){if(!t){this.remove();return}b(this,ft,t.bitmap),n||(b(this,Qt,t.id),b(this,qn,t.isSvg)),t.file&&b(this,Su,t.file.name),x(this,Be,Iv).call(this)},Hc=function(){if(b(this,no,null),this._uiManager.enableWaiting(!1),!!c(this,ci)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,ft)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,ft)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},pp=function(){if(c(this,Qt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Qt)).then(r=>x(this,Be,jc).call(this,r,!0)).finally(()=>x(this,Be,Hc).call(this));return}if(c(this,Qi)){const r=c(this,Qi);b(this,Qi,null),this._uiManager.enableWaiting(!0),b(this,no,this._uiManager.imageManager.getFromUrl(r).then(o=>x(this,Be,jc).call(this,o)).finally(()=>x(this,Be,Hc).call(this)));return}if(c(this,so)){const r=c(this,so);b(this,so,null),this._uiManager.enableWaiting(!0),b(this,no,this._uiManager.imageManager.getFromFile(r).then(o=>x(this,Be,jc).call(this,o)).finally(()=>x(this,Be,Hc).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Uc.supportedTypesStr;const n=this._uiManager._signal;b(this,no,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),x(this,Be,jc).call(this,o)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>x(this,Be,Hc).call(this))),t.click()},Iv=function(){const{div:t}=this;let{width:n,height:r}=c(this,ft);const[o,l]=this.pageDimensions,h=.75;if(this.width)n=this.width*o,r=this.height*l;else if(n>h*o||r>h*l){const y=Math.min(h*o/n,h*l/r);n*=y,r*=y}const[d,p]=this.parentDimensions;this.setDims(n*d/o,r*p/l),this._uiManager.enableWaiting(!1);const g=b(this,ci,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),x(this,Be,Fv).call(this,n,r),x(this,Be,X_).call(this),c(this,bu)||(this.parent.addUndoableEditor(this),b(this,bu,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Su)&&g.setAttribute("aria-label",c(this,Su))},q_=function(t,n){var h;const[r,o]=this.parentDimensions;this.width=t/r,this.height=n/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,hi)!==null&&clearTimeout(c(this,hi)),b(this,hi,setTimeout(()=>{b(this,hi,null),x(this,Be,Fv).call(this,t,n)},200))},gp=function(t,n){const{width:r,height:o}=c(this,ft);let l=r,h=o,d=c(this,ft);for(;l>2*t||h>2*n;){const p=l,g=h;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),h>2*n&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const y=new OffscreenCanvas(l,h);y.getContext("2d").drawImage(d,0,0,p,g,0,0,l,h),d=y.transferToImageBitmap()}return d},Fv=function(t,n){const r=new Ty,o=Math.ceil(t*r.sx),l=Math.ceil(n*r.sy),h=c(this,ci);if(!h||h.width===o&&h.height===l)return;h.width=o,h.height=l;const d=c(this,qn)?c(this,ft):x(this,Be,gp).call(this,o,l),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(d,0,0,d.width,d.height,0,0,o,l)},mp=function(t){if(t){if(c(this,qn)){const o=this._uiManager.imageManager.getSvgUrl(c(this,Qt));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=c(this,ft),n.getContext("2d").drawImage(c(this,ft),0,0),n.toDataURL()}if(c(this,qn)){const[n,r]=this.pageDimensions,o=Math.round(this.width*n*lo.PDF_TO_CSS_UNITS),l=Math.round(this.height*r*lo.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(o,l);return h.getContext("2d").drawImage(c(this,ft),0,0,c(this,ft).width,c(this,ft).height,0,0,o,l),h.transferToImageBitmap()}return structuredClone(c(this,ft))},X_=function(){this._uiManager._signal&&(b(this,Ji,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&x(this,Be,q_).call(this,n.width,n.height)})),c(this,Ji).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Ji))==null||t.disconnect(),b(this,Ji,null)},{once:!0}))},K_=function(t){var p;const{rect:n,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,l=t.rect.every((g,y)=>Math.abs(g-n[y])<1),h=t.pageIndex===r,d=(((p=t.accessibilityData)==null?void 0:p.alt)||"")===o;return{isSame:l&&h&&d,isSameAltText:d}},Ce(Uc,"_type","stamp"),Ce(Uc,"_editorType",Me.STAMP);let Mv=Uc;var Ia,_u,di,io,Zi,Xn,ro,xu,Cu,un,er,we,oo,Jt,Y_,Dv,Ov,jv,yp;const bs=class bs{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:h,textLayer:d,viewport:p,l10n:g}){T(this,Jt);T(this,Ia);T(this,_u,!1);T(this,di,null);T(this,io,null);T(this,Zi,null);T(this,Xn,new Map);T(this,ro,!1);T(this,xu,!1);T(this,Cu,!1);T(this,un,null);T(this,er,null);T(this,we);const y=[...c(bs,oo).values()];if(!bs._initialized){bs._initialized=!0;for(const v of y)v.initialize(g,e)}e.registerEditorTypes(y),b(this,we,e),this.pageIndex=t,this.div=n,b(this,Ia,o),b(this,di,l),this.viewport=p,b(this,un,d),this.drawLayer=h,this._structTree=r,c(this,we).addLayer(this)}get isEmpty(){return c(this,Xn).size===0}get isInvisible(){return this.isEmpty&&c(this,we).getMode()===Me.NONE}updateToolbar(e){c(this,we).updateToolbar(e)}updateMode(e=c(this,we).getMode()){switch(x(this,Jt,yp).call(this),e){case Me.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Me.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of c(bs,oo).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,un))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,we).getMode()!==Me.INK)return;if(!e){for(const n of c(this,Xn).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,we).setEditingState(e)}addCommands(e){c(this,we).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,di))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of c(this,Xn).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(c(this,we).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!c(this,di))return;const t=c(this,di).getEditableAnnotations();for(const n of t){if(n.hide(),c(this,we).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;b(this,Cu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of c(this,Xn).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(c(this,di)){const o=c(this,di).getEditableAnnotations();for(const l of o){const{id:h}=l.data;if(c(this,we).isDeletedAnnotationElement(h))continue;let d=t.get(h);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=e.get(h),d&&(c(this,we).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}x(this,Jt,yp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of c(bs,oo).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,Cu,!1)}getEditableAnnotation(e){var t;return((t=c(this,di))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,we).getActive()!==e&&c(this,we).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=c(this,un))!=null&&e.div&&!c(this,er)){b(this,er,new AbortController);const t=c(this,we).combinedSignal(c(this,er));c(this,un).div.addEventListener("pointerdown",x(this,Jt,Y_).bind(this),{signal:t}),c(this,un).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,un))!=null&&e.div&&c(this,er)&&(c(this,er).abort(),b(this,er,null),c(this,un).div.classList.remove("highlighting"))}enableClick(){if(c(this,io))return;b(this,io,new AbortController);const e=c(this,we).combinedSignal(c(this,io));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=c(this,io))==null||e.abort(),b(this,io,null)}attach(e){c(this,Xn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,we).isDeletedAnnotationElement(t)&&c(this,we).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,Xn).delete(e.id),(t=c(this,Ia))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,Cu)&&e.annotationElementId&&c(this,we).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,we).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,xu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,we).addDeletedAnnotationElement(e.annotationElementId),Ye.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,we).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,we).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,Zi)&&(e._focusEventsAllowed=!1,b(this,Zi,setTimeout(()=>{b(this,Zi,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,we)._signal}),t.focus())},0))),e._structTreeParentId=(n=c(this,Ia))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return c(this,we).getId()}combinedSignal(e){return c(this,we).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=c(this,Jt,Dv))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,we).updateToolbar(e),c(this,we).updateMode(e);const{offsetX:n,offsetY:r}=x(this,Jt,jv).call(this),o=this.getNextId(),l=x(this,Jt,Ov).call(this,{parent:this,id:o,x:n,y:r,uiManager:c(this,we),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=c(bs,oo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,we)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),o=x(this,Jt,Ov).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,we),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(x(this,Jt,jv).call(this),!0)}setSelected(e){c(this,we).setSelected(e)}toggleSelected(e){c(this,we).toggleSelected(e)}unselect(e){c(this,we).unselect(e)}pointerup(e){const{isMac:t}=wn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,ro)){if(b(this,ro,!1),!c(this,_u)){b(this,_u,!0);return}if(c(this,we).getMode()===Me.STAMP){c(this,we).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,we).getMode()===Me.HIGHLIGHT&&this.enableTextSelection(),c(this,ro)){b(this,ro,!1);return}const{isMac:t}=wn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;b(this,ro,!0);const n=c(this,we).getActive();b(this,_u,!n||n.isEmpty())}findNewParent(e,t,n){const r=c(this,we).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=c(this,we).getActive())==null?void 0:e.parent)===this&&(c(this,we).commitOrRemove(),c(this,we).setActiveEditor(null)),c(this,Zi)&&(clearTimeout(c(this,Zi)),b(this,Zi,null));for(const n of c(this,Xn).values())(t=c(this,Ia))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,c(this,Xn).clear(),c(this,we).removeLayer(this)}render({viewport:e}){this.viewport=e,Da(this.div,e);for(const t of c(this,we).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,we).commitOrRemove(),x(this,Jt,yp).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Da(this.div,{rotation:n}),t!==n)for(const r of c(this,Xn).values())r.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,we).viewParameters.realScale}};Ia=new WeakMap,_u=new WeakMap,di=new WeakMap,io=new WeakMap,Zi=new WeakMap,Xn=new WeakMap,ro=new WeakMap,xu=new WeakMap,Cu=new WeakMap,un=new WeakMap,er=new WeakMap,we=new WeakMap,oo=new WeakMap,Jt=new WeakSet,Y_=function(e){c(this,we).unselectAll();const{target:t}=e;if(t===c(this,un).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&c(this,un).div.contains(t)){const{isMac:n}=wn.platform;if(e.button!==0||e.ctrlKey&&n)return;c(this,we).showAllEditors("highlight",!0,!0),c(this,un).div.classList.add("free"),this.toggleDrawing(),xp.startHighlighting(this,c(this,we).direction==="ltr",{target:c(this,un).div,x:e.x,y:e.y}),c(this,un).div.addEventListener("pointerup",()=>{c(this,un).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,we)._signal}),e.preventDefault()}},Dv=function(){return c(bs,oo).get(c(this,we).getMode())},Ov=function(e){const t=c(this,Jt,Dv);return t?new t.prototype.constructor(e):null},jv=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),h=Math.min(window.innerWidth,e+n),d=Math.min(window.innerHeight,t+r),p=(o+h)/2-e,g=(l+d)/2-t,[y,v]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:y,offsetY:v}},yp=function(){b(this,xu,!0);for(const e of c(this,Xn).values())e.isEmpty()&&e.remove();b(this,xu,!1)},Ce(bs,"_initialized",!1),T(bs,oo,new Map([pv,bv,Mv,xp].map(e=>[e._editorType,e])));let Nv=bs;var fi,od,Ct,tr,ad,Bv,za,zv,Q_;const Xt=class Xt{constructor({pageIndex:e}){T(this,za);T(this,fi,null);T(this,od,0);T(this,Ct,new Map);T(this,tr,new Map);this.pageIndex=e}setParent(e){if(!c(this,fi)){b(this,fi,e);return}if(c(this,fi)!==e){if(c(this,Ct).size>0)for(const t of c(this,Ct).values())t.remove(),e.append(t);b(this,fi,e)}}static get _svgFactory(){return ze(this,"_svgFactory",new hw)}draw(e,t,n,r=!1){const o=gn(this,od)._++,l=x(this,za,zv).call(this,e.box);l.classList.add(...e.classNamesForDrawing);const h=Xt._svgFactory.createElement("defs");l.append(h);const d=Xt._svgFactory.createElement("path");h.append(d);const p=`path_p${this.pageIndex}_${o}`;d.setAttribute("id",p),d.setAttribute("d",e.toSVGPath()),r&&c(this,tr).set(o,d);const g=x(this,za,Q_).call(this,h,p),y=Xt._svgFactory.createElement("use");return l.append(y),l.setAttribute("fill",t),l.setAttribute("fill-opacity",n),y.setAttribute("href",`#${p}`),c(this,Ct).set(o,l),{id:o,clipPathId:`url(#${g})`}}drawOutline(e){const t=gn(this,od)._++,n=x(this,za,zv).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const r=Xt._svgFactory.createElement("defs");n.append(r);const o=Xt._svgFactory.createElement("path");r.append(o);const l=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e.mustRemoveSelfIntersections){const g=Xt._svgFactory.createElement("mask");r.append(g),h=`mask_p${this.pageIndex}_${t}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const y=Xt._svgFactory.createElement("rect");g.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const v=Xt._svgFactory.createElement("use");g.append(v),v.setAttribute("href",`#${l}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=Xt._svgFactory.createElement("use");n.append(d),d.setAttribute("href",`#${l}`),h&&d.setAttribute("mask",`url(#${h})`);const p=d.cloneNode();return n.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),c(this,Ct).set(t,n),t}finalizeLine(e,t){const n=c(this,tr).get(e);c(this,tr).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,Ct).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){c(this,tr).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;x(n=Xt,ad,Bv).call(n,c(this,Ct).get(e),t)}show(e,t){c(this,Ct).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,Ct).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,Ct).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,Ct).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,Ct).get(e).classList.add(t)}removeClass(e,t){c(this,Ct).get(e).classList.remove(t)}getSVGRoot(e){return c(this,Ct).get(e)}remove(e){c(this,tr).delete(e),c(this,fi)!==null&&(c(this,Ct).get(e).remove(),c(this,Ct).delete(e))}destroy(){b(this,fi,null);for(const e of c(this,Ct).values())e.remove();c(this,Ct).clear(),c(this,tr).clear()}};fi=new WeakMap,od=new WeakMap,Ct=new WeakMap,tr=new WeakMap,ad=new WeakSet,Bv=function(e,{x:t=0,y:n=0,width:r=1,height:o=1}={}){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*o}%`},za=new WeakSet,zv=function(e){var n;const t=Xt._svgFactory.create(1,1,!0);return c(this,fi).append(t),t.setAttribute("aria-hidden",!0),x(n=Xt,ad,Bv).call(n,t,e),t},Q_=function(e,t){const n=Xt._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Xt._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},T(Xt,ad);let Hv=Xt;var LL=Re.AbortException,ML=Re.AnnotationEditorLayer,IL=Re.AnnotationEditorParamsType,FL=Re.AnnotationEditorType,NL=Re.AnnotationEditorUIManager,J_=Re.AnnotationLayer,Z_=Re.AnnotationMode,DL=Re.ColorPicker,OL=Re.DOMSVGFactory,jL=Re.DrawLayer,HL=Re.FeatureTest,ex=Re.GlobalWorkerOptions,BL=Re.ImageKind,zL=Re.InvalidPDFException,UL=Re.MissingPDFException,$L=Re.OPS,VL=Re.OutputScale,WL=Re.PDFDataRangeTransport,GL=Re.PDFDateString,qL=Re.PDFWorker,XL=Re.PasswordResponses,KL=Re.PermissionFlag,YL=Re.PixelsPerInch,QL=Re.RenderingCancelledException,tx=Re.TextLayer,JL=Re.UnexpectedResponseException,ZL=Re.Util,eM=Re.VerbosityLevel,tM=Re.XfaLayer,nM=Re.build,sM=Re.createValidAbsoluteUrl,iM=Re.fetchData,nx=Re.getDocument,rM=Re.getFilenameFromUrl,oM=Re.getPdfFilenameFromUrl,aM=Re.getXfaPageViewport,lM=Re.isDataScheme,uM=Re.isPdfFile,cM=Re.noContextMenu,hM=Re.normalizeUnicode,dM=Re.setLayerDimensions,fM=Re.shadow,pM=Re.version;const gM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:LL,AnnotationEditorLayer:ML,AnnotationEditorParamsType:IL,AnnotationEditorType:FL,AnnotationEditorUIManager:NL,AnnotationLayer:J_,AnnotationMode:Z_,ColorPicker:DL,DOMSVGFactory:OL,DrawLayer:jL,FeatureTest:HL,GlobalWorkerOptions:ex,ImageKind:BL,InvalidPDFException:zL,MissingPDFException:UL,OPS:$L,OutputScale:VL,PDFDataRangeTransport:WL,PDFDateString:GL,PDFWorker:qL,PasswordResponses:XL,PermissionFlag:KL,PixelsPerInch:YL,RenderingCancelledException:QL,TextLayer:tx,UnexpectedResponseException:JL,Util:ZL,VerbosityLevel:eM,XfaLayer:tM,build:nM,createValidAbsoluteUrl:sM,fetchData:iM,getDocument:nx,getFilenameFromUrl:rM,getPdfFilenameFromUrl:oM,getXfaPageViewport:aM,isDataScheme:lM,isPdfFile:uM,noContextMenu:cM,normalizeUnicode:hM,setLayerDimensions:dM,shadow:fM,version:pM},Symbol.toStringTag,{value:"Module"}));var Bt=function(a,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return a.concat(o||Array.prototype.slice.call(e))},mM=["onCopy","onCut","onPaste"],yM=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],vM=["onFocus","onBlur"],wM=["onInput","onInvalid","onReset","onSubmit"],AM=["onLoad","onError"],EM=["onKeyDown","onKeyPress","onKeyUp"],SM=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],bM=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],_M=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],xM=["onSelect"],CM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],kM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],TM=["onScroll"],RM=["onWheel"],PM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],LM=["onTransitionEnd"],MM=["onToggle"],IM=["onChange"],FM=Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt([],mM,!0),yM,!0),vM,!0),wM,!0),AM,!0),EM,!0),SM,!0),bM,!0),_M,!0),xM,!0),CM,!0),kM,!0),TM,!0),RM,!0),PM,!0),LM,!0),IM,!0),MM,!0);function sx(a,e){var t={};return FM.forEach(function(n){var r=a[n];r&&(e?t[n]=function(o){return r(o,e(n))}:t[n]=r)}),t}function md(a){var e=!1,t=new Promise(function(n,r){a.then(function(o){return!e&&n(o)}).catch(function(o){return!e&&r(o)})});return{promise:t,cancel:function(){e=!0}}}function ix(a){var e,t,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(e=0;e<r;e++)a[e]&&(t=ix(a[e]))&&(n&&(n+=" "),n+=t)}else for(t in a)a[t]&&(n&&(n+=" "),n+=t);return n}function rg(){for(var a,e,t=0,n="",r=arguments.length;t<r;t++)(a=arguments[t])&&(e=ix(a))&&(n&&(n+=" "),n+=e);return n}var NM="Invariant failed";function Ze(a,e){if(!a)throw new Error(NM)}var gy,QE;function DM(){if(QE)return gy;QE=1;var a=function(){};return gy=a,gy}var OM=DM();const hn=d1(OM);var JE=Object.prototype.hasOwnProperty;function ZE(a,e,t){for(t of a.keys())if(kl(t,e))return t}function kl(a,e){var t,n,r;if(a===e)return!0;if(a&&e&&(t=a.constructor)===e.constructor){if(t===Date)return a.getTime()===e.getTime();if(t===RegExp)return a.toString()===e.toString();if(t===Array){if((n=a.length)===e.length)for(;n--&&kl(a[n],e[n]););return n===-1}if(t===Set){if(a.size!==e.size)return!1;for(n of a)if(r=n,r&&typeof r=="object"&&(r=ZE(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(a.size!==e.size)return!1;for(n of a)if(r=n[0],r&&typeof r=="object"&&(r=ZE(e,r),!r)||!kl(n[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)a=new Uint8Array(a),e=new Uint8Array(e);else if(t===DataView){if((n=a.byteLength)===e.byteLength)for(;n--&&a.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(a)){if((n=a.byteLength)===e.byteLength)for(;n--&&a[n]===e[n];);return n===-1}if(!t||typeof a=="object"){n=0;for(t in a)if(JE.call(a,t)&&++n&&!JE.call(e,t)||!(t in e)||!kl(a[t],e[t]))return!1;return Object.keys(e).length===n}}return a!==a&&e!==e}const rx=N.createContext(null);function Tl({children:a,type:e}){return V.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:a})}const jM="noopener noreferrer nofollow";class HM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ze(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ze(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Ze(this.pdfDocument),Ze(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ze(Array.isArray(t));const n=t[0];new Promise(r=>{Ze(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{Ze(!1)}):typeof n=="number"?r(n):Ze(!1)}).then(r=>{const o=r+1;Ze(this.pdfViewer),Ze(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ze(this.pdfViewer),Ze(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||jM,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const eS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},og=typeof window<"u",ox=og&&window.location.protocol==="file:";function BM(a){return typeof a<"u"}function Po(a){return BM(a)&&a!==null}function zM(a){return typeof a=="string"}function UM(a){return a instanceof ArrayBuffer}function $M(a){return Ze(og),a instanceof Blob}function Uv(a){return zM(a)&&/^data:/.test(a)}function tS(a){Ze(Uv(a));const[e="",t=""]=a.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function VM(){return og&&window.devicePixelRatio||1}const ax="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function nS(){hn(!ox,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${ax}`)}function WM(){hn(!ox,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${ax}`)}function Ha(a){a!=null&&a.cancel&&a.cancel()}function $v(a,e){return Object.defineProperty(a,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function GM(a){return a.name==="RenderingCancelledException"}function qM(a){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(a)})}function XM(a,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function ku(){return N.useReducer(XM,{value:void 0,error:void 0})}var KM=function(a,e,t,n){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function h(g){try{p(n.next(g))}catch(y){l(y)}}function d(g){try{p(n.throw(g))}catch(y){l(y)}}function p(g){g.done?o(g.value):r(g.value).then(h,d)}p((n=n.apply(a,e||[])).next())})},sS=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(t[n[r]]=a[n[r]]);return t};const{PDFDataRangeTransport:YM}=gM,QM=(a,e)=>{switch(e){case eS.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");a(t);break}case eS.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");a(t);break}}};function iS(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const JM=N.forwardRef(function(e,t){var{children:n,className:r,error:o="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:h,file:d,inputRef:p,imageResourcesPath:g,loading:y="Loading PDF…",noData:v="No PDF file specified.",onItemClick:A,onLoadError:E,onLoadProgress:S,onLoadSuccess:k,onPassword:C=QM,onSourceError:R,onSourceSuccess:L,options:I,renderMode:j,rotate:O}=e,z=sS(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,X]=ku(),{value:te,error:se}=W,[_e,pe]=ku(),{value:de,error:Ae}=_e,me=N.useRef(new HM),Z=N.useRef([]),G=N.useRef(void 0),ae=N.useRef(void 0);d&&d!==G.current&&iS(d)&&(hn(!kl(d,G.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),G.current=d),I&&I!==ae.current&&(hn(!kl(I,ae.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ae.current=I);const ee=N.useRef({scrollPageIntoView:Ve=>{const{dest:ot,pageNumber:Tt,pageIndex:wt=Tt-1}=Ve;if(A){A({dest:ot,pageIndex:wt,pageNumber:Tt});return}const zs=Z.current[wt];if(zs){zs.scrollIntoView();return}hn(!1,`An internal link leading to page ${Tt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(t,()=>({linkService:me,pages:Z,viewer:ee}),[]);function D(){L&&L()}function q(){se&&(hn(!1,se.toString()),R&&R(se))}function ue(){X({type:"RESET"})}N.useEffect(ue,[d,X]);const Ee=N.useCallback(()=>KM(this,void 0,void 0,function*(){if(!d)return null;if(typeof d=="string")return Uv(d)?{data:tS(d)}:(nS(),{url:d});if(d instanceof YM)return{range:d};if(UM(d))return{data:d};if(og&&$M(d))return{data:yield qM(d)};if(Ze(typeof d=="object"),Ze(iS(d)),"url"in d&&typeof d.url=="string"){if(Uv(d.url)){const{url:Ve}=d,ot=sS(d,["url"]),Tt=tS(Ve);return Object.assign({data:Tt},ot)}nS()}return d}),[d]);N.useEffect(()=>{const Ve=md(Ee());return Ve.promise.then(ot=>{X({type:"RESOLVE",value:ot})}).catch(ot=>{X({type:"REJECT",error:ot})}),()=>{Ha(Ve)}},[Ee,X]),N.useEffect(()=>{if(!(typeof te>"u")){if(te===!1){q();return}D()}},[te]);function Te(){de&&(k&&k(de),Z.current=new Array(de.numPages),me.current.setDocument(de))}function ve(){Ae&&(hn(!1,Ae.toString()),E&&E(Ae))}N.useEffect(function(){pe({type:"RESET"})},[pe,te]),N.useEffect(function(){if(!te)return;const ot=I?Object.assign(Object.assign({},te),I):te,Tt=nx(ot);S&&(Tt.onProgress=S),C&&(Tt.onPassword=C);const wt=Tt,zs=wt.promise.then(cr=>{pe({type:"RESOLVE",value:cr})}).catch(cr=>{wt.destroyed||pe({type:"REJECT",error:cr})});return()=>{zs.finally(()=>wt.destroy())}},[I,pe,te]),N.useEffect(()=>{if(!(typeof de>"u")){if(de===!1){ve();return}Te()}},[de]),N.useEffect(function(){me.current.setViewer(ee.current),me.current.setExternalLinkRel(l),me.current.setExternalLinkTarget(h)},[l,h]);const ye=N.useCallback((Ve,ot)=>{Z.current[Ve]=ot},[]),Ie=N.useCallback(Ve=>{delete Z.current[Ve]},[]),He=N.useMemo(()=>({imageResourcesPath:g,linkService:me.current,onItemClick:A,pdf:de,registerPage:ye,renderMode:j,rotate:O,unregisterPage:Ie}),[g,A,de,ye,j,O,Ie]),De=N.useMemo(()=>sx(z,()=>de),[z,de]);function Bs(){return V.jsx(rx.Provider,{value:He,children:n})}function ur(){return d?de==null?V.jsx(Tl,{type:"loading",children:typeof y=="function"?y():y}):de===!1?V.jsx(Tl,{type:"error",children:typeof o=="function"?o():o}):Bs():V.jsx(Tl,{type:"no-data",children:typeof v=="function"?v():v})}return V.jsx("div",Object.assign({className:rg("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},De,{children:ur()}))});function lx(){return N.useContext(rx)}function ux(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var t=a.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){t.forEach(function(l){typeof l=="function"?l(o):l&&(l.current=o)})}}const cx=N.createContext(null),hx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},ZM=/^H(\d+)$/;function eI(a){return a in hx}function ag(a){return"children"in a}function dx(a){return ag(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function tI(a){const e={};if(ag(a)){const{role:t}=a,n=t.match(ZM);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(eI(t)){const r=hx[t];r&&(e.role=r)}}return e}function fx(a){const e={};if(ag(a)){if(a.alt!==void 0&&(e["aria-label"]=a.alt),a.lang!==void 0&&(e.lang=a.lang),dx(a)){const[t]=a.children;if(t){const n=fx(t);return Object.assign(Object.assign({},e),n)}}}else"id"in a&&(e["aria-owns"]=a.id);return e}function nI(a){return a?Object.assign(Object.assign({},tI(a)),fx(a)):null}function px({className:a,node:e}){const t=N.useMemo(()=>nI(e),[e]),n=N.useMemo(()=>!ag(e)||dx(e)?null:e.children.map((r,o)=>V.jsx(px,{node:r},o)),[e]);return V.jsx("span",Object.assign({className:a},t,{children:n}))}function lg(){return N.useContext(cx)}function sI(){const a=lg();Ze(a);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=a,[n,r]=ku(),{value:o,error:l}=n,{customTextRenderer:h,page:d}=a;function p(){o&&t&&t(o)}function g(){l&&(hn(!1,l.toString()),e&&e(l))}return N.useEffect(function(){r({type:"RESET"})},[r,d]),N.useEffect(function(){if(h||!d)return;const v=md(d.getStructTree()),A=v;return v.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>Ha(A)},[h,d,r]),N.useEffect(()=>{if(o!==void 0){if(o===!1){g();return}p()}},[o]),o?V.jsx(px,{className:"react-pdf__Page__structTree structTree",node:o}):null}const rS=Z_;function iI(a){const e=lg();Ze(e);const t=Object.assign(Object.assign({},e),a),{_className:n,canvasBackground:r,devicePixelRatio:o=VM(),onRenderError:l,onRenderSuccess:h,page:d,renderForms:p,renderTextLayer:g,rotate:y,scale:v}=t,{canvasRef:A}=a;Ze(d);const E=N.useRef(null);function S(){d&&h&&h($v(d,v))}function k(I){GM(I)||(hn(!1,I.toString()),l&&l(I))}const C=N.useMemo(()=>d.getViewport({scale:v*o,rotation:y}),[o,d,y,v]),R=N.useMemo(()=>d.getViewport({scale:v,rotation:y}),[d,y,v]);N.useEffect(function(){if(!d)return;d.cleanup();const{current:j}=E;if(!j)return;j.width=C.width,j.height=C.height,j.style.width=`${Math.floor(R.width)}px`,j.style.height=`${Math.floor(R.height)}px`,j.style.visibility="hidden";const O={annotationMode:p?rS.ENABLE_FORMS:rS.ENABLE,canvasContext:j.getContext("2d",{alpha:!1}),viewport:C};r&&(O.background=r);const z=d.render(O),W=z;return z.promise.then(()=>{j.style.visibility="",S()}).catch(k),()=>Ha(W)},[r,d,p,C,R]);const L=N.useCallback(()=>{const{current:I}=E;I&&(I.width=0,I.height=0)},[]);return N.useEffect(()=>L,[L]),V.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:ux(A,E),style:{display:"block",userSelect:"none"},children:g?V.jsx(sI,{}):null})}function rI(a){return"str"in a}function oI(){const a=lg();Ze(a);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:h,pageNumber:d,rotate:p,scale:g}=a;Ze(l);const[y,v]=ku(),{value:A,error:E}=y,S=N.useRef(null);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function k(){A&&n&&n(A)}function C(){E&&(hn(!1,E.toString()),t&&t(E))}N.useEffect(function(){v({type:"RESET"})},[l,v]),N.useEffect(function(){if(!l)return;const W=md(l.getTextContent()),X=W;return W.promise.then(te=>{v({type:"RESOLVE",value:te})}).catch(te=>{v({type:"REJECT",error:te})}),()=>Ha(X)},[l,v]),N.useEffect(()=>{if(A!==void 0){if(A===!1){C();return}k()}},[A]);const R=N.useCallback(()=>{o&&o()},[o]),L=N.useCallback(z=>{hn(!1,z.toString()),r&&r(z)},[r]);function I(){const z=S.current;z&&z.classList.add("selecting")}function j(){const z=S.current;z&&z.classList.remove("selecting")}const O=N.useMemo(()=>l.getViewport({scale:g,rotation:p}),[l,p,g]);return N.useLayoutEffect(function(){if(!l||!A)return;const{current:W}=S;if(!W)return;W.innerHTML="";const X=l.streamTextContent({includeMarkedContent:!0}),te={container:W,textContentSource:X,viewport:O},se=new tx(te),_e=se;return se.render().then(()=>{const pe=document.createElement("div");pe.className="endOfContent",W.append(pe);const de=W.querySelectorAll('[role="presentation"]');if(e){let Ae=0;A.items.forEach((me,Z)=>{if(!rI(me))return;const G=de[Ae];if(!G)return;const ae=e(Object.assign({pageIndex:h,pageNumber:d,itemIndex:Z},me));G.innerHTML=ae,Ae+=me.str&&me.hasEOL?2:1})}R()}).catch(L),()=>Ha(_e)},[e,L,R,l,h,d,A,O]),V.jsx("div",{className:rg("react-pdf__Page__textContent","textLayer"),onMouseUp:j,onMouseDown:I,ref:S})}function aI(){const a=lx(),e=lg();Ze(e);const t=Object.assign(Object.assign({},a),e),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:d,page:p,pdf:g,renderForms:y,rotate:v,scale:A=1}=t;Ze(g),Ze(p),Ze(r);const[E,S]=ku(),{value:k,error:C}=E,R=N.useRef(null);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){k&&l&&l(k)}function I(){C&&(hn(!1,C.toString()),o&&o(C))}N.useEffect(function(){S({type:"RESET"})},[S,p]),N.useEffect(function(){if(!p)return;const X=md(p.getAnnotations()),te=X;return X.promise.then(se=>{S({type:"RESOLVE",value:se})}).catch(se=>{S({type:"REJECT",error:se})}),()=>{Ha(te)}},[S,p]),N.useEffect(()=>{if(k!==void 0){if(k===!1){I();return}L()}},[k]);function j(){d&&d()}function O(W){hn(!1,`${W}`),h&&h(W)}const z=N.useMemo(()=>p.getViewport({scale:A,rotation:v}),[p,v,A]);return N.useEffect(function(){if(!g||!p||!r||!k)return;const{current:X}=R;if(!X)return;const te=z.clone({dontFlip:!0}),se={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:X,l10n:null,page:p,structTreeLayer:null,viewport:te},_e={annotations:k,annotationStorage:g.annotationStorage,div:X,imageResourcesPath:n,linkService:r,page:p,renderForms:y,viewport:te};X.innerHTML="";try{new J_(se).render(_e),j()}catch(pe){O(pe)}return()=>{}},[k,n,r,p,g,y,z]),V.jsx("div",{className:rg("react-pdf__Page__annotations","annotationLayer"),ref:R})}var lI=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(t[n[r]]=a[n[r]]);return t};const oS=1;function uI(a){const e=lx(),t=Object.assign(Object.assign({},e),a),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:h,className:d,customRenderer:p,customTextRenderer:g,devicePixelRatio:y,error:v="Failed to load the page.",height:A,inputRef:E,loading:S="Loading page…",noData:k="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:R,onGetStructTreeError:L,onGetStructTreeSuccess:I,onGetTextError:j,onGetTextSuccess:O,onLoadError:z,onLoadSuccess:W,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:te,onRenderError:se,onRenderSuccess:_e,onRenderTextLayerError:pe,onRenderTextLayerSuccess:de,pageIndex:Ae,pageNumber:me,pdf:Z,registerPage:G,renderAnnotationLayer:ae=!0,renderForms:ee=!1,renderMode:D="canvas",renderTextLayer:q=!0,rotate:ue,scale:Ee=oS,unregisterPage:Te,width:ve}=t,ye=lI(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ie,He]=ku(),{value:De,error:Bs}=Ie,ur=N.useRef(null);Ze(Z);const Ve=Po(me)?me-1:Ae??null,ot=me??(Po(Ae)?Ae+1:null),Tt=ue??(De?De.rotate:null),wt=N.useMemo(()=>{if(!De)return null;let Us=1;const yi=Ee??oS;if(ve||A){const mo=De.getViewport({scale:1,rotation:Tt});ve?Us=ve/mo.width:A&&(Us=A/mo.height)}return yi*Us},[A,De,Tt,Ee,ve]);N.useEffect(function(){return()=>{Po(Ve)&&r&&Te&&Te(Ve)}},[r,Z,Ve,Te]);function zs(){if(W){if(!De||!wt)return;W($v(De,wt))}if(r&&G){if(!Po(Ve)||!ur.current)return;G(Ve,ur.current)}}function cr(){Bs&&(hn(!1,Bs.toString()),z&&z(Bs))}N.useEffect(function(){He({type:"RESET"})},[He,Z,Ve]),N.useEffect(function(){if(!Z||!ot)return;const yi=md(Z.getPage(ot)),mo=yi;return yi.promise.then(vi=>{He({type:"RESOLVE",value:vi})}).catch(vi=>{He({type:"REJECT",error:vi})}),()=>Ha(mo)},[He,Z,ot]),N.useEffect(()=>{if(De!==void 0){if(De===!1){cr();return}zs()}},[De,wt]);const Mu=N.useMemo(()=>De&&Po(Ve)&&ot&&Po(Tt)&&Po(wt)?{_className:n,canvasBackground:o,customTextRenderer:g,devicePixelRatio:y,onGetAnnotationsError:C,onGetAnnotationsSuccess:R,onGetStructTreeError:L,onGetStructTreeSuccess:I,onGetTextError:j,onGetTextSuccess:O,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:te,onRenderError:se,onRenderSuccess:_e,onRenderTextLayerError:pe,onRenderTextLayerSuccess:de,page:De,pageIndex:Ve,pageNumber:ot,renderForms:ee,renderTextLayer:q,rotate:Tt,scale:wt}:null,[n,o,g,y,C,R,L,I,j,O,X,te,se,_e,pe,de,De,Ve,ot,ee,q,Tt,wt]),go=N.useMemo(()=>sx(ye,()=>De&&(wt?$v(De,wt):void 0)),[ye,De,wt]),gs=`${Ve}@${wt}/${Tt}`;function Iu(){switch(D){case"custom":return Ze(p),V.jsx(p,{},`${gs}_custom`);case"none":return null;case"canvas":default:return V.jsx(iI,{canvasRef:l},`${gs}_canvas`)}}function yd(){return q?V.jsx(oI,{},`${gs}_text`):null}function vd(){return ae?V.jsx(aI,{},`${gs}_annotations`):null}function wd(){return V.jsxs(cx.Provider,{value:Mu,children:[Iu(),yd(),vd(),h]})}function Ad(){return ot?Z===null||De===void 0||De===null?V.jsx(Tl,{type:"loading",children:typeof S=="function"?S():S}):Z===!1||De===!1?V.jsx(Tl,{type:"error",children:typeof v=="function"?v():v}):wd():V.jsx(Tl,{type:"no-data",children:typeof k=="function"?k():k})}return V.jsx("div",Object.assign({className:rg(n,d),"data-page-number":ot,ref:ux(E,ur),style:{"--scale-factor":`${wt}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},go,{children:Ad()}))}WM();ex.workerSrc="pdf.worker.mjs";const cI=()=>{const a=fo(),[e,t]=N.useState([]),[n,r]=N.useState([]),[o,l]=N.useState(""),[h,d]=N.useState(""),p=TR(),[g,y]=N.useState(null),[v,A]=N.useState("");N.useState("");const[E,S]=N.useState(!1);N.useState([]);const[k,C]=N.useState([]),R=O=>{const z=Array.from(O.target.files);t(z),r(z.map(W=>URL.createObjectURL(W)))},L=({numPages:O})=>{y(O)},I=async()=>{if(!v.trim()){alert("Please enter a question");return}if(e.length===0){alert("Please upload a file first");return}try{S(!0);const O=new FormData;O.append("question",v),e.length>0&&O.append("file",e[0]);const z=await nt.post("http://localhost:3000/ask-ai",O,{headers:{"Content-Type":"multipart/form-data"}}),W={id:new Date().getTime(),question:v,answer:z.data.aiResponse||"No response"};C(X=>[...X,W]),A("")}catch(O){console.error("GPT API Error:",O)}finally{S(!1)}},j=async O=>{if(O.preventDefault(),e.length===0){d("No files selected");return}const z=new FormData;e.forEach(W=>z.append("photos",W));try{const W=localStorage.getItem("token"),X=await nt.post("http://localhost:3000/upload",z,{headers:{Authorization:`Bearer ${W}`,"Content-Type":"multipart/form-data"}});console.log("Response:",X),X.status===200?(console.log("File uploaded successfully"),t([]),r([]),d(""),a("/success")):console.error("Upload failed with status:",X.status)}catch(W){console.log(W.message),d("Error uploading files"),l("")}};return V.jsxs("div",{children:[V.jsx(CR,{user:p})," ",V.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen flex flex-col items-center",children:[V.jsx("form",{onSubmit:j,className:"upload-form",children:V.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[V.jsx("input",{type:"file",onChange:R}),V.jsx("button",{type:"submit",className:"upload-button",children:"LOAD FILE"})]})}),V.jsxs("div",{className:"flex w-full max-w-4xl space-x-6",children:[V.jsx("div",{className:"w-1/2 border p-2 bg-white rounded-lg",children:n.length>0&&V.jsx("div",{children:n.map((O,z)=>e[z].type==="application/pdf"?V.jsx(JM,{file:O,onLoadSuccess:L,children:Array.from(new Array(g),(W,X)=>V.jsx(uI,{pageNumber:X+1},X))},z):e[z].type.startsWith("image")?V.jsx("img",{src:O,alt:"Uploaded Preview",className:"w-full h-auto"},z):V.jsxs("p",{className:"text-sm text-gray-600",children:["Uploaded file: ",e[z].name]},z))})}),V.jsxs("div",{className:"w-1/2 flex flex-col p-6 bg-white shadow-lg",children:[V.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Chat with AI"}),V.jsxs("div",{className:"flex-1 overflow-auto space-y-4 p-4 border rounded-lg bg-gray-50 h-[500px]",children:[k.map(O=>V.jsxs("div",{className:"flex flex-col space-y-2",children:[O.question&&V.jsx("div",{className:"flex justify-end",children:V.jsx("div",{className:"bg-blue-500 text-black p-3 rounded-lg max-w-xs text-right",children:O.question})}),O.answer&&V.jsx("div",{className:"flex justify-start",children:V.jsx("div",{className:"bg-gray-300 text-black p-3 rounded-lg max-w-xs text-left",children:O.answer})})]},O.id)),E&&V.jsx("p",{className:"text-gray-500",children:"AI is thinking..."})]}),V.jsxs("div",{className:"mt-4 flex",children:[V.jsx("input",{type:"text",value:v,onChange:O=>A(O.target.value),className:"flex-1 p-2 border rounded-lg",placeholder:"Ask a question..."}),V.jsx("button",{onClick:I,className:"ml-2 bg-blue-500 text-white p-2 rounded-lg",disabled:E,children:E?"Thinking...":"Send"})]})]})]})]})]})},hI=()=>{const[a,e]=N.useState(""),[t,n]=N.useState(""),r=async o=>{o.preventDefault();try{const l=await nt.post("http://localhost:3000/auth/forgot-password",{email:a});n(l.data.message)}catch(l){n(l.response.data.message)}};return V.jsx("div",{className:"flex justify-center items-center h-screen",children:V.jsxs("div",{className:"w-full max-w-md",children:[V.jsx("h1",{className:"text-2xl mb-4",children:"Forgot Password"}),V.jsxs("form",{onSubmit:r,children:[V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:"email",className:"block text-gray-700",children:"Email"}),V.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full px-3 py-2 border",value:a,onChange:o=>e(o.target.value),required:!0})]}),V.jsx("button",{className:"w-full bg-green-600 text-white py-2",children:"Send Reset Link"})]}),t&&V.jsx("p",{className:"mt-4 text-center",children:t})]})})},dI=()=>{const{token:a}=Q1(),[e,t]=N.useState(""),[n,r]=N.useState(""),[o,l]=N.useState(""),h=fo(),d=async g=>{g.preventDefault();try{const y=await nt.post(`http://localhost:3000/auth/reset-password/${a}`,{newPassword:e,confirmPassword:n});y.status===200&&h("/login"),l(y.data.message)}catch(y){l(y.response.data.message)}},p=g=>{r(g.target.value),e!==g.target.value?l("Passwords do not match"):l("")};return V.jsx("div",{className:"flex justify-center items-center h-screen",children:V.jsxs("div",{className:"w-full max-w-md",children:[V.jsx("h1",{className:"text-2xl mb-4",children:"Reset Password"}),V.jsxs("form",{onSubmit:d,children:[V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:"newPassword",className:"block text-gray-700",children:"New Password"}),V.jsx("input",{type:"password",placeholder:"Enter new password",className:"w-full px-3 py-2 border",value:e,onChange:g=>t(g.target.value),required:!0})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{htmlFor:"confirmPassword",className:"block text-gray-700",children:"Confirm Password"}),V.jsx("input",{type:"password",placeholder:"Confirm new password",className:"w-full px-3 py-2 border",value:n,onChange:p,required:!0})]}),V.jsx("button",{className:"w-full bg-green-600 text-white py-2",children:"Reset Password"})]}),o&&V.jsx("p",{className:"mt-4 text-center",children:o})]})})};function fI(){return V.jsx(Dk,{children:V.jsxs(dk,{children:[V.jsx(Pr,{path:"/",element:V.jsx(Gk,{})}),V.jsx(Pr,{path:"/register",element:V.jsx(SR,{})}),V.jsx(Pr,{path:"/login",element:V.jsx(bR,{})}),V.jsx(Pr,{path:"/upload",element:V.jsx(cI,{})}),V.jsx(Pr,{path:"/success",element:V.jsx(_R,{})}),V.jsx(Pr,{path:"/forgot-password",element:V.jsx(hI,{})}),V.jsx(Pr,{path:"/reset-password/:token",element:V.jsx(dI,{})})]})})}E1.createRoot(document.getElementById("root")).render(V.jsx(N.StrictMode,{children:V.jsx(fI,{})}));
